/*! For license information please see main.889d7272.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(418),i=n(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<n;){const r=e[a];s?"\\"===r&&a+1<n?(a++,o+=e[a]):r===s?s="":o+=r:l?'"'===r||"'"===r?s=r:"]"===r?(l=!1,t.push(o),o=""):o+=r:"["===r?(l=!0,o&&(t.push(o),o="")):"."===r?o&&(t.push(o),o=""):o+=r,a++}return o&&t.push(o),t}},1805:(e,t,n)=>{e.exports=n(6249).maxBy},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(8268),a=n(870),o=n(4803),s=n(9972);function l(e,t,n,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,i);case"function":return Object.keys(t).length>0?l(e,r({},t),n,i):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?i.isMatch(e,t):l(e,t,function e(t,r,i,a,o,s){const c=n(t,r,i,a,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2302:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.maxBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n);for(let i=1;i<e.length;i++){const a=e[i],o=t(a);o>r&&(r=o,n=a)}return n}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var w=b.prototype=new x;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function N(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+A(e,0):a,_(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),C(o,t,i,"",function(e){return e})):null!=o&&(j(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=N(l.type,c,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(_(e))for(var f=0;f<e.length;f++)u+=C(a=e[f],t,i,s=p+A(a,f),o);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=C(a=a.value,t,i,s=p+A(a,f++),o);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:k,forEach:function(e,t,n){k(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=O,t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!M.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return N(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)M.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return N(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,R)}catch(a){R(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,p=60116,m=60121,f=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),a=x("react.strict_mode"),o=x("react.profiler"),s=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),p=x("react.lazy"),m=x("react.block"),f=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return b(e)===i}},5099:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5587),i=n(9599),a=n(2715);t.minBy=function(e,t){if(null!=e)return r.minBy(Array.from(e),a.iteratee(null!==t&&void 0!==t?t:i.identity))}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,o,s)=>{const l=null===t||void 0===t?void 0:t(n,a,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5587:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.minBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n);for(let i=1;i<e.length;i++){const a=e[i],o=t(a);o<r&&(r=o,n=a)}return n}},5670:(e,t)=>{class n{constructor(e){this.character=e.character,this.intents=e.intents,this.keywords=e.keywords,this.inputs=e.inputs,this.emotions=e.emotions,this.trustSystem=e.trust,this.conversationHistory=[],this.trustLevel=this.trustSystem.base_level,this.currentEmotion=this.character.personality_traits.baseline_emotion,this.topicsCovered=[],this.voiceStyles={default:{rate:.9,pitch:.9,volume:1},formal:{rate:.85,pitch:.95,volume:1},casual:{rate:1,pitch:.85,volume:.9},emotional:{rate:.75,pitch:1.1,volume:1},technical:{rate:1.1,pitch:.9,volume:1}}}processInput(e){const t=e.toLowerCase().trim(),n=this.recognizeIntent(t),r=this.selectResponse(n);this.updateState(n,r),this.conversationHistory.push({user:e,intent:n,response:r.text,emotion:r.emotion,timestamp:(new Date).toISOString()});const i=this.determineVoiceStyle(n,r.emotion),a=this.getVoiceParameters(r.emotion,i);return{text:r.text,emotion:r.emotion,trustLevel:this.trustLevel,animation:this.getAnimationForEmotion(r.emotion),voiceParams:a}}recognizeIntent(e){const t=e.split(" ");for(const a of this.inputs)if(a.normalized===e)return a.intent;const n={};t.forEach(e=>{this.keywords[e]&&this.keywords[e].forEach(e=>{n[e]=(n[e]||0)+1})});let r="general_unclear",i=0;for(const[a,o]of Object.entries(n))o>i&&(i=o,r=a);if(0===i)for(const a of this.inputs){if(this.calculateSimilarity(e,a.normalized)>.6)return a.intent}return r}calculateSimilarity(e,t){const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(0===n.length)return 1;const i=this.levenshteinDistance(n,r);return(n.length-i)/n.length}levenshteinDistance(e,t){const n=[];for(let r=0;r<=t.length;r++)n[r]=[r];for(let r=0;r<=e.length;r++)n[0][r]=r;for(let r=1;r<=t.length;r++)for(let i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,n[r][i-1]+1,n[r-1][i]+1);return n[t.length][e.length]}selectResponse(e){const t=this.intents[e];if(!t)return{text:"I'm sorry, I didn't quite catch that. Could you rephrase your question?",emotion:"confused",trust_impact:0};if(!this.checkContextRequirements(t.context_required))return{text:"I'd be happy to help with that, but could we discuss some basics first?",emotion:"cooperative",trust_impact:0};const n=t.responses;let r;return r=1===n.length||this.trustLevel>60?n[0]:this.trustLevel>30?n[Math.min(1,n.length-1)]:n[n.length-1],r.text=this.addNaturalVariation(r.text),r}checkContextRequirements(e){if(!e||0===e.length)return!0;for(const t of e){if("initial_greeting_done"===t&&!this.topicsCovered.includes("greeting"))return!1;if("what_happened_discussed"===t&&!this.topicsCovered.includes("what_happened"))return!1}return!0}updateState(e,t){t.trust_impact&&(this.trustLevel=Math.max(0,Math.min(100,this.trustLevel+t.trust_impact))),t.emotion&&(this.currentEmotion=t.emotion),this.topicsCovered.includes(e)||this.topicsCovered.push(e)}addNaturalVariation(e){const t=this.character.speech_patterns;if(Math.random()<.15){const n=t.filler_words,r=n[Math.floor(Math.random()*n.length)];e=e.replace(/^/,r+", ")}return e}getAnimationForEmotion(e){return{grateful:"slight_smile",vulnerable:"look_down_emotional",defensive:"direct_eye_contact",defensive_but_calm:"steady_gaze",hopeful:"slight_smile_forward_lean",cooperative:"nodding",anxious:"fidget_hands",confused:"slight_head_tilt",neutral:"idle",earnest:"forward_lean",resigned:"slight_shrug",proud_but_worried:"mixed_expression",logical:"explaining_gesture",apologetic:"look_down_briefly"}[e]||"idle"}determineVoiceStyle(e,t){return["bail_conditions","passport_surrender","surety_inquiry"].includes(e)?"formal":["family_inquiry","wellbeing_check","guilt_question"].includes(e)?"emotional":["what_happened","employment_history","witness_inquiry"].includes(e)?"technical":["vulnerable","hopeful","grateful"].includes(t)?"emotional":["defensive","defensive_but_calm"].includes(t)?"formal":"default"}getVoiceParameters(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";const n=this.voiceStyles[t]||this.voiceStyles.default,r={vulnerable:{rate:.7,pitch:.8,volume:.8},defensive:{rate:1,pitch:1,volume:1},anxious:{rate:1.1,pitch:1,volume:.9},grateful:{rate:.85,pitch:.95,volume:.95},hopeful:{rate:.9,pitch:1,volume:1},confused:{rate:.8,pitch:.9,volume:.9}}[e]||{};return{rate:r.rate||n.rate,pitch:r.pitch||n.pitch,volume:r.volume||n.volume}}getSummary(){return{totalExchanges:this.conversationHistory.length,trustLevel:this.trustLevel,currentEmotion:this.currentEmotion,topicsCovered:this.topicsCovered,keyFactsGathered:this.extractKeyFacts()}}extractKeyFacts(){const e=[];return this.conversationHistory.forEach(t=>{"what_happened"===t.intent&&e.push("Incident details explained"),"witness_inquiry"===t.intent&&e.push("Witness Prakash identified"),"family_inquiry"===t.intent&&e.push("Family situation documented"),"surety_inquiry"===t.intent&&e.push("Sureties identified"),"passport_surrender"===t.intent&&e.push("Passport surrender agreed"),"bail_conditions"===t.intent&&e.push("Bail conditions accepted")}),e}reset(){this.conversationHistory=[],this.trustLevel=this.trustSystem.base_level,this.currentEmotion=this.character.personality_traits.baseline_emotion,this.topicsCovered=[]}generateJarvisStyleResponse(e,t){const n=Math.min(100,Math.max(0,this.trustLevel+20));return n>80?e:n>50?"I believe "+e.toLowerCase():"I think "+e.toLowerCase()}}e.exports&&(e.exports=n),t.default=n,t.RajeshConversationEngine=n},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,E||(E=!0,S());else{var t=r(u);null!==t&&P(_,t.startTime-e)}}var S,E=!1,M=-1,N=5,j=-1;function T(){return!!v||!(t.unstable_now()-j<N)}function A(){if(v=!1,E){var e=t.unstable_now();j=e;var n=!0;try{e:{f=!1,g&&(g=!1,x(M),M=-1),m=!0;var a=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,k=C.port2;C.port1.onmessage=A,S=function(){k.postMessage(null)}}else S=function(){y(A,0)};function P(e,n){M=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(x(M),M=-1):g=!0,P(_,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6249:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2302),i=n(9599),a=n(2715);t.maxBy=function(e,t){if(null!=e)return r.maxBy(Array.from(e),a.iteratee(null!==t&&void 0!==t?t:i.identity))}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var k=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===k?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},I=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=I[F],I[F]=null,F--)}function B(e,t){F++,I[F]=e.current,e.current=t}var V,H,W=U(null),G=U(null),q=U(null),K=U(null);function X(e,t){switch(B(q,t),B(G,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(W),B(W,e)}function Y(){z(W),z(G),z(q)}function J(e){null!==e.memoizedState&&B(K,e);var t=W.current,n=yd(t,e.type);t!==n&&(B(G,e),B(W,n))}function Z(e){G.current===e&&(z(W),z(G)),K.current===e&&(z(K),uh._currentValue=D)}function $(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+H}var Q=!1;function ee(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,me=r.unstable_IdlePriority,fe=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof fe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/_e|0)|0},we=Math.log,_e=Math.LN2;var Se=256,Ee=262144,Me=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Ne(r):0!==(o&=s)?i=Ne(o):n||0!==(n=s&~e)&&(i=Ne(n)):0!==(s=r&~a)?i=Ne(s):0!==o?i=Ne(o):n||0!==(n=r&~e)&&(i=Ne(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Me;return 0===(62914560&(Me<<=1))&&(Me=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Nh(e.type)}function Ue(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var ze=Math.random().toString(36).slice(2),Be="__reactFiber$"+ze,Ve="__reactProps$"+ze,He="__reactContainer$"+ze,We="__reactEvents$"+ze,Ge="__reactListeners$"+ze,qe="__reactHandles$"+ze,Ke="__reactResources$"+ze,Xe="__reactMarker$"+ze;function Ye(e){delete e[Be],delete e[Ve],delete e[We],delete e[Ge],delete e[qe]}function Je(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[Be])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Qe(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Xe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(ot,i)&&(at.test(i)?st[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,dt(t)):null!=n?bt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function xt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),pt(e)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Mt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Mt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Nt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Nt(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Dt=null;function It(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==Dt)&&(Qc(),Lt&&(t=Lt,e=Dt,Dt=Lt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zh){Vt=!1}var Wt=null,Gt=null,qt=null;function Kt(){if(qt)return qt;var e,t,n=Gt,r=n.length,i="value"in Wt?Wt.value:Wt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var $t,Qt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=p({},tn,{view:0,detail:0}),an=Zt(rn),on=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Qt=e.screenY-en.screenY):Qt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),sn=Zt(on),ln=Zt(p({},on,{dataTransfer:0})),cn=Zt(p({},rn,{relatedTarget:0})),un=Zt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Zt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return gn}var yn=Zt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Zt(p({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Zt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=Zt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Zt(p({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Zt(p({},tn,{newState:0,oldState:0})),En=[9,13,27,32],Mn=Bt&&"CompositionEvent"in window,Nn=null;Bt&&"documentMode"in document&&(Nn=document.documentMode);var jn=Bt&&"TextEvent"in window&&!Nn,Tn=Bt&&(!Mn||Nn&&8<Nn&&11>=Nn),An=String.fromCharCode(32),Cn=!1;function kn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Dn(e,t,n,r){Lt?Dt?Dt.push(r):Dt=[r]:Lt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var In=null,Fn=null;function Un(e){Yu(e,0)}function zn(e){if(mt($e(e)))return e}function Bn(e,t){if("change"===e)return t}var Vn=!1;if(Bt){var Hn;if(Bt){var Wn="oninput"in document;if(!Wn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Wn="function"===typeof Gn.oninput}Hn=Wn}else Hn=!1;Vn=Hn&&(!document.documentMode||9<document.documentMode)}function qn(){In&&(In.detachEvent("onpropertychange",Kn),Fn=In=null)}function Kn(e){if("value"===e.propertyName&&zn(Fn)){var t=[];Dn(t,Fn,e,Ot(e)),Ut(Un,t)}}function Xn(e,t,n){"focusin"===e?(qn(),Fn=n,(In=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&qn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Fn)}function Jn(e,t){if("click"===e)return zn(t)}function Zn(e,t){if("input"===e||"change"===e)return zn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Bt&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==ft(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Qn(lr,r)||(lr=r,0<(r=rd(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},mr={};function fr(e){if(pr[e])return pr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=fr("animationend"),vr=fr("animationiteration"),yr=fr("animationstart"),xr=fr("transitionrun"),br=fr("transitionstart"),wr=fr("transitioncancel"),_r=fr("transitionend"),Sr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Sr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Nr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},jr=[],Tr=0,Ar=0;function Cr(){for(var e=Tr,t=Ar=Tr=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var i=jr[t];jr[t++]=null;var a=jr[t];if(jr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Or(n,i,a)}}function kr(e,t,n,r){jr[Tr++]=e,jr[Tr++]=t,jr[Tr++]=n,jr[Tr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return kr(e,t,n,r),Lr(e)}function Rr(e,t){return kr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<Wc)throw Wc=0,Gc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Ir(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Ur(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Fr(31,n,t,i)).elementType=j,e.lanes=a,e;case v:return Hr(n.children,i,a,t);case y:s=8,i|=24;break;case x:return(e=Fr(12,n,t,2|i)).elementType=x,e.lanes=a,e;case S:return(e=Fr(13,n,t,i)).elementType=S,e.lanes=a,e;case E:return(e=Fr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case b:s=9;break e;case _:s=11;break e;case M:s=14;break e;case N:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Gr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Xr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Jr=0,Zr=null,$r=0,Qr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Jr++]=$r,Yr[Jr++]=Zr,Zr=e,$r=t}function ai(e,t,n){Qr[ei++]=ni,Qr[ei++]=ri,Qr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-be(r)-1;r&=~(1<<i),n+=1;var a=32-be(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-be(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function si(e){for(;e===Zr;)Zr=Yr[--Jr],Yr[Jr]=null,$r=Yr[--Jr],Yr[Jr]=null;for(;e===ti;)ti=Qr[--ei],Qr[ei]=null,ri=Qr[--ei],Qr[ei]=null,ni=Qr[--ei],Qr[ei]=null}function li(e,t){Qr[ei++]=ni,Qr[ei++]=ri,Qr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,pi=!1,mi=Error(o(519));function fi(e){throw wi(Xr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[Ve]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Ju(Ku[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||fi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xd(e.type,e.memoizedProps)),t=!t),t&&ui&&fi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Ld(e)}else 27===n?(n=ui,Nd(e.type)?(e=Od,Od=null,ui=e):ui=n):ui=ci?Rd(e.stateNode.nextSibling):null;return!0}function xi(){ui=ci=null,di=!1}function bi(){var e=hi;return null!==e&&(null===Cc?Cc=e:Cc.push.apply(Cc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var _i=U(null),Si=null,Ei=null;function Mi(e,t,n){B(_i,t._currentValue),t._currentValue=n}function Ni(e){e._currentValue=_i.current,z(_i)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),ji(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ai(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;$n(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ti(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Si=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Oi(Si,e)}function Ri(e,t){return null===Si&&ki(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(o(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Di=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Fi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Di(Ii,function(){e.controller.abort()})}var Bi=null,Vi=0,Hi=0,Wi=null;function Gi(){if(0===--Vi&&null!==Bi){null!==Wi&&(Wi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qi=O.S;O.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];Vi=0,Hi=Vu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vi++,t.then(Gi,Gi)}(0,t),null!==qi&&qi(e,t)};var Ki=U(null);function Xi(){var e=Ki.current;return null!==e?e:mc.pooledCache}function Yi(e,t){B(Ki,null===t?Ki.current:t.pool)}function Ji(){var e=Xi();return null===e?null:{parent:Fi._currentValue,pool:e}}var Zi=Error(o(460)),$i=Error(o(474)),Qi=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ia=t,Zi}}function ra(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ia=t,Zi;throw t}}var ia=null;function aa(){if(null===ia)throw Error(o(459));var e=ia;return ia=null,e}function oa(e){if(e===Zi||e===Qi)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===m)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&ra(a)===t.type)?(ua(t=i(t,n.props),n),t.return=e,t):(ua(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ua(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=qr(t,e.mode,n)).return=e,t;case N:return h(e,t=ra(t),n)}if(R(t)||C(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),n);if(t.$$typeof===w)return h(e,Ri(e,t),n);da(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case N:return p(e,t,n=ra(n),r)}if(R(n)||C(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ca(n),r);if(n.$$typeof===w)return p(e,t,Ri(e,n),r);da(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return m(e,t,n,r=ra(r),i)}if(R(r)||C(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return m(e,t,n,ca(r),i);if(r.$$typeof===w)return m(e,t,n,Ri(t,r),i);da(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===N&&ra(x)===c.type){n(l,c.sibling),ua(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return s(l);case N:return y(l,c,u=ra(u),d)}if(R(u))return function(i,o,s,l){for(var c=null,u=null,d=o,f=o=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=p(i,d,s[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===s.length)return n(i,d),di&&ii(i,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(i,s[f],l))&&(o=a(d,o,f),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,f),c}for(d=r(d);f<s.length;f++)null!==(g=m(d,i,f,s[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=a(g,o,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,f),c}(l,c,u,d);if(C(u)){if("function"!==typeof(x=C(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,f=s,g=s=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=p(i,f,y.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&t(i,f),s=a(x,s,g),null===d?u=x:d.sibling=x,d=x,f=v}if(y.done)return n(i,f),di&&ii(i,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,g),u}for(f=r(f);!y.done;g++,y=l.next())null!==(y=m(f,i,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,ca(u),d);if(u.$$typeof===w)return y(l,c,Ri(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{la=0;var i=y(e,t,n,r);return sa=null,i}catch(o){if(o===Zi||o===Qi)throw o;var a=Fr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=ha(!0),ma=ha(!1),fa=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return kr(e,r,t,n),Lr(e)}function ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function wa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _a=!1;function Sa(){if(_a){if(null!==Wi)throw Wi}}function Ea(e,t,n,r){_a=!1;var i=e.updateQueue;fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,m=h!==s.lane;if(m?(gc&h)===h:(r&h)===h){0!==h&&h===Hi&&(_a=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(v,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(v,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:fa=!0}}null!==(h=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(m=s).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Ec|=o,e.lanes=o,e.memoizedState=d}}function Ma(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Na(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ma(n[e],t)}var ja=U(null),Ta=U(0);function Aa(e,t){B(Ta,e=_c),B(ja,t),_c=e|t.baseLanes}function Ca(){B(Ta,_c),B(ja,ja.current)}function ka(){_c=Ta.current,z(ja),z(Ta)}var Pa=U(null),Ra=null;function Oa(e){var t=e.alternate;B(Ua,1&Ua.current),B(Pa,e),null===Ra&&(null===t||null!==ja.current||null!==t.memoizedState)&&(Ra=e)}function La(e){B(Ua,Ua.current),B(Pa,e),null===Ra&&(Ra=e)}function Da(e){22===e.tag?(B(Ua,Ua.current),B(Pa,e),null===Ra&&(Ra=e)):Ia()}function Ia(){B(Ua,Ua.current),B(Pa,Pa.current)}function Fa(e){z(Pa),Ra===e&&(Ra=null),z(Ua)}var Ua=U(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||kd(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,Va=null,Ha=null,Wa=null,Ga=!1,qa=!1,Ka=!1,Xa=0,Ya=0,Ja=null,Za=0;function $a(){throw Error(o(321))}function Qa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){return Ba=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?gs:vs,Ka=!1,a=n(r,i),Ka=!1,qa&&(a=no(t,n,r,i)),to(e),a}function to(e){O.H=fs;var t=null!==Ha&&null!==Ha.next;if(Ba=0,Wa=Ha=Va=null,Ga=!1,Ya=0,Ja=null,t)throw Error(o(300));null===e||Rs||null!==(e=e.dependencies)&&Ci(e)&&(Rs=!0)}function no(e,t,n,r){Va=e;var i=0;do{if(qa&&(Ja=null),Ya=0,qa=!1,25<=i)throw Error(o(301));if(i+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=ys,a=t(n,r)}while(qa);return a}function ro(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Va.flags|=1024),t}function io(){var e=0!==Xa;return Xa=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ga){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ga=!1}Ba=0,Wa=Ha=Va=null,qa=!1,Ya=Xa=0,Ja=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function lo(){if(null===Ha){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?Va.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===Va.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function co(e){var t=Ya;return Ya+=1,null===Ja&&(Ja=[]),e=na(Ja,e,t),t=Va,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?gs:vs),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===w)return Pi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Va.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Va.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function po(e,t){return"function"===typeof t?t(e):t}function mo(e){return fo(lo(),Ha,e)}function fo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Ba&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ba&p)===p){u=u.next,p===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Va.lanes|=p,Ec|=p}h=u.action,Ka&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,Va.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!$n(a,e.memoizedState)&&(Rs=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);$n(a,t.memoizedState)||(Rs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vo(e,t,n){var r=Va,i=lo(),a=di;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!$n((Ha||i).memoizedState,n);if(s&&(i.memoizedState=n,Rs=!0),i=i.queue,Vo(bo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Wa&&1&Wa.memoizedState.tag){if(r.flags|=2048,Io(9,{destroy:void 0},xo.bind(null,r,i,n,t),null),null===mc)throw Error(o(349));a||0!==(127&Ba)||yo(r,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,wo(t)&&_o(e)}function bo(e,t,n){return n(function(){wo(t)&&_o(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function _o(e){var t=Rr(e,2);null!==t&&Xc(t,e,2)}function So(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),Ka){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function Eo(e,t,n,r){return e.baseState=n,fo(e,Ha,"function"===typeof r?r:po)}function Mo(e,t,n,r,i){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,No(t,a)):(a.next=n.next,t.pending=n.next=a)}}function No(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,o={};O.T=o;try{var s=n(i,r),l=O.S;null!==l&&l(o,s),jo(e,t,s)}catch(c){Ao(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),O.T=a}}else try{jo(e,t,a=n(i,r))}catch(u){Ao(e,t,u)}}function jo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){To(e,t,n)},function(n){return Ao(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Co(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,No(e,n)))}function Ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Co(t),t=t.next}while(t!==r)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ko(e,t){return t}function Po(e,t){if(di){var n=mc.formState;if(null!==n){e:{var r=Va;if(di){if(ui){t:{for(var i=ui,a=pi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Rd(i.nextSibling),r="F!"===i.data;break e}}fi(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},n.queue=r,n=cs.bind(null,Va,r),r.dispatch=n,r=So(!1),a=ds.bind(null,Va,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=i,n=Mo.bind(null,Va,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ro(e){return Oo(lo(),Ha,e)}function Oo(e,t,n){if(t=fo(e,t,ko)[0],e=mo(po)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(o){if(o===Zi)throw Qi;throw o}else r=t;var i=(t=lo()).queue,a=i.dispatch;return n!==t.memoizedState&&(Va.flags|=2048,Io(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,a,e]}function Lo(e,t){e.action=t}function Do(e){var t=lo(),n=Ha;if(null!==n)return Oo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Io(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return lo().memoizedState}function Uo(e,t,n,r){var i=so();Va.flags|=e,i.memoizedState=Io(1|t,{destroy:void 0},n,void 0===r?null:r)}function zo(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&Qa(r,Ha.memoizedState.deps)?i.memoizedState=Io(t,a,n,r):(Va.flags|=e,i.memoizedState=Io(1|t,a,n,r))}function Bo(e,t){Uo(8390656,8,e,t)}function Vo(e,t){zo(2048,8,e,t)}function Ho(e){var t=lo().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function qo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,qo.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Qa(t,r[1]))return r[0];if(r=e(),Ka){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||0!==(1073741824&Ba)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Va.lanes|=e,Ec|=e,n)}function $o(e,t,n,r){return $n(n,t)?n:null!==ja.current?(e=Zo(e,n,r),$n(e,t)||(Rs=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&gc)?(Rs=!0,e.memoizedState=n):(e=Kc(),Va.lanes|=e,Ec|=e,t)}function Qo(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var o=O.T,s={};O.T=s,ds(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),qc());else us(e,t,r,qc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},qc())}finally{L.p=a,null!==o&&null!==s.types&&(o.types=s.types),O.T=o}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ns(e).queue;Qo(e,i,t,D,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},qc())}function is(){return Pi(uh)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=qc(),r=xa(t,e=ya(n),n);return null!==r&&(Xc(r,t,n),ba(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=qc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?ps(t,n):null!==(n=Pr(e,t,n,r))&&(Xc(n,e,r),ms(n,t,r))}function cs(e,t,n){us(e,t,n,qc())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))ps(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,$n(s,o))return kr(e,t,i,0),null===mc&&Cr(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Xc(n,e,r),ms(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:Vu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Pr(e,n,r,2))&&Xc(t,e,2)}function hs(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function ps(e,t){qa=Ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ms(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var fs={readContext:Pi,use:uo,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};fs.useEffectEvent=$a;var gs={readContext:Pi,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if(Ka){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var i=n(t);if(Ka){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=cs.bind(null,Va,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xo,useDeferredValue:function(e,t){return Zo(so(),e,t)},useTransition:function(){var e=So(!1);return e=Qo.bind(null,Va,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Va,i=so();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mc)throw Error(o(349));0!==(127&gc)||yo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Bo(bo.bind(null,r,a,e),[e]),r.flags|=2048,Io(9,{destroy:void 0},xo.bind(null,r,a,n,t),null),n},useId:function(){var e=so(),t=mc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-be(ni)-1)).toString(32)+n),0<(n=Xa++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Za++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Po,useActionState:Po,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Va,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Va)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Pi,use:uo,useCallback:Yo,useContext:Pi,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:mo,useRef:Fo,useState:function(){return mo(po)},useDebugValue:Xo,useDeferredValue:function(e,t){return $o(lo(),Ha.memoizedState,e,t)},useTransition:function(){var e=mo(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){return Eo(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};vs.useEffectEvent=Ho;var ys={readContext:Pi,use:uo,useCallback:Yo,useContext:Pi,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:go,useRef:Fo,useState:function(){return go(po)},useDebugValue:Xo,useDeferredValue:function(e,t){var n=lo();return null===Ha?Zo(n,e,t):$o(n,Ha.memoizedState,e,t)},useTransition:function(){var e=go(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:as,useHostTransitionStatus:is,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){var n=lo();return null!==Ha?Eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function xs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=Ho;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qc(),i=ya(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xa(e,i,r))&&(Xc(t,e,r),ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qc(),i=ya(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xa(e,i,r))&&(Xc(t,e,r),ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qc(),r=ya(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xa(e,r,n))&&(Xc(t,e,n),ba(t,e,n))}};function ws(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,a))}function _s(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Es(e){Nr(e)}function Ms(e){console.error(e)}function Ns(e){Nr(e)}function js(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function As(e,t,n){return(n=ya(n)).tag=3,n.payload={element:null},n.callback=function(){js(e,t)},n}function Cs(e){return(e=ya(e)).tag=3,e}function ks(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ts(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ts(t,n,r),"function"!==typeof i&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ps=Error(o(461)),Rs=!1;function Os(e,t,n,r){t.child=null===e?ma(t,null,n,r):pa(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return ki(t),r=eo(e,t,n,o,a,i),s=io(),null===e||Rs?(di&&s&&oi(t),t.flags|=1,Os(e,t,r,i),t.child):(ao(e,t,i),il(e,t,i))}function Ds(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,!al(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=zr(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Qn(a,r)&&e.ref===t.ref){if(Rs=!1,t.pendingProps=r=a,!al(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Rs=!0)}}return Ws(e,t,n,r,i)}function Fs(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return zs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):Ca(),Da(t)}else null!==a?(Yi(0,a.cachePool),Aa(t,a),Ia(),t.memoizedState=null):(null!==e&&Yi(0,null),Ca(),Ia());return Os(e,t,i,n),t.child}function Us(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zs(e,t,n,r,i){var a=Xi();return a=null===a?null:{parent:Fi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Yi(0,null),Ca(),Da(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Bs(e,t){return(t=Qs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vs(e,t,n){return pa(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,Fa(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ws(e,t,n,r,i){return ki(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Rs?(di&&r&&oi(t),t.flags|=1,Os(e,t,n,i),t.child):(ao(e,t,i),il(e,t,i))}function Gs(e,t,n,r,i,a){return ki(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Rs?(di&&r&&oi(t),t.flags|=1,Os(e,t,n,a),t.child):(ao(e,t,a),il(e,t,a))}function qs(e,t,n,r,i){if(ki(t),null===t.stateNode){var a=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Pi(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=bs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ga(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Pi(o):Dr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(xs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&bs.enqueueReplaceState(a,a.state,null),Ea(t,r,a,i),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);a.props=l;var c=a.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=Pi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&_s(t,a,r,o),fa=!1;var h=t.memoizedState;a.state=h,Ea(t,r,a,i),Sa(),c=t.memoizedState,s||h!==c||fa?("function"===typeof d&&(xs(t,n,d,r),c=t.memoizedState),(l=fa||ws(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,va(e,t),u=Ss(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Pi(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&_s(t,a,r,l),fa=!1,h=t.memoizedState,a.state=h,Ea(t,r,a,i),Sa();var p=t.memoizedState;o!==d||h!==p||fa||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof s&&(xs(t,n,s,r),p=t.memoizedState),(u=fa||ws(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Hs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Os(e,t,n,i),t.memoizedState=a.state,e=t.child):e=il(e,t,i),e}function Ks(e,t,n,r){return xi(),t.flags|=256,Os(e,t,n,r),t.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Ji()}}function Js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=jc),e}function Zs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Oa(t):Ia(),(e=ui)?null!==(e=null!==(e=Cd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw fi(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Ia(),l=Qs({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ys(n),i.childLanes=Js(e,r,n),t.memoizedState=Xs,Us(null,i)):(Oa(t),$s(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Oa(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),l=i.fallback,a=t.mode,i=Qs({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,pa(t,e.child,null,n),(i=t.child).memoizedState=Ys(n),i.childLanes=Js(e,r,n),t.memoizedState=Xs,t=Us(null,i));else if(Oa(t),Pd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Rs||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Rs||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Xc(r,e,i),Ps;kd(l)||ou(),t=el(e,t,n)}else kd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Rd(l.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=$s(t,i.children)).flags|=4096);return t}return a?(Ia(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Us(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(a=l.cachePool)?(c=Fi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ji(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Js(e,r,n),t.memoizedState=Xs,Us(e.child,i)):(Oa(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qs(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function el(e,t,n){return pa(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function nl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Ua.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,B(Ua,o),Os(e,t,r,n),r=di?$r:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rs=!0;else{if(!al(e,n)&&0===(128&t.flags))return Rs=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Mi(0,Fi,e.memoizedState.cache),xi();break;case 27:case 5:J(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Mi(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zs(e,t,n):(Oa(t),null!==(e=il(e,t,n))?e.sibling:null);Oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Mi(0,Fi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Rs=0!==(131072&e.flags)}else Rs=!1,di&&0!==(1048576&t.flags)&&ai(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===_){t.tag=11,t=Ls(null,t,e,r,n);break e}if(i===M){t.tag=14,t=Ds(null,t,e,r,n);break e}}throw t=P(e)||e,Error(o(306,t,""))}Ur(e)?(r=Ss(e,r),t.tag=1,t=qs(null,t,e,r,n)):(t.tag=0,t=Ws(null,t,e,r,n))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,n);case 1:return qs(e,t,r=t.type,i=Ss(r,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,va(e,t),Ea(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Mi(0,Fi,r),r!==a.cache&&Ti(t,[Fi],n,!0),Sa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ks(e,t,r,n);break e}if(r!==i){wi(i=Xr(Error(o(424)),t)),t=Ks(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),ci=t,di=!0,hi=null,pi=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xi(),r===i){t=il(e,t,n);break e}Os(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=gd(q.current).createElement(n))[Be]=t,r[Ve]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&di&&(r=t.stateNode=Id(t.type,t.pendingProps,q.current),ci=t,pi=!0,i=ui,Nd(t.type)?(Od=i,ui=Rd(r.firstChild)):ui=i),Os(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ci=t,ui=Rd(r.firstChild),pi=!1,i=!0):i=!1),i||fi(t)),J(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,xd(i,a)?r=null:null!==s&&xd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),uh._currentValue=i),Hs(e,t),Os(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||fi(t)),null;case 13:return Zs(e,t,n);case 4:return X(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Os(e,t,r,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Mi(0,t.type,r.value),Os(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ki(t),r=r(i=Pi(i)),t.flags|=1,Os(e,t,r,n),t.child;case 14:return Ds(e,t,t.type,t.pendingProps,n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Bs(t,r),t.lanes=536870912,Us(null,e);if(La(t),(e=ui)?null!==(e=null!==(e=Cd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw fi(t);return t.lanes=536870912,null}return Bs(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=Vs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Rs||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Rs||i){if(null!==(r=mc)&&0!==(s=Le(r,n))&&s!==a.retryLane)throw a.retryLane=s,Rr(e,s),Xc(r,e,s),Ps;ou(),t=Vs(e,t,n)}else e=a.treeContext,ui=Rd(s.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=Bs(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return ki(t),r=Pi(Fi),null===e?(null===(i=Xi())&&(i=mc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ga(t),Mi(0,Fi,i)):(0!==(e.lanes&n)&&(va(e,t),Ea(t,null,null,n),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Mi(0,Fi,r)):(r=a.cache,Mi(0,Fi,r),r!==i.cache&&Ti(t,[Fi],n,!0))),Os(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw ia=ea,$i;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw ia=ea,$i;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Tc|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ni(Fi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,bi())),hl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(sl(t),null!==a?(hl(t),cl(t,a)):(hl(t),ll(t,i,0,0,n))):a?a!==e.memoizedState?(sl(t),hl(t),cl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),hl(t),ll(t,i,0,0,n)),null;case 27:if(Z(t),n=q.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}e=W.current,yi(t)?gi(t):(e=Id(i,r,n),t.stateNode=e,sl(t))}return hl(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}if(a=W.current,yi(t))gi(t);else{var s=gd(q.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Be]=t,a[Ve]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||fi(t,!0)}else(e=gd(e).createTextNode(r))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Be]=t}else xi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fa(t),t):(Fa(t),null);if(0!==(128&t.flags))throw Error(o(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Be]=t}else xi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fa(t),t):(Fa(t),null)}return Fa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&Qu(t.stateNode.containerInfo),hl(t),null;case 10:return Ni(t.type),hl(t),null;case 19:if(z(Ua),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)dl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=za(e))){for(t.flags|=128,dl(r,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Ua,1&Ua.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=za(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!di)return hl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ua.current,B(Ua,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Fa(t),ka(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ni(Fi),hl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ml(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ni(Fi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Fa(t),null===t.alternate)throw Error(o(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Ua),null;case 4:return Y(),null;case 10:return Ni(t.type),null;case 22:case 23:return Fa(t),ka(),null!==e&&z(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ni(Fi),null;default:return null}}function fl(e,t){switch(si(t),t.tag){case 3:Ni(Fi),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fa(t);break;case 13:Fa(t);break;case 19:z(Ua);break;case 10:Ni(t.type);break;case 22:case 23:Fa(t),ka(),null!==e&&z(Ki);break;case 24:Ni(Fi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Su(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){Su(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Su(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Na(t,n)}catch(r){Su(e,e.return,r)}}}function xl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Su(e,t,i)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Su(e,t,a)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||ud(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:m!==h&&ud(e,t,p,m,r,h)}}return void yt(e,s,l,c,u,d,a,i);case"select":for(a in m=s=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||ud(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&ud(e,t,i,a,r,c)}return t=l,n=s,r=m,void(null!=p?wt(e,!!n,p,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":p=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&ud(e,t,s,i,r,a)}return void _t(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ud(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else ud(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:ud(e,t,u,p,r,m)}return;default:if(Tt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||dd(e,t,d,p,r,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||ud(e,t,h,p,r,m)}(r,e.type,n,t),r[Ve]=t}catch(i){Su(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Nd(e.type)||4===e.tag}function Ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Nd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[Be]=e,t[Ve]=n}catch(a){Su(e,e.return,a)}}var Al=!1,Cl=!1,kl=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xl(e,n),4&r&&gl(5,n);break;case 1:if(Xl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Su(n,n.return,o)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Su(n,n.return,s)}}64&r&&yl(n),512&r&&bl(n,n.return);break;case 3:if(Xl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Na(e,t)}catch(o){Su(n,n.return,o)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:Xl(e,n),null===t&&4&r&&_l(n),512&r&&bl(n,n.return);break;case 12:Xl(e,n);break;case 31:Xl(e,n),4&r&&zl(e,n);break;case 13:Xl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=ju.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Cl,i=Al;var a=Cl;Al=r,(Cl=t)&&!a?Jl(e,n,0!==(8772&n.subtreeFlags)):Xl(e,n),Al=i,Cl=a}break;case 30:break;default:Xl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,Il=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Cl||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cl||wl(n,t);var r=Dl,i=Il;Nd(n.type)&&(Dl=n.stateNode,Il=!1),Fl(e,t,n),Fd(n.stateNode),Dl=r,Il=i;break;case 5:Cl||wl(n,t);case 6:if(r=Dl,i=Il,Dl=null,Fl(e,t,n),Il=i,null!==(Dl=r))if(Il)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(o){Su(n,t,o)}else try{Dl.removeChild(n.stateNode)}catch(o){Su(n,t,o)}break;case 18:null!==Dl&&(Il?(jd(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):jd(Dl,n.stateNode));break;case 4:r=Dl,i=Il,Dl=n.stateNode.containerInfo,Il=!0,Fl(e,t,n),Dl=r,Il=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Cl||vl(4,n,t),Fl(e,t,n);break;case 1:Cl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Cl=(r=Cl)||null!==n.memoizedState,Fl(e,t,n),Cl=r;break;default:Fl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){Su(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){Su(t,t.return,n)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Nd(l.type)){Dl=l.stateNode,Il=!1;break e}break;case 5:Dl=l.stateNode,Il=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Dl)throw Error(o(160));Ul(a,s,i),Dl=null,Il=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Wl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),ql(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),ql(e),512&r&&(Cl||null===n||wl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),ql(e),512&r&&(Cl||null===n||wl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Xe]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),hd(a,r,n),a[Be]=e,et(a),r=a;break e;case"link":var s=nh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Be]=e,et(a),r=a}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Zd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rh(i,e.type,e.stateNode):Zd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),ql(e),512&r&&(Cl||null===n||wl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),ql(e),512&r&&(Cl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(f){Su(e,e.return,f)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(kl=!0);break;case 6:if(Hl(t,e),ql(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){Su(e,e.return,f)}}break;case 3:if(th=null,i=Wl,Wl=Bd(t.containerInfo),Hl(t,e),Wl=i,ql(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(f){Su(e,e.return,f)}kl&&(kl=!1,Kl(e));break;case 4:r=Wl,Wl=Bd(e.stateNode.containerInfo),Hl(t,e),ql(e),Wl=r;break;case 12:default:Hl(t,e),ql(e);break;case 31:case 19:Hl(t,e),ql(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 13:Hl(t,e),ql(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Cl;if(Al=u||i,Cl=d||c,Hl(t,e),Cl=d,Al=u,ql(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Cl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){Su(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){Su(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;i?Td(m,!0):Td(c.stateNode,!1)}catch(f){Su(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vl(e,n))));case 30:case 21:}}function ql(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;jl(e,Ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),jl(e,Ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Nl(e,Ml(e),s);break;default:throw Error(o(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Yl(t);break;case 27:Fd(t.stateNode);case 26:case 5:wl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Jl(i,a,n),gl(4,a);break;case 1:if(Jl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ma(l[i],s)}catch(c){Su(r,r.return,c)}}n&&64&o&&yl(a),bl(a,a.return);break;case 27:Tl(a);case 26:case 5:Jl(i,a,n),n&&null===r&&4&o&&_l(a),bl(a,a.return);break;case 12:Jl(i,a,n);break;case 31:Jl(i,a,n),n&&4&o&&zl(i,a);break;case 13:Jl(i,a,n),n&&4&o&&Bl(i,a);break;case 22:null===a.memoizedState&&Jl(i,a,n),bl(a,a.return);break;case 30:break;default:Jl(i,a,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Ql(e,t,n,r);break;case 3:Ql(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Ql(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else Ql(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Ql(e,t,n,r):nc(e,t):2&a._visibility?Ql(e,t,n,r):(a._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Zl(o,t);break;case 24:Ql(e,t,n,r),2048&i&&$l(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(a,o,s,l,i),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(a,o,s,l,i):nc(a,o):(u._visibility|=2,tc(a,o,s,l,i)),i&&2048&c&&Zl(o.alternate,o);break;case 24:tc(a,o,s,l,i),i&&2048&c&&$l(o.alternate,o);break;default:tc(a,o,s,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Zl(r.alternate,r);break;case 24:nc(n,r),2048&i&&$l(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=qd(r.href),a=t.querySelector(Kd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Xd(r),(i=Ud.get(i))&&Qd(r,i),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bd(e.stateNode.containerInfo),ic(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,a=r.return;if(Ll(r),r===n){Rl=null;break e}if(null!==i){i.return=a,Rl=i;break e}Rl=a}}}var dc={getCacheForType:function(e){var t=Pi(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(Fi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,fc=null,gc=0,vc=0,yc=null,xc=!1,bc=!1,wc=!1,_c=0,Sc=0,Ec=0,Mc=0,Nc=0,jc=0,Tc=0,Ac=null,Cc=null,kc=!1,Pc=0,Rc=0,Oc=1/0,Lc=null,Dc=null,Ic=0,Fc=null,Uc=null,zc=0,Bc=0,Vc=null,Hc=null,Wc=0,Gc=null;function qc(){return 0!==(2&pc)&&0!==gc?gc&-gc:null!==O.T?Vu():Fe()}function Kc(){if(0===jc)if(0===(536870912&gc)||di){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),jc=e}else jc=536870912;return null!==(e=Pa.current)&&(e.flags|=32),jc}function Xc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),$c(e,gc,jc,!1)),Pe(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Mc|=n),4===Sc&&$c(e,gc,jc,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=iu(),i=au();mc!==e||gc!==t?(Lc=null,Oc=le()+500,tu(e,t)):bc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var a=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Lu(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,a,7));break;case 5:var s=null;switch(fc.tag){case 26:s=fc.memoizedState;case 5:case 27:var l=fc;if(s?ih(s):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)fc=c;else{var u=l.return;null!==u?(fc=u,pu(u)):fc=null}break t}}vc=0,yc=null,hu(e,t,a,5);break;case 6:vc=0,yc=null,hu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(o(462))}}cu();break}catch(d){nu(e,d)}return Ei=Si=null,O.H=r,O.A=i,pc=n,null!==fc?0:(mc=null,gc=0,Cr(),Sc)}(e,t):su(e,t,!0),a=r;;){if(0===i){bc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=a,Mc|=a,i=4;break e}a=Cc,Cc=i,null!==a&&(null===Cc?Cc=a:Cc.push.apply(Cc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){tu(e,0),$c(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,jc,!xc);break e;case 2:Cc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Pc+300-le())){if($c(r,t,jc,!xc),0!==je(r,0,!0))break e;zc=t,r.timeoutHandle=wd(Jc.bind(null,r,n,Cc,Lc,kc,t,jc,Mc,Tc,xc,a,"Throttled",-0,0),i)}else Jc(r,n,Cc,Lc,kc,t,jc,Mc,Tc,xc,a,null,-0,0)}break}i=su(e,t,!1),a=!1}Lu(e)}function Jc(e,t,n,r,i,a,o,s,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var m=(62914560&a)===a?Pc-le():(4194048&a)===a?Rc-le():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&pd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,m)))return zc=a,e.cancelPendingCommit=m(fu.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,p)),void $c(e,a,o,!c)}fu(e,t,a,n,r,i,o,s,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!$n(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~Nc,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-be(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Re(e,n,t)}function Qc(){return 0!==(6&pc)||(Du(0,!1),!1)}function eu(){if(null!==fc){if(0===vc)var e=fc.return;else Ei=Si=null,oo(e=fc),sa=null,la=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_d(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),mc=e,fc=n=zr(e.current,null),gc=t,vc=0,yc=null,xc=!1,bc=Te(e,t),wc=!1,Tc=jc=Nc=Mc=Ec=Sc=0,Cc=Ac=null,kc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),a=1<<i;t|=e[i],r&=~a}return _c=t,Cr(),n}function nu(e,t){Va=null,O.H=fs,t===Zi||t===Qi?(t=aa(),vc=3):t===$i?(t=aa(),vc=4):vc=t===Ps?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===fc&&(Sc=1,js(e,Xr(t,e.current)))}function ru(){var e=Pa.current;return null===e||((4194048&gc)===gc?null===Ra:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ra)}function iu(){var e=O.H;return O.H=fs,null===e?fs:e}function au(){var e=O.A;return O.A=dc,e}function ou(){Sc=4,xc||(4194048&gc)!==gc&&null!==Pa.current||(bc=!0),0===(134217727&Ec)&&0===(134217727&Mc)||null===mc||$c(mc,gc,jc,!1)}function su(e,t,n){var r=pc;pc|=2;var i=iu(),a=au();mc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var o=Sc;e:for(;;)try{if(0!==vc&&null!==fc){var s=fc,l=yc;switch(vc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Pa.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,s,l,c),n&&bc){o=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,s,l,c)}}lu(),o=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ei=Si=null,pc=r,O.H=i,O.A=a,null===fc&&(mc=null,gc=0,Cr()),o}function lu(){for(;null!==fc;)uu(fc)}function cu(){for(;null!==fc&&!oe();)uu(fc)}function uu(e){var t=ol(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?pu(e):fc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:fl(n,t),t=ol(n,t=fc=Br(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?pu(e):fc=t}function hu(e,t,n,r){Ei=Si=null,oo(t),sa=null,la=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Pa.current)){switch(n.tag){case 31:case 13:return null===Ra?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(o(435,n.tag))}return Eu(e,r,i),ou(),!1}if(di)return null!==(t=Pa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&wi(Xr(e=Error(o(422),{cause:r}),n))):(r!==mi&&wi(Xr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Xr(r,n),wa(e,i=As(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var a=Error(o(520),{cause:r});if(a=Xr(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Sc&&(Sc=2),null===t)return!0;r=Xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,wa(n,e=As(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,ks(i=Cs(i),e,n,r),wa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return Sc=1,js(e,Xr(n,e.current)),void(fc=null)}catch(a){if(null!==i)throw fc=i,a;return Sc=1,js(e,Xr(n,e.current)),void(fc=null)}32768&t.flags?(di||1===r?e=!0:bc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Pa.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,xc);e=t.return;var n=pl(t.alternate,t,_c);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);Sc=6,fc=null}function fu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Ic);if(0!==(6&pc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-be(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Ar,s,l,c),e===mc&&(fc=mc=null,gc=0),Uc=t,Fc=e,zc=n,Bc=a,Vc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,s=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=xh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},xh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var f=Ss(n.type,i);e=r.getSnapshotBeforeUpdate(f,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{pc=s,L.p=i,O.T=r}}Ic=1,gu(),vu(),yu()}}function gu(){if(1===Ic){Ic=0;var e=Fc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Gl(t,e);var a=fd,o=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(o=g,g=f,f=o);var v=tr(s,f),y=tr(s,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),f>g?(p.addRange(x),p.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),p.addRange(x))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xh=!!md,fd=md=null}finally{pc=i,L.p=r,O.T=n}}e.current=t,Ic=2}}function vu(){if(2===Ic){Ic=0;var e=Fc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ol(e,t.alternate,t)}finally{pc=i,L.p=r,O.T=n}}Ic=3}}function yu(){if(4===Ic||3===Ic){Ic=0,se();var e=Fc,t=Uc,n=zc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ic=5:(Ic=0,Uc=Fc=null,xu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Dc=null),Ie(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{O.T=t,L.p=i}}0!==(3&zc)&&bu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Gc?Wc++:(Wc=0,Gc=e):Wc=0,Du(0,!1)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function bu(){return gu(),vu(),yu(),wu()}function wu(){if(5!==Ic)return!1;var e=Fc,t=Bc;Bc=0;var n=Ie(zc),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Vc,Vc=null;var a=Fc,s=zc;if(Ic=0,Uc=Fc=null,zc=0,0!==(6&pc))throw Error(o(331));var l=pc;if(pc|=4,lc(a.current),ec(a,a.current,s,n),pc=l,Du(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{L.p=i,O.T=r,xu(e,t)}}function _u(e,t,n){t=Xr(n,t),null!==(e=xa(e,t=As(e.stateNode,t,2),2))&&(Pe(e,2),Lu(e))}function Su(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){e=Xr(n,e),null!==(r=xa(t,n=Cs(2),2))&&(ks(n,r,t,e),Pe(r,2),Lu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Mu.bind(null,e,t,n),t.then(e,e))}function Mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>le()-Pc?0===(2&pc)&&tu(e,0):Nc|=n,Tc===gc&&(Tc=0)),Lu(e)}function Nu(e,t){0===t&&(t=Ce()),null!==(e=Rr(e,t))&&(Pe(e,t),Lu(e))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nu(e,n)}var Au=null,Cu=null,ku=!1,Pu=!1,Ru=!1,Ou=0;function Lu(e){e!==Cu&&null===e.next&&(null===Cu?Au=Cu=e:Cu=Cu.next=e),Pu=!0,ku||(ku=!0,Ed(function(){0!==(6&pc)?ie(ue,Iu):Fu()}))}function Du(e,t){if(!Ru&&Pu){Ru=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-be(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=gc,0===(3&(a=je(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Ru=!1}}function Iu(){Fu()}function Fu(){Pu=ku=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bd&&(bd=e,!0);return bd=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Cu=n)):(n=r,(0!==e||0!==(3&a))&&(Pu=!0)),r=i}0!==Ic&&5!==Ic||Du(e,!1),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-be(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ae(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=gc,n=je(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Ie(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return r=zu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=je(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Bu(e,t){if(bu())return null;Yc(e,t,!0)}function Vu(){if(0===Ou){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Ou=e}return Ou}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Er.length;Gu++){var qu=Er[Gu];Mr(qu.toLowerCase(),"on"+(qu[0].toUpperCase()+qu.slice(1)))}Mr(gr,"onAnimationEnd"),Mr(vr,"onAnimationIteration"),Mr(yr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(xr,"onTransitionRun"),Mr(br,"onTransitionStart"),Mr(wr,"onTransitionCancel"),Mr(_r,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Nr(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Nr(u)}i.currentTarget=null,a=l}}}}function Ju(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[$u]){e[$u]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Xu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Zu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Nh(t)){case 2:var i=bh;break;case 8:i=wh;break;default:i=_h}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Je(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Ut(function(){var r=a,i=Ot(n),o=[];e:{var s=Sr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case gr:case vr:case yr:c=un;break;case _r:c=wn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=zt(f,p))&&d.push(nd(f,g,m)),h)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[He])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?s:$e(c),m=null==u?s:$e(u),(s=new d(g,f+"leave",c,n,i)).target=h,s.relatedTarget=m,g=null,Je(i)===r&&((d=new d(p,f+"enter",u,n,i)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,f=u,m=0,g=p=c;g;g=d(g))m++;g=0;for(var v=f;v;v=d(v))g++;for(;0<m-g;)p=d(p),m--;for(;0<g-m;)f=d(f),g--;for(;m--;){if(p===f||null!==f&&p===f.alternate){d=p;break e}p=d(p),f=d(f)}d=null}else d=null;null!==c&&ad(o,s,c,d,!1),null!==u&&null!==h&&ad(o,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Bn;else if(Ln(s))if(Vn)y=Zn;else{y=Yn;var x=Xn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(y=Bn):y=Jn;switch(y&&(y=y(e,r))?Dn(o,y,n,i):(x&&x(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&bt(s,"number",s.value)),x=r?$e(r):window,e){case"focusin":(Ln(x)||"true"===x.contentEditable)&&(or=x,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(o,n,i)}var b;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?kn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=Kt()):(Gt="value"in(Wt=i)?Wt.value:Wt.textContent,Rn=!0)),0<(x=rd(r,w)).length&&(w=new hn(w,e,null,n,i),o.push({event:w,listeners:x}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Cn=!0,An);case"textInput":return(e=t.data)===An&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Mn&&kn(e,t)?(e=Kt(),qt=Gt=Wt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(r,"onBeforeInput")).length&&(x=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:x,listeners:w}),x.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[Ve]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ve]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=o?Wu(i,o):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Wu(i,o):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yu(o,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=zt(e,n))&&r.unshift(nd(e,i,a)),null!=(i=zt(e,t))&&r.push(nd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=zt(n,a))&&o.unshift(nd(n,c,l)):i||null!=(c=zt(n,a))&&o.push(nd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(sd,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":jt(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=kt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,r)}}function dd(e,t,n,r,i,a){switch(n){case"style":jt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ve]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,r,s,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ud(e,t,i,d,n,null)}}return void xt(e,r,l,c,u,s,a,!1);case"select":for(a in Ju("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:ud(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Ju("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ud(e,t,s,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Ku.length;i++)Ju(Ku[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ud(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,fd=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,_d="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Md)}:wd;function Md(e){setTimeout(function(){throw e})}function Nd(e){return"head"===e}function jd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Xe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Fd(e.ownerDocument.body);n=i}while(n);Wh(t)}function Td(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Cd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function kd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Id(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ud=new Map,zd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=L.d;L.d={f:function(){var e=Vd.f(),t=Qc();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Vd.r(e)},D:function(e){Vd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=qd(e);break;case"script":a=Yd(e)}Ud.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Kd(a))||"script"===t&&r.querySelector(Jd(a))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yd(e)}if(!Ud.has(a)&&(e=p({rel:"modulepreload",href:e},t),Ud.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(a)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Vd.X(e,t);var n=Hd;if(n&&e){var r=Qe(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=p({src:e,async:!0},t),(t=Ud.get(i))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Vd.S(e,t,n);var r=Hd;if(r&&e){var i=Qe(r).hoistableStyles,a=qd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Kd(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(a))&&Qd(e,n);var l=o=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,$d(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Vd.M(e,t);var n=Hd;if(n&&e){var r=Qe(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zd.has(i)||(zd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var i,a,s,l,c=(c=q.current)?Bd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=qd(n.href),(r=(n=Qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=qd(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hd(a,"link",s),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function qd(e){return'href="'+vt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Xd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function Jd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),$d(r,n.precedence,e),t.instance=r;case"stylesheet":i=qd(n.href);var a=e.querySelector(Kd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Xd(n),(i=Ud.get(i))&&Qd(r,i),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(a,"link",r),t.state.loading|=4,$d(a,n.precedence,e),t.instance=a;case"script":return a=Yd(n.src),(i=e.querySelector(Jd(a)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(a))&&eh(r=p({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,$d(r,n.precedence,e));return t.instance}function $d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Xe]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(ch,e),sh=null,oh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=sh.get(e);if(n)var r=n.get(null);else{n=new Map,sh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function dh(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,a,o,s,l,c,u,d){return e=new dh(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Fr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ga(a),e}function ph(e){return e?e=Dr:Dr}function mh(e,t,n,r,i,a){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=ya(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=xa(e,r,t))&&(Xc(n,0,t),ba(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Xc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=qc(),n=Rr(e,t=De(t));null!==n&&Xc(n,0,t),gh(e,t)}}var xh=!0;function bh(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=2,_h(e,t,n,r)}finally{L.p=a,O.T=i}}function wh(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=8,_h(e,t,n,r)}finally{L.p=a,O.T=i}}function _h(e,t,n,r){if(xh){var i=Sh(r);if(null===i)td(e,t,r,Eh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Th=Dh(Th,e,t,n,r,i),!0;case"dragenter":return Ah=Dh(Ah,e,t,n,r,i),!0;case"mouseover":return Ch=Dh(Ch,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kh.set(a,Dh(kh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ph.set(a,Dh(Ph.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var a=Ze(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Ne(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-be(o);s.entanglements[1]|=l,o&=~l}Lu(a),0===(6&pc)&&(Oc=le()+500,Du(0,!1))}}break;case 31:case 13:null!==(s=Rr(a,2))&&Xc(s,0,2),Qc(),gh(a,2)}if(null===(a=Sh(r))&&td(e,t,r,Eh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function Sh(e){return Mh(e=Ot(e))}var Eh=null;function Mh(e){if(Eh=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case me:return 268435456;default:return 32}default:return 32}}var jh=!1,Th=null,Ah=null,Ch=null,kh=new Map,Ph=new Map,Rh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Dh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ih(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Uh(e,t,n){Fh(e)&&n.delete(t)}function zh(){jh=!1,null!==Th&&Fh(Th)&&(Th=null),null!==Ah&&Fh(Ah)&&(Ah=null),null!==Ch&&Fh(Ch)&&(Ch=null),kh.forEach(Uh),Ph.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var Vh=null;function Hh(e){Vh!==e&&(Vh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Mh(r||n))continue;break}var a=Ze(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==Th&&Bh(Th,e),null!==Ah&&Bh(Ah,e),null!==Ch&&Bh(Ch,e),kh.forEach(t),Ph.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Ih(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ve]||null;if("function"===typeof a)o||Hh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ve]||null)s=o.formAction;else if(null!==Mh(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function qh(e){this._internalRoot=e}function Kh(e){this._internalRoot=e}Kh.prototype.render=qh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));mh(t.current,qc(),e,t,null,null)},Kh.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),Qc(),t[He]=null}},Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Ih(e)}};var Xh=i.version;if("19.2.0"!==Xh)throw Error(o(527,Xh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject(Yh),ye=Jh}catch($h){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=Es,a=Ms,l=Ns;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,a,l,Gh),e[He]=t.current,Qu(e),new qh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=Es,l=Ms,c=Ns,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,a,l,c,Gh)).context=ph(null),n=t.current,(i=ya(r=De(r=qc()))).callback=null,xa(n,i,r),n=r,t.current.lanes=n,Pe(t,n),Lu(t),e[He]=t.current,Qu(e),new Kh(t)},t.version="19.2.0"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let r=0;r<a;r++)o[r]=e,e+=n;return o}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,f=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?T(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/m|0,c[a]%=m;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?T(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=M(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=M(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return T(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(N(n,o),N(e,o),o),s=!0,T(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):T(new r(n),i)},v.naturalExponential=v.exp=function(){return _(this)},v.naturalLogarithm=v.ln=function(){return N(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):A(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,o+2)).times(.5),b(a.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(T(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,T(r,n)},v.times=v.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,p=d.d,f=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(u=f.length)&&(a=p,p=f,f=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+f[r]*p[i-r-1]+t,a[i--]=l%m|0,t=l/m|0;a[i]=(a[i]+t)%m|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?T(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,a),void 0===t?t=r.rounding:x(t,0,8),T(n,e+S(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=C(r,!0):(x(e,0,a),void 0===t?t=i.rounding:x(t,0,8),n=C(r=T(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?C(i):(x(e,0,a),void 0===t?t=o.rounding:x(t,0,8),n=C((r=T(new o(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return T(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,p=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=p<0?-p:p)<=f){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&k((a=a.times(u)).d,t),0!==(n=d(n/2));)k((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):T(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(N(u,r+12)),s=!0,(a=_(a)).s=o,a},v.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=C(i,(n=S(i))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,a),void 0===t?t=o.rounding:x(t,0,8),r=C(i=T(new o(i),e,t),e<=(n=S(i))||n<=o.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,a),void 0===t?t=n.rounding:x(t,0,8)),T(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),n=e.constructor;return C(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,p,f,g,v,y,x,b,w,_,E,M,N,j,A=r.constructor,C=r.s==i.s?1:-1,k=r.d,P=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,N=P.length,E=k.length,g=(f=new A(C)).d=[],u=0;P[u]==(k[u]||0);)++u;if(P[u]>(k[u]||0)&&--c,(b=null==a?a=A.precision:o?a+(S(r)-S(i))+1:a)<0)return new A(0);if(b=b/7+2|0,u=0,1==N)for(d=0,P=P[0],b++;(u<E||d)&&b--;u++)w=d*m+(k[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=m/(P[0]+1)|0)>1&&(P=e(P,d),k=e(k,d),N=P.length,E=k.length),_=N,y=(v=k.slice(0,N)).length;y<N;)v[y++]=0;(j=P.slice()).unshift(0),M=P[0],P[1]>=m/2&&++M;do{d=0,(s=t(P,v,N,y))<0?(x=v[0],N!=y&&(x=x*m+(v[1]||0)),(d=x/M|0)>1?(d>=m&&(d=m-1),1==(s=t(h=e(P,d),v,p=h.length,y=v.length))&&(d--,n(h,N<p?j:P,p))):(0==d&&(s=d=1),h=P.slice()),(p=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(P,v,N,y=v.length))<1&&(d++,n(v,N<y?j:P,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=k[_]||0:(v=[k[_]],y=1)}while((_++<E||void 0!==v[0])&&b--)}return g[0]||g.shift(),f.e=c,T(f,o?a+S(f)+1:a)}}();function _(e,t){var n,r,a,o,l,c=0,d=0,p=e.constructor,m=p.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new p(i);for(null==t?(s=!1,l=m):l=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new p(i),p.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),b((o=a.plus(w(r,n,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;d--;)a=T(a.times(a),l);return p.precision=m,null==t?(s=!0,T(a,m)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function M(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,a,o,c,u,d,h,p,m=1,f=e,g=f.d,v=f.constructor,y=v.precision;if(f.s<1)throw Error(l+(f.s?"NaN":"-Infinity"));if(f.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,f.eq(10))return null==t&&(s=!0),E(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),o=S(f),!(Math.abs(o)<15e14))return d=E(v,h+2,y).times(o+""),f=N(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,T(f,y)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((f=f.times(e)).d)).charAt(0),m++;for(o=S(f),r>1?(f=new v("0."+n),o++):f=new v(r+"."+n.slice(1)),u=c=f=w(f.minus(i),f.plus(i),h),p=T(f.times(f),h),a=3;;){if(c=T(c.times(p),h),b((d=u.plus(w(c,new v(a),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(E(v,h+2,y).times(o+""))),u=w(u,new v(m),h),v.precision=y,null==t?(s=!0,T(u,y)):u;u=d,a+=2}}function j(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,i,a,o,l,c,p,f,v=e.d;for(o=1,a=v[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,p=v[f=0];else{if((f=Math.ceil((r+1)/7))>=(a=v.length))return e;for(p=a=v[f],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=p/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==v[f+1]||p%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?p/h(10,o-i):0:v[f-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(a=S(e),v.length=1,t=t-a-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=f,a=1,f--):(v.length=f+1,a=h(10,7-r),v[f]=i>0?(p/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==f){(v[0]+=a)==m&&(v[0]=1,++e.e);break}if(v[f]+=a,v[f]!=m)break;v[f--]=0,a=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function A(e,t){var n,r,i,a,o,l,c,u,d,h,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?T(t,f):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(f/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=m-1;--c[a],c[i]+=m}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?T(t,f):t):new p(0)}function C(e,t,n){var r,i=S(e),a=b(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+M(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+M(-i-1)+a,n&&(r=n-o)>0&&(a+=M(r))):i>=o?(a+=M(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+M(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=M(r))),e.s<0?"-"+a:a}function k(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):j(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);j(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8503:(e,t,n)=>{e.exports=n(5099).minBy},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var p=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".3f4926a0.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dharma-sikhara-frontend:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdharma_sikhara_frontend=self.webpackChunkdharma_sikhara_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>tl,scaleDiverging:()=>Yh,scaleDivergingLog:()=>Jh,scaleDivergingPow:()=>$h,scaleDivergingSqrt:()=>Qh,scaleDivergingSymlog:()=>Zh,scaleIdentity:()=>Hc,scaleImplicit:()=>Qs,scaleLinear:()=>Vc,scaleLog:()=>$c,scaleOrdinal:()=>el,scalePoint:()=>rl,scalePow:()=>su,scaleQuantile:()=>xu,scaleQuantize:()=>bu,scaleRadial:()=>uu,scaleSequential:()=>Vh,scaleSequentialLog:()=>Hh,scaleSequentialPow:()=>Gh,scaleSequentialQuantile:()=>Kh,scaleSequentialSqrt:()=>qh,scaleSequentialSymlog:()=>Wh,scaleSqrt:()=>lu,scaleSymlog:()=>nu,scaleThreshold:()=>wu,scaleTime:()=>Fh,scaleUtc:()=>Uh,tickFormat:()=>zc});var t=n(5043),r=n.t(t,2),i=n(4391);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],h=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return M(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return _("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,c=d();function d(){return(o.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function p(e){return N(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let m={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,h),l=e,()=>{i.removeEventListener(v,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=_(m.location,e,t);n&&n(r,e),c=d()+1;let u=w(r,c),h=m.createHref(r);try{o.pushState(u,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let r=_(m.location,e,t);n&&n(r,e),c=d();let i=w(r,c),u=m.createHref(r);o.replaceState(i,"",u),a&&l&&l({action:s,location:m.location,delta:0})},go:e=>o.go(e)};return m}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function j(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let i=H(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let a=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=V(i);o=U(a[s],e,r)}return o}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=X([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),A(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:F(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of C(e.path))a(e,t,!0,r);else a(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=C(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var k=/^:[\w-]+$/,P=3,R=2,O=1,L=10,D=-2,I=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=D),t&&(r+=R),n.filter(e=>!I(e)).reduce((e,t)=>e+(k.test(t)?P:""===t?O:L),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:X([a,u.pathname]),pathnameBase:Y(X([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=X([a,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=G(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),x(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:J(r),hash:Z(i)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],ee=(new Set(Q),["GET",...Q]);new Set(ee),Symbol("ResetLoaderData");var te=t.createContext(null);te.displayName="DataRouter";var ne=t.createContext(null);ne.displayName="DataRouterState";var re=t.createContext(!1);var ie=t.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var ae=t.createContext(new Map);ae.displayName="Fetchers";var oe=t.createContext(null);oe.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var le=t.createContext(null);le.displayName="Location";var ce=t.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=t.createContext(null);ue.displayName="RouteError";function de(){return null!=t.useContext(le)}function he(){return x(de(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(le).location}var pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){t.useContext(se).static||t.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=t.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),n=Ne("useNavigate"),r=t.useRef(!1);me(()=>{r.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,pe),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},i)))},[e,n]);return i}():function(){x(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(te),{basename:n,navigator:r}=t.useContext(se),{matches:i}=t.useContext(ce),{pathname:a}=he(),o=JSON.stringify(q(i)),s=t.useRef(!1);me(()=>{s.current=!0});let l=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(s.current,pe),!s.current)return;if("number"===typeof t)return void r.go(t);let l=K(t,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:X([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[n,r,o,a,e]);return l}()}t.createContext(null);function ge(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ce),{pathname:i}=he(),a=JSON.stringify(q(r));return t.useMemo(()=>K(e,JSON.parse(a),i,"path"===n),[e,a,i,n])}function ve(e,n,r,i,a){x(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=t.useContext(se),{matches:s}=t.useContext(ce),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Ae(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=he();if(n){var g;let e="string"===typeof n?E(n):n;x("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let v=m.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=j(e,{pathname:y});b(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=_e(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:X([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,r,i,a);return n&&_?t.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},_):_}function ye(){let e=je(),n=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,s)}var xe=t.createElement(ye,null),be=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ce.Provider,{value:this.props.routeContext},t.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(te);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ce.Provider,{value:n},i)}function _e(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,c,u)=>{let d,h=!1,p=null,m=null;r&&(d=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||xe,s&&(l<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,u+1)),g=()=>{let n;return n=d?p:h?m:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(we,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?t.createElement(be,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:i}):g()},null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let n=t.useContext(te);return x(n,Se(e)),n}function Me(e){let n=t.useContext(ne);return x(n,Se(e)),n}function Ne(e){let n=function(e){let n=t.useContext(ce);return x(n,Se(e)),n}(e),r=n.matches[n.matches.length-1];return x(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function je(){var e;let n=t.useContext(ue),r=Me("useRouteError"),i=Ne("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Te={};function Ae(e,t,n){t||Te[e]||(Te[e]=!0,b(!1,n))}var Ce={};function ke(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ve(t,void 0,r,i,n)});function Pe(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:n="/",children:r=null,location:i,navigationType:a="POP",navigator:o,static:s=!1}=e;x(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);"string"===typeof i&&(i=E(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,f=t.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:a}},[l,u,d,h,p,m,a]);return b(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:t.createElement(se.Provider,{value:c},t.createElement(le.Provider,{children:r,value:f}))}function Oe(e){let{children:t,location:n}=e;return ve(Le(t),n)}t.Component;function Le(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Le(e.props.children,a));x(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,a)),r.push(o)}),r}var De="get",Ie="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||ze.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ie,'"')),null)}function Ve(e,t){let n,r,i,a,o;if(function(e){return Fe(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?H(o,t):null,n=e.getAttribute("method")||De,i=Be(e.getAttribute("enctype"))||Ie,a=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?H(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||De,i=Be(e.getAttribute("formenctype"))||Be(o.getAttribute("enctype"))||Ie,a=new FormData(o,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,i=Ie,o=e}return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function We(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qe(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Xe(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Je(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!qe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function $e(){let e=t.useContext(te);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qe(){let e=t.useContext(ne);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=t.createContext(void 0);function tt(){let e=t.useContext(et);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function it(e){let{page:n}=e,r=a(e,h),{router:i}=$e(),o=t.useMemo(()=>j(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?t.createElement(ot,u({page:n,matches:o},r)):null}function at(e){let{manifest:n,routeModules:r}=tt(),[i,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Je((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ge(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||a(e)}),()=>{t=!0}},[e,n,r]),i}function ot(e){let{page:n,matches:r}=e,i=a(e,p),o=he(),{manifest:s,routeModules:l}=tt(),{basename:c}=$e(),{loaderData:d,matches:h}=Qe(),m=t.useMemo(()=>Xe(n,r,h,s,o,"data"),[n,r,h,s,o]),f=t.useMemo(()=>Xe(n,r,h,s,o,"assets"),[n,r,h,s,o]),g=t.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=s.routes[n.route.id];i&&i.hasLoader&&(!m.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=We(n,c,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,d,o,s,m,r,n,l]),v=t.useMemo(()=>Ye(f,s),[f,s]),y=at(f);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n,nonce:i.nonce},r))}))}var st=!1;function lt(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:o,routeDiscovery:s,ssr:l}=tt(),{router:c,static:h,staticContext:p}=$e(),{matches:m}=Qe(),f=t.useContext(re),g=Ze(s,l);o&&(o.didRenderScripts=!0);let v=rt(m,null,i);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var i;if(f)return null;let o=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=h?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];He(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(n,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),x=st||f?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Ye(v,n,{includeHydrateFallback:!0}))),b="object"===typeof n.sri?n.sri:{};return ke(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),st||f?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),y)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ut(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return t.createElement(dt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(dt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function dt(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:a,children:o}=e,{routeModules:s}=tt();return null!==s.root&&void 0!==n&&n.Layout&&!a?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(lt,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.9.4")}catch(yY){}function pt(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=y({window:i,v5Compat:!0}));let o=a.current,[s,l]=t.useState({action:o.action,location:o.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>o.listen(c),[o,c]),t.createElement(Re,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=t.forwardRef(function(e,n){let r,{onClick:i,discover:o="render",prefetch:s="none",relative:l,reloadDocument:c,replace:d,state:h,target:p,to:f,preventScrollReset:g,viewTransition:v}=e,y=a(e,m),{basename:w}=t.useContext(se),_="string"===typeof f&&mt.test(f),E=!1;if("string"===typeof f&&_&&(r=f,ht))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=H(t.pathname,w);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:E=!0}catch(yY){b(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let M=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(se),{hash:a,pathname:o,search:s}=ge(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:X([r,o])),i.createHref({pathname:l,search:s,hash:a})}(f,{relative:l}),[N,j,T]=function(e,n){let r=t.useContext(et),[i,a]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let m=()=>{a(!0)},f=()=>{a(!1),s(!1)};return r?"intent"!==e?[o,p,{}]:[o,p,{onFocus:nt(l,m),onBlur:nt(c,f),onMouseEnter:nt(u,m),onMouseLeave:nt(d,f),onTouchStart:nt(h,m)}]:[!1,p,{}]}(s,y),A=function(e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=he(),u=ge(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:S(c)===S(u);l(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,r,i,n,e,a,o,s])}(f,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:v});let C=t.createElement("a",u(u(u({},y),T),{},{href:r||M,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:ct(n,j),target:p,"data-discover":_||"render"!==o?void 0:"true"}));return N&&!_?t.createElement(t.Fragment,null,C,t.createElement(it,{page:M})):C});ft.displayName="Link";var gt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:d,children:h}=e,p=a(e,f),m=ge(c,{relative:p.relative}),g=he(),v=t.useContext(ne),{navigator:y,basename:b}=t.useContext(se),w=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ie);x(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xt("useViewTransitionState"),a=ge(e,{relative:n});if(!r.isTransitioning)return!1;let o=H(r.currentLocation.pathname,i)||r.currentLocation.pathname,s=H(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=z(a.pathname,s)||null!=z(a.pathname,o)}(m)&&!0===d,_=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&b&&(E=H(E,b)||E);const M="/"!==_&&_.endsWith("/")?_.length-1:_.length;let N,j=S===_||!s&&S.startsWith(_)&&"/"===S.charAt(M),T=null!=E&&(E===_||!s&&E.startsWith(_)&&"/"===E.charAt(_.length)),A={isActive:j,isPending:T,isTransitioning:w},C=j?r:void 0;N="function"===typeof o?o(A):[o,j?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k="function"===typeof l?l(A):l;return t.createElement(ft,u(u({},p),{},{"aria-current":C,className:N,ref:n,style:k,to:c,viewTransition:d}),"function"===typeof h?h(A):h)});gt.displayName="NavLink";var vt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:o,reloadDocument:s,replace:l,state:c,method:d=De,action:h,onSubmit:p,relative:m,preventScrollReset:f,viewTransition:v}=e,y=a(e,g),b=_t(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(se),i=t.useContext(ce);x(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o=u({},ge(e||".",{relative:n})),s=he();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:X([r,o.pathname]));return S(o)}(h,{relative:m}),_="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&mt.test(h);return t.createElement("form",u(u({ref:n,method:_,action:w,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:m,preventScrollReset:f,viewTransition:v})}},y),{},{"data-discover":E||"render"!==r?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let n=t.useContext(te);return x(n,yt(e)),n}vt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function _t(){let{router:e}=xt("useSubmit"),{basename:n}=t.useContext(se),r=Ne("useRouteId");return t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=Ve(t,n);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,n,r])}const St=JSON.parse('{"common":{"welcome":"Welcome","login":"Login","logout":"Logout","dashboard":"Dashboard","scenarios":"Scenarios","courtroom":"Courtroom","profile":"Profile","settings":"Settings","language":"Language","theme":"Theme","dark":"Dark","light":"Light","save":"Save","cancel":"Cancel","back":"Back","next":"Next","previous":"Previous","submit":"Submit","search":"Search","loading":"Loading...","error":"Error","success":"Success"},"auth":{"email":"Email","password":"Password","confirmPassword":"Confirm Password","firstName":"First Name","lastName":"Last Name","institution":"Institution","year":"Year","specialization":"Specialization","signIn":"Sign In","signUp":"Sign Up","forgotPassword":"Forgot Password?","noAccount":"Don\'t have an account?","haveAccount":"Already have an account?","resetPassword":"Reset Password"},"dashboard":{"title":"Dashboard","welcomeMessage":"Welcome to DharmaSikhara Legal Simulation Platform","recentScenarios":"Recent Scenarios","continueScenario":"Continue Scenario","startNewScenario":"Start New Scenario","yourProgress":"Your Progress","completedScenarios":"Completed Scenarios","certifications":"Certifications"},"scenarios":{"title":"Legal Scenarios","browseAll":"Browse All Scenarios","searchPlaceholder":"Search scenarios...","filterBy":"Filter by","practiceArea":"Practice Area","difficulty":"Difficulty","estimatedTime":"Estimated Time","beginner":"Beginner","intermediate":"Intermediate","advanced":"Advanced","expert":"Expert"},"scenarioDetail":{"title":"Scenario Details","description":"Description","learningObjectives":"Learning Objectives","startSimulation":"Start Simulation","continueSimulation":"Continue Simulation","estimatedCompletion":"Estimated Completion Time"},"simulation":{"clientInterview":"Client Interview","evidenceAnalysis":"Evidence Analysis","bailApplication":"Bail Application Draft","courtHearing":"Court Hearing","timeRemaining":"Time Remaining","interviewControls":"Interview Controls","characterActions":"Character Actions","viewControls":"View Controls","cameraControls":"Camera Controls","lighting":"Lighting","help":"Help","aiRec":"AI Recommendations"},"courtroom":{"title":"Courtroom Simulation","participants":"Participants","judge":"Judge","prosecutor":"Prosecutor","defendant":"Defendant","defenseLawyer":"Defense Lawyer","courtClerk":"Court Clerk","witness":"Witness","jury":"Jury","proceedings":"Proceedings","openingStatements":"Opening Statements","evidencePresentation":"Evidence Presentation","crossExamination":"Cross-Examination","closingArguments":"Closing Arguments","juryDeliberation":"Jury Deliberation","verdict":"Verdict"},"certifications":{"title":"Certifications","availableCertifications":"Available Certifications","earnedCertifications":"Earned Certifications","criminalLaw":"Criminal Law Certification","civilLaw":"Civil Law Certification","corporateLaw":"Corporate Law Certification","familyLaw":"Family Law Certification","constitutionalLaw":"Constitutional Law Certification","taxLaw":"Tax Law Certification","intellectualProperty":"Intellectual Property Certification"},"legalResearch":{"title":"Legal Research","description":"Search for relevant legal cases and precedents to support your arguments","searchPlaceholder":"Search for cases, laws, or legal concepts...","searchResults":"Search Results","relevant":"Relevant","summary":"Summary","legalIssues":"Legal Issues","viewFullCase":"View Full Case","caseDetails":"Case Details","selectCase":"Select a case from the search results to view details","noResults":"No cases found matching your search criteria","authRequired":"You must be logged in to use the legal research feature. Please sign in to continue.","sessionExpired":"Your session has expired. Please sign in again to continue.","searchFailed":"Failed to search for cases","connectionError":"Failed to connect to the server. Please check your internet connection and try again.","detailsFailed":"Failed to fetch case details","authenticationRequired":"Authentication Required","signInToContinue":"You must be logged in to access the legal research feature. Please sign in to continue.","indiaAllCourts":"India (All Courts)","supremeCourt":"Supreme Court of India","highCourts":"High Courts","districtCourts":"District Courts","tribunals":"Tribunals","tryAdjustingSearch":"Try adjusting your search terms or select a different jurisdiction.","detailedInfoAvailable":"Detailed information will be available after selecting a case.","caseNameSearch":"Case Number/Name Search","partyNameSearch":"Party Name Search","citationSearch":"Citation Search","keywordSearch":"Keyword/Topic Search","allCourts":"All Courts","cases":"Cases","documents":"Documents","citations":"Citations","news":"News","analysis":"Analysis","timeline":"Timeline","documentsTabTitle":"Related Legal Documents","documentsTabDescription":"Comprehensive document collection including judgments, orders, written submissions, affidavits, legal notices, and vakalatnama documents.","citationsTabTitle":"Citations & Precedents","citationsTabDescription":"Landmark case references, citation analysis, bench composition details, relevance scoring, and historical context.","newsTabTitle":"News Coverage","newsTabDescription":"Real-time news aggregation from legal news portals, mainstream media, and specialized legal journalism sources.","downloadReport":"Download Full Report","reportGenerationComingSoon":"Report generation feature is coming soon in the full implementation.","searchResultsSummary":"Search Results Summary:","resultsFound":"results found","searchQuery":"Search performed for query","in":"in jurisdiction","reportGeneratedSuccessfully":"Report generated successfully! In the full implementation, this would download a comprehensive legal research report.","reportGenerationFailed":"Failed to generate report","realDataIntegration":"Note about Legal Research Data","realDataIntegrationDescription":"The current implementation uses mock data for demonstration purposes. In a production environment, this would connect to real legal databases like Indian Kanoon, SCC Online, and other legal repositories to provide actual case law and precedents. The system is designed to be easily integrated with real legal APIs to deliver comprehensive research capabilities. A full implementation would include web scraping capabilities to fetch real-time data from legal databases and news sources, with proper error handling, rate limiting, and caching mechanisms to ensure optimal performance and reliability."}}'),Et=JSON.parse('{"common":{"welcome":"\u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948","login":"\u0932\u0949\u0917 \u0907\u0928 \u0915\u0930\u0947\u0902","logout":"\u0932\u0949\u0917 \u0906\u0909\u091f","dashboard":"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921","scenarios":"\u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f","courtroom":"\u0905\u0926\u093e\u0932\u0924","profile":"\u092a\u094d\u0930\u094b\u092b\u093c\u093e\u0907\u0932","settings":"\u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938","language":"\u092d\u093e\u0937\u093e","theme":"\u0925\u0940\u092e","dark":"\u0921\u093e\u0930\u094d\u0915","light":"\u0932\u093e\u0907\u091f","save":"\u0938\u0939\u0947\u091c\u0947\u0902","cancel":"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902","back":"\u0935\u093e\u092a\u0938","next":"\u0905\u0917\u0932\u093e","previous":"\u092a\u093f\u091b\u0932\u093e","submit":"\u091c\u092e\u093e \u0915\u0930\u0947\u0902","search":"\u0916\u094b\u091c","loading":"\u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...","error":"\u0924\u094d\u0930\u0941\u091f\u093f","success":"\u0938\u092b\u0932\u0924\u093e"},"auth":{"email":"\u0908\u092e\u0947\u0932","password":"\u092a\u093e\u0938\u0935\u0930\u094d\u0921","confirmPassword":"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0915\u0940 \u092a\u0941\u0937\u094d\u091f\u093f \u0915\u0930\u0947\u0902","firstName":"\u092a\u0939\u0932\u093e \u0928\u093e\u092e","lastName":"\u0905\u0902\u0924\u093f\u092e \u0928\u093e\u092e","institution":"\u0938\u0902\u0938\u094d\u0925\u093e\u0928","year":"\u0935\u0930\u094d\u0937","specialization":"\u0935\u093f\u0936\u0947\u0937\u091c\u094d\u091e\u0924\u093e","signIn":"\u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902","signUp":"\u0938\u093e\u0907\u0928 \u0905\u092a \u0915\u0930\u0947\u0902","forgotPassword":"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u092d\u0942\u0932 \u0917\u090f?","noAccount":"\u0915\u094b\u0908 \u0916\u093e\u0924\u093e \u0928\u0939\u0940\u0902 \u0939\u0948?","haveAccount":"\u092a\u0939\u0932\u0947 \u0938\u0947 \u0916\u093e\u0924\u093e \u0939\u0948?","resetPassword":"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0930\u0940\u0938\u0947\u091f \u0915\u0930\u0947\u0902"},"dashboard":{"title":"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921","welcomeMessage":"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930 \u0932\u0940\u0917\u0932 \u0938\u093f\u092e\u0941\u0932\u0947\u0936\u0928 \u092a\u094d\u0932\u0947\u091f\u092b\u0949\u0930\u094d\u092e \u092e\u0947\u0902 \u0906\u092a\u0915\u093e \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948","recentScenarios":"\u0939\u093e\u0932 \u0915\u0947 \u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f","continueScenario":"\u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f \u091c\u093e\u0930\u0940 \u0930\u0916\u0947\u0902","startNewScenario":"\u0928\u092f\u093e \u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902","yourProgress":"\u0906\u092a\u0915\u0940 \u092a\u094d\u0930\u0917\u0924\u093f","completedScenarios":"\u092a\u0942\u0930\u094d\u0923 \u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f","certifications":"\u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930"},"scenarios":{"title":"\u0915\u093e\u0928\u0942\u0928\u0940 \u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f","browseAll":"\u0938\u092d\u0940 \u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f \u092c\u094d\u0930\u093e\u0909\u091c\u093c \u0915\u0930\u0947\u0902","searchPlaceholder":"\u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f \u0916\u094b\u091c\u0947\u0902...","filterBy":"\u0926\u094d\u0935\u093e\u0930\u093e \u092b\u093c\u093f\u0932\u094d\u091f\u0930 \u0915\u0930\u0947\u0902","practiceArea":"\u0905\u092d\u094d\u092f\u093e\u0938 \u0915\u094d\u0937\u0947\u0924\u094d\u0930","difficulty":"\u0915\u0920\u093f\u0928\u093e\u0908","estimatedTime":"\u0905\u0928\u0941\u092e\u093e\u0928\u093f\u0924 \u0938\u092e\u092f","beginner":"\u0936\u0941\u0930\u0941\u0906\u0924 \u0915\u0930\u0928\u0947 \u0935\u093e\u0932\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f","intermediate":"\u092e\u0927\u094d\u092f\u0935\u0930\u094d\u0924\u0940","advanced":"\u0909\u0928\u094d\u0928\u0924","expert":"\u0935\u093f\u0936\u0947\u0937\u091c\u094d\u091e"},"scenarioDetail":{"title":"\u092a\u0930\u093f\u0926\u0943\u0936\u094d\u092f \u0935\u093f\u0935\u0930\u0923","description":"\u0935\u093f\u0935\u0930\u0923","learningObjectives":"\u0938\u0940\u0916\u0928\u0947 \u0915\u0947 \u0909\u0926\u094d\u0926\u0947\u0936\u094d\u092f","startSimulation":"\u0938\u093f\u092e\u0941\u0932\u0947\u0936\u0928 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902","continueSimulation":"\u0938\u093f\u092e\u0941\u0932\u0947\u0936\u0928 \u091c\u093e\u0930\u0940 \u0930\u0916\u0947\u0902","estimatedCompletion":"\u0905\u0928\u0941\u092e\u093e\u0928\u093f\u0924 \u092a\u0942\u0930\u093e \u0939\u094b\u0928\u0947 \u0915\u093e \u0938\u092e\u092f"},"simulation":{"clientInterview":"\u0917\u094d\u0930\u093e\u0939\u0915 \u0938\u093e\u0915\u094d\u0937\u093e\u0924\u094d\u0915\u093e\u0930","evidenceAnalysis":"\u0938\u093e\u0915\u094d\u0937\u094d\u092f \u0935\u093f\u0936\u094d\u0932\u0947\u0937\u0923","bailApplication":"\u091c\u092e\u093e\u0928\u0924 \u0906\u0935\u0947\u0926\u0928 \u092e\u0938\u094c\u0926\u093e","courtHearing":"\u0905\u0926\u093e\u0932\u0924\u0940\u092f \u0938\u0941\u0928\u0935\u093e\u0908","timeRemaining":"\u0936\u0947\u0937 \u0938\u092e\u092f","interviewControls":"\u0938\u093e\u0915\u094d\u0937\u093e\u0924\u094d\u0915\u093e\u0930 \u0928\u093f\u092f\u0902\u0924\u094d\u0930\u0923","characterActions":"\u091a\u0930\u093f\u0924\u094d\u0930 \u0915\u094d\u0930\u093f\u092f\u093e\u090f\u0901","viewControls":"\u0926\u0943\u0936\u094d\u092f \u0928\u093f\u092f\u0902\u0924\u094d\u0930\u0923","cameraControls":"\u0915\u0948\u092e\u0930\u093e \u0928\u093f\u092f\u0902\u0924\u094d\u0930\u0923","lighting":"\u092a\u094d\u0930\u0915\u093e\u0936","help":"\u092e\u0926\u0926","aiRec":"\u090f\u0906\u0908 \u0905\u0928\u0941\u0936\u0902\u0938\u093e\u090f\u0901"},"courtroom":{"title":"\u0905\u0926\u093e\u0932\u0924 \u0938\u093f\u092e\u0941\u0932\u0947\u0936\u0928","participants":"\u092a\u094d\u0930\u0924\u093f\u092d\u093e\u0917\u0940","judge":"\u0928\u094d\u092f\u093e\u092f\u093e\u0927\u0940\u0936","prosecutor":"\u0905\u092d\u093f\u092f\u094b\u0915\u094d\u0924\u093e","defendant":"\u0905\u092d\u093f\u092f\u0941\u0915\u094d\u0924","defenseLawyer":"\u0905\u092d\u093f\u0930\u0915\u094d\u0937\u093e \u0935\u0915\u0940\u0932","courtClerk":"\u0905\u0926\u093e\u0932\u0924 \u0915\u093e \u0915\u094d\u0932\u0930\u094d\u0915","witness":"\u0917\u0935\u093e\u0939","jury":"\u091c\u0942\u0930\u0940","proceedings":"\u0915\u093e\u0930\u094d\u092f\u0935\u093e\u0939\u0940","openingStatements":"\u0909\u0926\u094d\u0918\u093e\u091f\u0928 \u0915\u0925\u0928","evidencePresentation":"\u0938\u093e\u0915\u094d\u0937\u094d\u092f \u092a\u094d\u0930\u0938\u094d\u0924\u0941\u0924\u093f","crossExamination":"\u092a\u093e\u0930-\u092a\u0930\u0940\u0915\u094d\u0937\u093e","closingArguments":"\u0905\u0902\u0924\u093f\u092e \u0924\u0930\u094d\u0915","juryDeliberation":"\u091c\u0942\u0930\u0940 \u0915\u093e \u0935\u093f\u091a\u093e\u0930-\u0935\u093f\u092e\u0930\u094d\u0936","verdict":"\u092b\u0948\u0938\u0932\u093e"},"certifications":{"title":"\u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","availableCertifications":"\u0909\u092a\u0932\u092c\u094d\u0927 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","earnedCertifications":"\u0905\u0930\u094d\u091c\u093f\u0924 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","criminalLaw":"\u0906\u092a\u0930\u093e\u0927\u093f\u0915 \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","civilLaw":"\u0928\u093e\u0917\u0930\u093f\u0915 \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","corporateLaw":"\u0928\u093f\u0917\u092e \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","familyLaw":"\u092a\u093e\u0930\u093f\u0935\u093e\u0930\u093f\u0915 \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","constitutionalLaw":"\u0938\u0902\u0935\u0948\u0927\u093e\u0928\u093f\u0915 \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","taxLaw":"\u0915\u0930 \u0915\u093e\u0928\u0942\u0928 \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930","intellectualProperty":"\u092c\u094c\u0926\u094d\u0927\u093f\u0915 \u0938\u0902\u092a\u0926\u093e \u092a\u094d\u0930\u092e\u093e\u0923\u092a\u0924\u094d\u0930"},"legalResearch":{"title":"\u0915\u093e\u0928\u0942\u0928\u0940 \u0936\u094b\u0927","description":"\u0905\u092a\u0928\u0947 \u0924\u0930\u094d\u0915\u094b\u0902 \u0915\u0947 \u0938\u092e\u0930\u094d\u0925\u0928 \u0915\u0947 \u0932\u093f\u090f \u092a\u094d\u0930\u093e\u0938\u0902\u0917\u093f\u0915 \u0915\u093e\u0928\u0942\u0928\u0940 \u092e\u093e\u092e\u0932\u094b\u0902 \u0914\u0930 \u092a\u0942\u0930\u094d\u0935\u0935\u0930\u094d\u0924\u0940 \u092e\u093e\u092e\u0932\u094b\u0902 \u0915\u0940 \u0916\u094b\u091c \u0915\u0930\u0947\u0902","searchPlaceholder":"\u092e\u093e\u092e\u0932\u094b\u0902, \u0915\u093e\u0928\u0942\u0928\u094b\u0902 \u092f\u093e \u0915\u093e\u0928\u0942\u0928\u0940 \u0905\u0935\u0927\u093e\u0930\u0923\u093e\u0913\u0902 \u0915\u0940 \u0916\u094b\u091c \u0915\u0930\u0947\u0902...","searchResults":"\u0916\u094b\u091c \u092a\u0930\u093f\u0923\u093e\u092e","relevant":"\u092a\u094d\u0930\u093e\u0938\u0902\u0917\u093f\u0915","summary":"\u0938\u093e\u0930\u093e\u0902\u0936","legalIssues":"\u0915\u093e\u0928\u0942\u0928\u0940 \u092e\u0941\u0926\u094d\u0926\u0947","viewFullCase":"\u092a\u0942\u0930\u093e \u092e\u093e\u092e\u0932\u093e \u0926\u0947\u0916\u0947\u0902","caseDetails":"\u092e\u093e\u092e\u0932\u0947 \u0915\u093e \u0935\u093f\u0935\u0930\u0923","selectCase":"\u0935\u093f\u0935\u0930\u0923 \u0926\u0947\u0916\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0916\u094b\u091c \u092a\u0930\u093f\u0923\u093e\u092e\u094b\u0902 \u092e\u0947\u0902 \u0938\u0947 \u090f\u0915 \u092e\u093e\u092e\u0932\u093e \u091a\u0941\u0928\u0947\u0902","noResults":"\u0906\u092a\u0915\u0947 \u0916\u094b\u091c \u092e\u093e\u0928\u0926\u0902\u0921\u094b\u0902 \u0938\u0947 \u092e\u0947\u0932 \u0916\u093e\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u094b\u0908 \u092e\u093e\u092e\u0932\u0947 \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u0947","authRequired":"\u0915\u093e\u0928\u0942\u0928\u0940 \u0936\u094b\u0927 \u0938\u0941\u0935\u093f\u0927\u093e \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0906\u092a\u0915\u094b \u0932\u0949\u0917 \u0907\u0928 \u0915\u0930\u0928\u093e \u0939\u094b\u0917\u093e\u0964 \u0915\u0943\u092a\u092f\u093e \u091c\u093e\u0930\u0940 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964","sessionExpired":"\u0906\u092a\u0915\u093e \u0938\u0924\u094d\u0930 \u0938\u092e\u093e\u092a\u094d\u0924 \u0939\u094b \u0917\u092f\u093e \u0939\u0948\u0964 \u0915\u0943\u092a\u092f\u093e \u091c\u093e\u0930\u0940 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u092b\u093f\u0930 \u0938\u0947 \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964","searchFailed":"\u092e\u093e\u092e\u0932\u094b\u0902 \u0915\u0940 \u0916\u094b\u091c \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0935\u093f\u092b\u0932","connectionError":"\u0938\u0930\u094d\u0935\u0930 \u0938\u0947 \u0915\u0928\u0947\u0915\u094d\u091f \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0935\u093f\u092b\u0932\u0964 \u0915\u0943\u092a\u092f\u093e \u0905\u092a\u0928\u093e \u0907\u0902\u091f\u0930\u0928\u0947\u091f \u0915\u0928\u0947\u0915\u094d\u0936\u0928 \u091c\u093e\u0902\u091a\u0947\u0902 \u0914\u0930 \u092a\u0941\u0928\u0903 \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902\u0964","detailsFailed":"\u092e\u093e\u092e\u0932\u0947 \u0915\u093e \u0935\u093f\u0935\u0930\u0923 \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0935\u093f\u092b\u0932","authenticationRequired":"\u092a\u094d\u0930\u092e\u093e\u0923\u0940\u0915\u0930\u0923 \u0906\u0935\u0936\u094d\u092f\u0915","signInToContinue":"\u0915\u093e\u0928\u0942\u0928\u0940 \u0936\u094b\u0927 \u0938\u0941\u0935\u093f\u0927\u093e \u0924\u0915 \u092a\u0939\u0941\u0902\u091a\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0906\u092a\u0915\u094b \u0932\u0949\u0917 \u0907\u0928 \u0915\u0930\u0928\u093e \u0939\u094b\u0917\u093e\u0964 \u0915\u0943\u092a\u092f\u093e \u091c\u093e\u0930\u0940 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964","indiaAllCourts":"\u092d\u093e\u0930\u0924 (\u0938\u092d\u0940 \u0905\u0926\u093e\u0932\u0924\u0947\u0902)","supremeCourt":"\u092d\u093e\u0930\u0924 \u0915\u093e \u0938\u0941\u092a\u094d\u0930\u0940\u092e \u0915\u094b\u0930\u094d\u091f","highCourts":"\u0909\u091a\u094d\u091a \u0905\u0926\u093e\u0932\u0924\u0947\u0902","districtCourts":"\u091c\u093f\u0932\u093e \u0905\u0926\u093e\u0932\u0924\u0947\u0902","tryAdjustingSearch":"\u0905\u092a\u0928\u0947 \u0916\u094b\u091c \u0936\u092c\u094d\u0926\u094b\u0902 \u0915\u094b \u0938\u092e\u093e\u092f\u094b\u091c\u093f\u0924 \u0915\u0930\u0928\u0947 \u0915\u093e \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902 \u092f\u093e \u090f\u0915 \u0905\u0932\u0917 \u0915\u094d\u0937\u0947\u0924\u094d\u0930\u093e\u0927\u093f\u0915\u093e\u0930 \u091a\u0941\u0928\u0947\u0902\u0964","detailedInfoAvailable":"\u0935\u093f\u0938\u094d\u0924\u0943\u0924 \u091c\u093e\u0928\u0915\u093e\u0930\u0940 \u092e\u093e\u092e\u0932\u093e \u091a\u0941\u0928\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926 \u0909\u092a\u0932\u092c\u094d\u0927 \u0939\u094b\u0917\u0940\u0964"}}'),Mt=JSON.parse('{"common":{"welcome":"\u0ba8\u0bb2\u0bcd\u0bb5\u0bb0\u0bb5\u0bc1","login":"\u0b89\u0bb3\u0bcd\u0ba8\u0bc1\u0bb4\u0bc8\u0baf","logout":"\u0bb5\u0bc6\u0bb3\u0bbf\u0baf\u0bc7\u0bb1\u0bc1","dashboard":"\u0b9f\u0bbe\u0bb7\u0bcd\u0baa\u0bcb\u0bb0\u0bcd\u0b9f\u0bc1","scenarios":"\u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bcd","courtroom":"\u0ba8\u0bc0\u0ba4\u0bbf\u0bae\u0ba9\u0bcd\u0bb1\u0bae\u0bcd","profile":"\u0b9a\u0bc1\u0baf\u0bb5\u0bbf\u0bb5\u0bb0\u0bae\u0bcd","settings":"\u0b85\u0bae\u0bc8\u0baa\u0bcd\u0baa\u0bc1\u0b95\u0bb3\u0bcd","language":"\u0bae\u0bca\u0bb4\u0bbf","theme":"\u0ba4\u0bc0\u0bae\u0bcd","dark":"\u0b87\u0bb0\u0bc1\u0bb3\u0bcd","light":"\u0b92\u0bb3\u0bbf","save":"\u0b9a\u0bc7\u0bae\u0bbf","cancel":"\u0bb0\u0ba4\u0bcd\u0ba4\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd","back":"\u0baa\u0bbf\u0ba9\u0bcd","next":"\u0b85\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1","previous":"\u0bae\u0bc1\u0ba8\u0bcd\u0ba4\u0bc8\u0baf","submit":"\u0b9a\u0bae\u0bb0\u0bcd\u0baa\u0bcd\u0baa\u0bbf","search":"\u0ba4\u0bc7\u0b9f\u0bc1","loading":"\u0b8f\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bbf\u0bb1\u0ba4\u0bc1...","error":"\u0baa\u0bbf\u0bb4\u0bc8","success":"\u0bb5\u0bc6\u0bb1\u0bcd\u0bb1\u0bbf"},"auth":{"email":"\u0bae\u0bbf\u0ba9\u0bcd\u0ba9\u0b9e\u0bcd\u0b9a\u0bb2\u0bcd","password":"\u0b95\u0b9f\u0bb5\u0bc1\u0b9a\u0bcd\u0b9a\u0bca\u0bb2\u0bcd","confirmPassword":"\u0b95\u0b9f\u0bb5\u0bc1\u0b9a\u0bcd\u0b9a\u0bca\u0bb2\u0bcd\u0bb2\u0bc8 \u0b89\u0bb1\u0bc1\u0ba4\u0bbf\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bb5\u0bc1\u0bae\u0bcd","firstName":"\u0bae\u0bc1\u0ba4\u0bb2\u0bcd \u0baa\u0bc6\u0baf\u0bb0\u0bcd","lastName":"\u0b95\u0b9f\u0bc8\u0b9a\u0bbf \u0baa\u0bc6\u0baf\u0bb0\u0bcd","institution":"\u0ba8\u0bbf\u0bb1\u0bc1\u0bb5\u0ba9\u0bae\u0bcd","year":"\u0b86\u0ba3\u0bcd\u0b9f\u0bc1","specialization":"\u0b9a\u0bbf\u0bb1\u0baa\u0bcd\u0baa\u0bc1\u0baa\u0bcd\u0baa\u0bbf\u0bb0\u0bbf\u0bb5\u0bc1","signIn":"\u0b89\u0bb3\u0bcd\u0ba8\u0bc1\u0bb4\u0bc8\u0baf","signUp":"\u0baa\u0ba4\u0bbf\u0bb5\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd\u0baf\u0bb5\u0bc1\u0bae\u0bcd","forgotPassword":"\u0b95\u0b9f\u0bb5\u0bc1\u0b9a\u0bcd\u0b9a\u0bca\u0bb2\u0bcd\u0bb2\u0bc8 \u0bae\u0bb1\u0ba8\u0bcd\u0ba4\u0bc1\u0bb5\u0bbf\u0b9f\u0bcd\u0b9f\u0bc0\u0bb0\u0bcd\u0b95\u0bb3\u0bbe?","noAccount":"\u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bc1 \u0b87\u0bb2\u0bcd\u0bb2\u0bc8\u0baf\u0bbe?","haveAccount":"\u0b8f\u0bb1\u0bcd\u0b95\u0ba9\u0bb5\u0bc7 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bc1 \u0b89\u0bb3\u0bcd\u0bb3\u0ba4\u0bbe?","resetPassword":"\u0b95\u0b9f\u0bb5\u0bc1\u0b9a\u0bcd\u0b9a\u0bca\u0bb2\u0bcd\u0bb2\u0bc8 \u0bae\u0bc0\u0b9f\u0bcd\u0b9f\u0bae\u0bc8"},"dashboard":{"title":"\u0b9f\u0bbe\u0bb7\u0bcd\u0baa\u0bcb\u0bb0\u0bcd\u0b9f\u0bc1","welcomeMessage":"\u0ba4\u0bb0\u0bcd\u0bae\u0b9a\u0bbf\u0b95\u0bbe\u0bb0\u0bbe \u0b9a\u0b9f\u0bcd\u0b9f \u0b89\u0bb0\u0bc1\u0bb5\u0b95 \u0ba4\u0bb3\u0ba4\u0bcd\u0ba4\u0bbf\u0bb1\u0bcd\u0b95\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc7\u0bb1\u0bcd\u0b95\u0bbf\u0bb1\u0bcb\u0bae\u0bcd","recentScenarios":"\u0b9a\u0bae\u0bc0\u0baa\u0ba4\u0bcd\u0ba4\u0bbf\u0baf \u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bcd","continueScenario":"\u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0baf\u0bc8 \u0ba4\u0bca\u0b9f\u0bb0\u0bb5\u0bc1\u0bae\u0bcd","startNewScenario":"\u0baa\u0bc1\u0ba4\u0bbf\u0baf \u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0baf\u0bc8 \u0ba4\u0bca\u0b9f\u0b99\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd","yourProgress":"\u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0bae\u0bc1\u0ba9\u0bcd\u0ba9\u0bc7\u0bb1\u0bcd\u0bb1\u0bae\u0bcd","completedScenarios":"\u0bae\u0bc1\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bcd","certifications":"\u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd\u0b95\u0bb3\u0bcd"},"scenarios":{"title":"\u0b9a\u0b9f\u0bcd\u0b9f \u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bcd","browseAll":"\u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1 \u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bc8\u0baf\u0bc1\u0bae\u0bcd \u0b89\u0bb2\u0bbe\u0bb5\u0bb5\u0bc1\u0bae\u0bcd","searchPlaceholder":"\u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf\u0b95\u0bb3\u0bc8\u0ba4\u0bcd \u0ba4\u0bc7\u0b9f\u0bc1\u0b99\u0bcd\u0b95\u0bb3\u0bcd...","filterBy":"\u0bae\u0bc2\u0bb2\u0bae\u0bcd \u0bb5\u0b9f\u0bbf\u0b95\u0b9f\u0bcd\u0b9f\u0bb5\u0bc1\u0bae\u0bcd","practiceArea":"\u0baa\u0baf\u0bbf\u0bb1\u0bcd\u0b9a\u0bbf \u0baa\u0b95\u0bc1\u0ba4\u0bbf","difficulty":"\u0b9a\u0bbf\u0bb0\u0bae\u0bae\u0bcd","estimatedTime":"\u0bae\u0ba4\u0bbf\u0baa\u0bcd\u0baa\u0bbf\u0b9f\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0ba8\u0bc7\u0bb0\u0bae\u0bcd","beginner":"\u0b86\u0bb0\u0bae\u0bcd\u0baa \u0ba8\u0bbf\u0bb2\u0bc8","intermediate":"\u0b87\u0b9f\u0bc8\u0ba8\u0bbf\u0bb2\u0bc8","advanced":"\u0bae\u0bc7\u0bae\u0bcd\u0baa\u0b9f\u0bcd\u0b9f","expert":"\u0ba8\u0bbf\u0baa\u0bc1\u0ba3\u0bb0\u0bcd"},"scenarioDetail":{"title":"\u0b95\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd","description":"\u0bb5\u0bbf\u0bb3\u0b95\u0bcd\u0b95\u0bae\u0bcd","learningObjectives":"\u0b95\u0bb1\u0bcd\u0bb1\u0bb2\u0bcd \u0ba8\u0bcb\u0b95\u0bcd\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd","startSimulation":"\u0b89\u0bb0\u0bc1\u0bb5\u0b95\u0ba4\u0bcd\u0ba4\u0bc8\u0ba4\u0bcd \u0ba4\u0bca\u0b9f\u0b99\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd","continueSimulation":"\u0b89\u0bb0\u0bc1\u0bb5\u0b95\u0ba4\u0bcd\u0ba4\u0bc8\u0ba4\u0bcd \u0ba4\u0bca\u0b9f\u0bb0\u0bb5\u0bc1\u0bae\u0bcd","estimatedCompletion":"\u0bae\u0ba4\u0bbf\u0baa\u0bcd\u0baa\u0bbf\u0b9f\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0bae\u0bc1\u0b9f\u0bbf\u0bb5\u0bc1 \u0ba8\u0bc7\u0bb0\u0bae\u0bcd"},"simulation":{"clientInterview":"\u0bb5\u0bbe\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0ba8\u0bc7\u0bb0\u0bcd\u0b95\u0bbe\u0ba3\u0bb2\u0bcd","evidenceAnalysis":"\u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bc1\u0b95\u0bb3\u0bcd \u0b86\u0baf\u0bcd\u0bb5\u0bc1","bailApplication":"\u0baa\u0bbf\u0ba3\u0bc8\u0baa\u0bcd\u0baa\u0bc1 \u0bb5\u0bbf\u0ba3\u0bcd\u0ba3\u0baa\u0bcd\u0baa \u0bb5\u0bb0\u0bc8\u0bb5\u0bc1","courtHearing":"\u0ba8\u0bc0\u0ba4\u0bbf\u0bae\u0ba9\u0bcd\u0bb1 \u0b9a\u0bc6\u0bb5\u0bbf\u0b9a\u0bbe\u0bb0\u0ba3\u0bc8","timeRemaining":"\u0bae\u0bc0\u0ba4\u0bae\u0bc1\u0bb3\u0bcd\u0bb3 \u0ba8\u0bc7\u0bb0\u0bae\u0bcd","interviewControls":"\u0ba8\u0bc7\u0bb0\u0bcd\u0b95\u0bbe\u0ba3\u0bb2\u0bcd \u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\u0b95\u0bb3\u0bcd","characterActions":"\u0b8e\u0bb4\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1 \u0b9a\u0bc6\u0baf\u0bb2\u0bcd\u0b95\u0bb3\u0bcd","viewControls":"\u0baa\u0bbe\u0bb0\u0bcd\u0bb5\u0bc8 \u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\u0b95\u0bb3\u0bcd","cameraControls":"\u0b95\u0bc7\u0bae\u0bb0\u0bbe \u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\u0b95\u0bb3\u0bcd","lighting":"\u0b92\u0bb3\u0bbf\u0bb0\u0bcd\u0bb5\u0bc1","help":"\u0b89\u0ba4\u0bb5\u0bbf","aiRec":"AI \u0baa\u0bb0\u0bbf\u0ba8\u0bcd\u0ba4\u0bc1\u0bb0\u0bc8\u0b95\u0bb3\u0bcd"},"courtroom":{"title":"\u0ba8\u0bc0\u0ba4\u0bbf\u0bae\u0ba9\u0bcd\u0bb1 \u0b89\u0bb0\u0bc1\u0bb5\u0b95\u0bae\u0bcd","participants":"\u0baa\u0b99\u0bcd\u0b95\u0bc7\u0bb1\u0bcd\u0baa\u0bbe\u0bb3\u0bb0\u0bcd\u0b95\u0bb3\u0bcd","judge":"\u0ba8\u0bc0\u0ba4\u0bbf\u0baa\u0ba4\u0bbf","prosecutor":"\u0ba4\u0bca\u0b95\u0bc1\u0ba4\u0bcd\u0ba4\u0bb1\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd","defendant":"\u0b95\u0bc1\u0bb1\u0bcd\u0bb1\u0bb5\u0bbe\u0bb3\u0bbf","defenseLawyer":"\u0baa\u0bbe\u0ba4\u0bc1\u0b95\u0bbe\u0baa\u0bcd\u0baa\u0bc1 \u0b9a\u0b9f\u0bcd\u0b9f\u0ba4\u0bcd\u0ba4\u0bb0\u0ba3\u0bbf","courtClerk":"\u0ba8\u0bc0\u0ba4\u0bbf\u0bae\u0ba9\u0bcd\u0bb1 \u0b8e\u0bb4\u0bc1\u0ba4\u0bcd\u0ba4\u0bb0\u0bcd","witness":"\u0b9a\u0bbe\u0b9f\u0bcd\u0b9a\u0bbf","jury":"\u0b9c\u0bc2\u0bb0\u0bbf","proceedings":"\u0ba8\u0b9f\u0bc8\u0bae\u0bc1\u0bb1\u0bc8\u0b95\u0bb3\u0bcd","openingStatements":"\u0ba4\u0bca\u0b9f\u0b95\u0bcd\u0b95\u0b95\u0bcd \u0b95\u0bc2\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bb3\u0bcd","evidencePresentation":"\u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bc1\u0b95\u0bb3\u0bcd \u0bb5\u0bb4\u0b99\u0bcd\u0b95\u0bb2\u0bcd","crossExamination":"\u0b95\u0bc1\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0baa\u0bb0\u0bc0\u0b9f\u0bcd\u0b9a\u0bc8","closingArguments":"\u0bae\u0bc2\u0b9f\u0bc1\u0bae\u0bcd \u0bb5\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd","juryDeliberation":"\u0b9c\u0bc2\u0bb0\u0bbf \u0b86\u0bb2\u0bcb\u0b9a\u0ba9\u0bc8","verdict":"\u0ba4\u0bc0\u0bb0\u0bcd\u0baa\u0bcd\u0baa\u0bc1"},"certifications":{"title":"\u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd\u0b95\u0bb3\u0bcd","availableCertifications":"\u0b95\u0bbf\u0b9f\u0bc8\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd\u0b95\u0bb3\u0bcd","earnedCertifications":"\u0b9a\u0bae\u0bcd\u0baa\u0bbe\u0ba4\u0bbf\u0ba4\u0bcd\u0ba4 \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd\u0b95\u0bb3\u0bcd","criminalLaw":"\u0b95\u0bc1\u0bb1\u0bcd\u0bb1\u0bb5\u0bbf\u0baf\u0bb2\u0bcd \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","civilLaw":"\u0baa\u0bca\u0ba4\u0bc1 \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","corporateLaw":"\u0ba8\u0bbf\u0bb1\u0bc1\u0bb5\u0ba9 \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","familyLaw":"\u0b95\u0bc1\u0b9f\u0bc1\u0bae\u0bcd\u0baa \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","constitutionalLaw":"\u0b85\u0bb0\u0b9a\u0bbf\u0baf\u0bb2\u0bae\u0bc8\u0baa\u0bcd\u0baa\u0bc1 \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","taxLaw":"\u0bb5\u0bb0\u0bbf \u0b9a\u0b9f\u0bcd\u0b9f \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd","intellectualProperty":"\u0baa\u0bcc\u0ba4\u0bcd\u0ba4\u0bbf\u0b95 \u0b9a\u0bca\u0ba4\u0bcd\u0ba4\u0bc1 \u0b9a\u0bbe\u0ba9\u0bcd\u0bb1\u0bbf\u0ba4\u0bb4\u0bcd"}}');var Nt=n(579);const jt=(0,t.createContext)(void 0),Tt=e=>{let{children:n}=e;const[r,i]=(0,t.useState)("en"),[a,o]=(0,t.useState)({}),[s,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e;switch(console.log("Loading translations for ".concat(r)),l(!1),r){case"hi":e=Et;break;case"ta":e=Mt;break;default:e=St}o(e),l(!0),console.log("Loaded translations for ".concat(r),e)},[r]);return(0,t.useEffect)(()=>{const e=localStorage.getItem("preferredLanguage");e&&i(e)},[]),(0,t.useEffect)(()=>{localStorage.setItem("preferredLanguage",r)},[r]),(0,Nt.jsx)(jt.Provider,{value:{language:r,setLanguage:i,t:e=>{const t=e.split(".");let n=a;console.log("Translation object structure:",a),console.log("Looking up key:",e);for(const r of t){if(console.log("Checking key part: ".concat(r),n),!n||"object"!==typeof n||!(r in n))return console.warn("Translation not found for key: ".concat(e)),e;n=n[r],console.log("Found key part: ".concat(r),n)}return console.log("Final result for ".concat(e,":"),n),"string"===typeof n?n:e},translationsLoaded:s},children:n})},At=()=>{const e=(0,t.useContext)(jt);if(void 0===e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Ct=(0,t.createContext)(void 0),kt=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(null),[s,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),n=localStorage.getItem("chatHistory");if(e&&t)try{const r=JSON.parse(t);if(c(e)){if(o(e),i(r),n)try{const e=JSON.parse(n).map(e=>u(u({},e),{},{createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),messages:e.messages.map(e=>u(u({},e),{},{timestamp:new Date(e.timestamp)}))}));l(e)}catch(yY){console.error("Failed to parse chat history:",yY)}}else localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("chatHistory")}catch(yY){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("chatHistory")}},[]),(0,t.useEffect)(()=>{r&&localStorage.setItem("chatHistory",JSON.stringify(s))},[s,r]);const c=e=>{try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(yY){return!1}};return(0,Nt.jsx)(Ct.Provider,{value:{user:r,login:(e,t)=>{i(e),o(t),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{i(null),o(null),l([]),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("chatHistory")},token:a,isTokenExpired:()=>!a||!c(a),chatHistory:s,addChatHistory:e=>{l(t=>[...t,e])},updateChatHistory:(e,t)=>{l(n=>n.map(n=>n.id===e?u(u({},n),{},{messages:t,updatedAt:new Date}):n))},deleteChatHistory:e=>{l(t=>t.filter(t=>t.id!==e))},clearChatHistory:()=>{l([])}},children:n})},Pt=()=>{const e=(0,t.useContext)(Ct);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e},Rt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ot=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const It=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ft=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d}=e,h=a(e,It);return(0,t.createElement)("svg",u(u(u({ref:n},Dt),{},{width:i,height:i,stroke:r,strokeWidth:s?24*Number(o)/Number(i):o,className:Lt("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(c)?c:[c]])}),Ut=["className"],zt=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{className:o}=r,s=a(r,Ut);return(0,t.createElement)(Ft,u({ref:i,iconNode:n,className:Lt("lucide-".concat(Rt(Ot(e))),"lucide-".concat(e),o)},s))});return r.displayName=Ot(e),r},Bt=zt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Vt=zt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Ht=zt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wt=zt("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Gt=()=>{const{user:e,logout:n}=Pt(),[r,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),s=fe(),l=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{r&&o(!1)},[r]);const c=()=>{n(),s("/")};return(0,Nt.jsxs)("header",{className:"bg-gradient-to-r from-indigo-700 to-purple-800 shadow-lg sticky top-0 z-50",children:[(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)(ft,{to:"/",className:"flex items-center space-x-3",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("img",{src:"/logo.jpg",alt:"DHARMASIKHARA Logo",className:"w-full h-full object-contain rounded-full"})}),(0,Nt.jsxs)("div",{className:"flex flex-col",children:[(0,Nt.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-lg animate-pulse",children:"DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-xs text-indigo-200 italic",children:"Master the Law, Embrace Justice"})]})]}),(0,Nt.jsxs)("div",{className:"hidden md:flex items-center",children:[(0,Nt.jsxs)("nav",{className:"flex space-x-1 mr-4",children:[(0,Nt.jsx)(ft,{to:"/",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Home"}),(0,Nt.jsx)(ft,{to:"/scenarios",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Scenarios"}),(0,Nt.jsx)(ft,{to:"/dashboard",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Dashboard"}),(0,Nt.jsx)(ft,{to:"/multiplayer",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Multiplayer"}),(0,Nt.jsx)(ft,{to:"/legal-assistant",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Legal Assistant"}),(0,Nt.jsx)(ft,{to:"/legal-research",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Legal Research"}),(0,Nt.jsx)(ft,{to:"/about",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"About"}),(0,Nt.jsx)(ft,{to:"/contact",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Contact"})]}),(0,Nt.jsxs)("div",{className:"flex items-center space-x-3",children:[e?(0,Nt.jsxs)("div",{className:"relative",ref:l,children:[(0,Nt.jsxs)("button",{className:"flex items-center space-x-2 text-white hover:bg-white/20 px-3 py-2 rounded-lg transition duration-300",onClick:()=>o(!a),children:[(0,Nt.jsx)(Bt,{className:"w-5 h-5"}),(0,Nt.jsx)("span",{className:"hidden md:inline",children:"Profile"})]}),a&&(0,Nt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50",children:[(0,Nt.jsx)(ft,{to:"/account/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-100",onClick:()=>o(!1),children:"Profile"}),(0,Nt.jsx)(ft,{to:"/account/subscription",className:"block px-4 py-2 text-gray-800 hover:bg-gray-100",onClick:()=>o(!1),children:"Subscription"}),(0,Nt.jsx)("div",{className:"border-t my-2"}),(0,Nt.jsxs)("button",{onClick:()=>{c(),o(!1)},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 flex items-center",children:[(0,Nt.jsx)(Vt,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):(0,Nt.jsx)("div",{className:"flex space-x-2",children:(0,Nt.jsx)(ft,{to:"/login",className:"text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",children:"Login"})}),(0,Nt.jsx)("button",{className:"md:hidden text-white hover:bg-white/20 p-2 rounded-lg transition duration-300",onClick:()=>i(!r),children:r?(0,Nt.jsx)(Ht,{className:"w-6 h-6"}):(0,Nt.jsx)(Wt,{className:"w-6 h-6"})})]})]}),(0,Nt.jsx)("button",{className:"md:hidden text-white hover:bg-white/20 p-2 rounded-lg transition duration-300",onClick:()=>i(!r),children:r?(0,Nt.jsx)(Ht,{className:"w-6 h-6"}):(0,Nt.jsx)(Wt,{className:"w-6 h-6"})})]})}),r&&(0,Nt.jsx)("div",{className:"md:hidden bg-indigo-800 py-4 px-4",children:(0,Nt.jsxs)("nav",{className:"space-y-2",children:[(0,Nt.jsx)(ft,{to:"/",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Home"}),(0,Nt.jsx)(ft,{to:"/scenarios",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Scenarios"}),(0,Nt.jsx)(ft,{to:"/dashboard",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Dashboard"}),(0,Nt.jsx)(ft,{to:"/multiplayer",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Multiplayer"}),(0,Nt.jsx)(ft,{to:"/legal-assistant",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Legal Assistant"}),(0,Nt.jsx)(ft,{to:"/legal-research",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Legal Research"}),(0,Nt.jsx)(ft,{to:"/about",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"About"}),(0,Nt.jsx)(ft,{to:"/contact",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Contact"}),(0,Nt.jsx)("div",{className:"border-t border-indigo-700 my-2"}),e?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(ft,{to:"/account/profile",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Profile"}),(0,Nt.jsx)(ft,{to:"/account/subscription",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Subscription"}),(0,Nt.jsxs)("button",{onClick:()=>{c(),i(!1)},className:"w-full text-left text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300 flex items-center",children:[(0,Nt.jsx)(Vt,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):(0,Nt.jsx)(ft,{to:"/login",className:"block text-white hover:bg-white/20 px-3 py-2 rounded-lg font-medium transition duration-300",onClick:()=>i(!1),children:"Login"})]})})]})},qt=()=>(0,Nt.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Nt.jsxs)("div",{className:"md:col-span-1",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("img",{src:"/logo.jpg",alt:"DHARMASIKHARA Logo",className:"w-full h-full object-contain rounded-full"})}),(0,Nt.jsxs)("div",{className:"flex flex-col",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent animate-pulse",children:"DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-xs text-gray-400 italic",children:"Master the Law, Embrace Justice"})]})]}),(0,Nt.jsx)("p",{className:"text-gray-400 mb-6",children:"Immersive Legal Practice Simulator transforming legal education through cutting-edge technology."})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Product"}),(0,Nt.jsxs)("ul",{className:"space-y-3",children:[(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Features"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Pricing"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Use Cases"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Roadmap"})})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Resources"}),(0,Nt.jsxs)("ul",{className:"space-y-3",children:[(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Documentation"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Tutorials"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Blog"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Support"})})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Company"}),(0,Nt.jsxs)("ul",{className:"space-y-3",children:[(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"About"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Careers"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Contact"})}),(0,Nt.jsx)("li",{children:(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300",children:"Partners"})})]})]})]}),(0,Nt.jsxs)("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[(0,Nt.jsx)("p",{className:"text-gray-400 mb-4 md:mb-0",children:"\xa9 2025 DHARMASIKHARA. All rights reserved."}),(0,Nt.jsxs)("div",{className:"flex space-x-6",children:[(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300 text-sm",children:"Privacy Policy"}),(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300 text-sm",children:"Terms of Service"}),(0,Nt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition duration-300 text-sm",children:"Cookies"})]})]})]})}),Kt=e=>{let{children:t}=e;return(0,Nt.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,Nt.jsx)(Gt,{}),(0,Nt.jsx)("main",{className:"flex-grow",children:t}),(0,Nt.jsx)(qt,{})]})},Xt=()=>(0,Nt.jsx)("section",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-20 md:py-28",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,Nt.jsxs)("div",{className:"md:w-1/2 mb-12 md:mb-0",children:[(0,Nt.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Master Legal Skills with ",(0,Nt.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"DHARMASIKHARA"})]}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl",children:"DHARMASIKHARA revolutionizes how law students and junior lawyers master courtroom skills with our cutting-edge virtual legal practice platform."}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,Nt.jsx)(ft,{to:"/scenarios",children:(0,Nt.jsx)("button",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition duration-300 font-bold text-lg shadow-lg transform hover:scale-105 transition-transform",children:"Explore Scenarios"})}),(0,Nt.jsx)(ft,{to:"/about",children:(0,Nt.jsx)("button",{className:"border-2 border-indigo-600 text-indigo-600 px-8 py-4 rounded-lg hover:bg-indigo-50 transition duration-300 font-bold text-lg shadow-md",children:"Learn More"})})]})]}),(0,Nt.jsx)("div",{className:"md:w-1/2 flex justify-center",children:(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("div",{className:"w-80 h-80 md:w-96 md:h-96 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center animate-pulse",children:(0,Nt.jsx)("div",{className:"w-72 h-72 md:w-88 md:h-88 bg-white rounded-full flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"w-64 h-64 md:w-80 md:h-80 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("img",{src:"/logo.jpg",alt:"DHARMASIKHARA Logo",className:"w-48 h-48 md:w-60 md:h-60 object-contain rounded-full"})})})}),(0,Nt.jsx)("div",{className:"absolute -top-4 -right-4 bg-white px-4 py-2 rounded-lg shadow-lg transform rotate-3 animate-bounce",children:(0,Nt.jsx)("p",{className:"text-indigo-600 font-bold",children:"Immersive Learning"})}),(0,Nt.jsx)("div",{className:"absolute -bottom-4 -left-4 bg-white px-4 py-2 rounded-lg shadow-lg transform -rotate-3 animate-bounce delay-100",children:(0,Nt.jsx)("p",{className:"text-purple-600 font-bold",children:"Real Cases"})})]})})]})})}),Yt=zt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Jt=zt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Zt=zt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$t=zt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Qt=zt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),en=()=>{const e=[{icon:(0,Nt.jsx)(Yt,{className:"w-8 h-8 text-indigo-600"}),title:"Realistic Legal Scenarios",description:"DHARMASIKHARA provides immersive, real-world legal scenarios that mirror actual courtroom experiences, helping you develop practical skills."},{icon:(0,Nt.jsx)(Jt,{className:"w-8 h-8 text-indigo-600"}),title:"Multiplayer Simulations",description:"Practice with peers from around the world in collaborative legal simulations that enhance your teamwork and advocacy skills."},{icon:(0,Nt.jsx)(Zt,{className:"w-8 h-8 text-indigo-600"}),title:"Instant AI Feedback",description:"Receive immediate, detailed feedback from our advanced AI legal experts to accelerate your learning and improvement."},{icon:(0,Nt.jsx)($t,{className:"w-8 h-8 text-indigo-600"}),title:"Performance Analytics",description:"Track your progress with comprehensive analytics and personalized insights to identify strengths and areas for improvement."},{icon:(0,Nt.jsx)(Qt,{className:"w-8 h-8 text-indigo-600"}),title:"Legal Document Analysis",description:"AI-powered analysis of legal documents to identify key terms, summarize content, and classify document types.",link:"/legal-analysis"}];return(0,Nt.jsx)("section",{className:"py-20 bg-gradient-to-br from-white to-indigo-50",children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Nt.jsxs)("div",{className:"text-center mb-16",children:[(0,Nt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why DHARMASIKHARA Stands Apart"}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"DHARMASIKHARA bridges the gap between legal theory and practice by offering an immersive simulation environment where learners can experience realistic courtroom scenarios without real-world consequences."})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e,t)=>(0,Nt.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-indigo-100 hover:shadow-xl transition duration-300 transform hover:-translate-y-2 ".concat(e.link?"cursor-pointer":""),onClick:()=>e.link&&(window.location.href=e.link),children:[(0,Nt.jsx)("div",{className:"mb-4 w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:e.icon}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),(0,Nt.jsx)("p",{className:"text-gray-600",children:e.description}),e.link&&(0,Nt.jsx)("div",{className:"mt-4",children:(0,Nt.jsxs)(ft,{to:e.link,className:"text-indigo-600 font-medium hover:text-indigo-800 flex items-center",children:["Try now",(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Nt.jsx)("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]},t))})]})})},tn=()=>(0,Nt.jsx)("section",{className:"py-20 bg-gradient-to-br from-indigo-50 to-purple-50",children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Nt.jsxs)("div",{className:"text-center mb-16",children:[(0,Nt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Who Benefits From DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"DHARMASIKHARA serves the entire legal ecosystem, from students taking their first steps in law to established professionals seeking continuous improvement."})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{title:"Law Students",description:"Gain practical courtroom experience before entering the real legal world. Build confidence and competence through immersive simulations."},{title:"Junior Lawyers",description:"Sharpen your advocacy skills and prepare for complex cases with realistic scenarios designed by legal experts."},{title:"Legal Educators",description:"Enhance your curriculum with cutting-edge technology that engages students and provides measurable learning outcomes."},{title:"Law Firms",description:"Train your associates more effectively with cost-efficient, scalable simulations that develop real-world skills."}].map((e,t)=>(0,Nt.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-indigo-100 hover:shadow-xl transition duration-300 transform hover:-translate-y-2",children:[(0,Nt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mb-6",children:(0,Nt.jsx)("span",{className:"text-2xl font-bold text-white",children:t+1})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),(0,Nt.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),nn=()=>(0,Nt.jsx)("section",{className:"py-20 bg-white",children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Nt.jsxs)("div",{className:"text-center mb-16",children:[(0,Nt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"The Team Behind DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"DHARMASIKHARA is built by a diverse team of legal experts, educators, and technologists."})]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-8 md:p-12 mb-16",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,Nt.jsx)("div",{className:"md:w-1/3 mb-8 md:mb-0 flex justify-center",children:(0,Nt.jsx)("div",{className:"w-48 h-48 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"w-44 h-44 bg-white rounded-full flex items-center justify-center",children:(0,Nt.jsx)("img",{src:"/logo.jpg",alt:"DHARMASIKHARA Logo",className:"w-36 h-36 object-contain rounded-full"})})})}),(0,Nt.jsxs)("div",{className:"md:w-2/3 md:pl-12 text-center md:text-left",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Be the First to Experience DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Join our exclusive beta program and help shape the future of legal education. Get early access to new features and scenarios while contributing to the development of this revolutionary platform."}),(0,Nt.jsx)(ft,{to:"/contact",children:(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-bold",children:"Join Beta Program"})})]})]})})]})}),rn=()=>(0,Nt.jsxs)(Kt,{children:[(0,Nt.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Nt.jsx)(ft,{to:"/test-animation",className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors",children:"Test Animation"})}),(0,Nt.jsxs)("div",{className:"overflow-y-auto",children:[(0,Nt.jsx)(Xt,{}),(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Nt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:(0,Nt.jsx)("div",{className:"lg:col-span-2",children:(0,Nt.jsx)(en,{})})})}),(0,Nt.jsx)(tn,{}),(0,Nt.jsx)(nn,{})]})]}),an=zt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),on=zt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),sn=zt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ln=zt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),cn=zt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),un=zt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),dn=()=>{const[e,n]=t.useState([{_id:"1",title:"The Inventory That Changed Everything",description:"A sales executive is accused of theft after a valuable laptop goes missing during an inventory check. As his defense attorney, you must investigate the case, interview the client, research relevant laws, and argue for bail. The truth is hidden in the details - can you uncover what really happened?",practiceArea:"Criminal Law",difficulty:"Intermediate",estimatedTime:30,rating:4.7,reviewCount:32,price:0,tags:["bail application","client counseling","legal research","oral advocacy","investigation","evidence analysis by lawyer"],status:"published",createdAt:"2025-01-15T10:30:00Z",updatedAt:"2025-01-20T14:45:00Z",creator:{username:"LegalExpert2025"}}]),[r,i]=t.useState([]),[a,o]=t.useState(!0),[s,l]=t.useState(""),[c,u]=t.useState(""),[d,h]=t.useState("All"),[p,m]=t.useState("All");t.useEffect(()=>{setTimeout(()=>{o(!1),i(e)},500)},[e]),t.useEffect(()=>{let t=[...e];c&&(t=t.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()))),"All"!==d&&(t=t.filter(e=>e.practiceArea===d)),"All"!==p&&(t=t.filter(e=>e.difficulty===p)),i(t)},[c,d,p,e]);const f=e=>{if(e<60)return"".concat(e," min");{const t=Math.floor(e/60),n=e%60;return n>0?"".concat(t,"h ").concat(n,"m"):"".concat(t,"h")}},g=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-blue-100 text-blue-800";case"Advanced":return"bg-yellow-100 text-yellow-800";case"Expert":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading scenarios..."})]})}):s?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Scenarios"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:s}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,Nt.jsxs)("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[(0,Nt.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:["Legal ",(0,Nt.jsx)("span",{className:"text-indigo-600",children:"Scenario"})," Library"]}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Practice with realistic legal scenarios designed to challenge your investigative and advocacy skills"}),(0,Nt.jsx)("div",{className:"flex flex-col sm:flex-row justify-center gap-4"})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-12 border border-gray-100",children:[(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"relative flex-1",children:[(0,Nt.jsx)(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Nt.jsx)("input",{type:"text",placeholder:"Search scenarios by title, description, or tags...",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm",value:c,onChange:e=>u(e.target.value)})]}),(0,Nt.jsxs)("button",{className:"bg-indigo-600 text-white px-6 py-4 rounded-xl hover:bg-indigo-700 transition duration-300 font-medium flex items-center shadow-lg hover:shadow-xl",onClick:()=>{alert("Advanced filters will help you find the perfect legal scenario for your practice needs. This feature is coming soon!")},children:[(0,Nt.jsx)(on,{className:"w-5 h-5 mr-2"}),"Advanced Filters"]})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Nt.jsx)("select",{className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm hover:shadow-md transition-shadow duration-300",value:d,onChange:e=>h(e.target.value),children:["All","Criminal Law","Civil Law","Corporate Law","Family Law","Constitutional Law","Tax Law","Intellectual Property"].map(e=>(0,Nt.jsx)("option",{value:e,children:e},e))})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,Nt.jsx)("select",{className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm hover:shadow-md transition-shadow duration-300",value:p,onChange:e=>m(e.target.value),children:["All","Beginner","Intermediate","Advanced","Expert"].map(e=>(0,Nt.jsx)("option",{value:e,children:e},e))})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Type"}),(0,Nt.jsxs)("select",{className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm hover:shadow-md transition-shadow duration-300",onChange:e=>{alert("Filtering by ".concat(e.target.value," access type. Premium scenarios offer advanced features and detailed feedback."))},children:[(0,Nt.jsx)("option",{children:"All Types"}),(0,Nt.jsx)("option",{children:"Free Only"}),(0,Nt.jsx)("option",{children:"Premium Only"})]})]})]})]}),r.length>0&&(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-xl p-8 mb-12 text-white",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,Nt.jsxs)("div",{className:"md:w-2/3 mb-6 md:mb-0 md:pr-8",children:[(0,Nt.jsxs)("div",{className:"inline-flex items-center bg-white bg-opacity-20 text-white text-sm font-medium px-3 py-1 rounded-full mb-4",children:[(0,Nt.jsx)(sn,{className:"w-4 h-4 mr-2"}),"Featured Mystery"]}),(0,Nt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:r[0].title}),(0,Nt.jsxs)("p",{className:"text-indigo-100 mb-6",children:[r[0].description.substring(0,150),"..."]}),(0,Nt.jsx)(ft,{to:"/scenarios/".concat(r[0]._id),children:(0,Nt.jsxs)("button",{className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-bold hover:bg-indigo-50 transition duration-300 flex items-center",children:[(0,Nt.jsx)(ln,{className:"w-5 h-5 mr-2"}),"Unlock the Mystery",(0,Nt.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),(0,Nt.jsx)("div",{className:"md:w-1/3 flex justify-center",children:(0,Nt.jsx)("div",{className:"bg-white bg-opacity-20 rounded-full w-48 h-48 flex items-center justify-center",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)(ln,{className:"w-16 h-16 text-white mx-auto mb-4"}),(0,Nt.jsx)("div",{className:"font-bold text-lg",children:"Solve the Case"})]})})})]})}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Scenarios"}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(e=>(0,Nt.jsx)(ft,{to:"/scenarios/".concat(e._id),className:"block group",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 h-full flex flex-col",children:[(0,Nt.jsxs)("div",{className:"p-6 flex-grow",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors line-clamp-2",children:e.title}),0===e.price?(0,Nt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded-full",children:"FREE"}):(0,Nt.jsxs)("span",{className:"bg-purple-100 text-purple-800 text-xs font-bold px-2 py-1 rounded-full",children:[e.price," pts"]})]}),(0,Nt.jsx)("p",{className:"text-gray-600 text-sm mb-6 line-clamp-3",children:e.description}),(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500 mb-6",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(Yt,{className:"w-4 h-4 mr-1"}),e.practiceArea]}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(cn,{className:"w-4 h-4 mr-1"}),f(e.estimatedTime)]})]}),(0,Nt.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:e.tags.slice(0,3).map((e,t)=>(0,Nt.jsx)("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-full",children:e},t))})]}),(0,Nt.jsxs)("div",{className:"p-6 pt-0",children:[(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,Nt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-bold border ".concat(g(e.difficulty)),children:e.difficulty}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(un,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),(0,Nt.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[e.rating," (",e.reviewCount,")"]})]})]}),(0,Nt.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("span",{className:"text-xs text-gray-500",children:["By ",e.creator.username]}),(0,Nt.jsxs)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-bold flex items-center group-hover:underline",onClick:e=>{e.preventDefault(),alert("Prepare to dive into this legal mystery! You will interview the client, analyze evidence, and build your case. The truth is hidden in the details - can you uncover what really happened?")},children:["Investigate Case",(0,Nt.jsx)("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})})]})]})},e._id))})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-sm border border-amber-200 p-12 text-center",children:[(0,Nt.jsx)("div",{className:"bg-amber-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,Nt.jsx)(sn,{className:"w-10 h-10 text-amber-600"})}),(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"More Legal Mysteries Coming Soon"}),(0,Nt.jsx)("p",{className:"text-amber-800 text-lg max-w-2xl mx-auto mb-8",children:"We're working on creating new challenging legal scenarios for you. Each case will present unique mysteries for you to solve and skills to develop."}),(0,Nt.jsxs)("button",{className:"inline-flex items-center bg-amber-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-amber-600 transition duration-300",onClick:()=>{alert('Thank you for your interest! We will notify you when new legal scenarios are available. In the meantime, enjoy solving "The Inventory That Changed Everything" mystery.')},children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notify Me When Available"]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-sm border border-purple-200 p-12 text-center mt-8",children:[(0,Nt.jsx)("div",{className:"bg-purple-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,Nt.jsx)(Yt,{className:"w-10 h-10 text-purple-600"})}),(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Detailed Case File Simulation"}),(0,Nt.jsx)("p",{className:"text-purple-800 text-lg max-w-2xl mx-auto mb-8",children:"Explore our enhanced legal scenario with detailed case files, evidence analysis, and interactive documents."}),(0,Nt.jsx)(ft,{to:"/scenario-simulation",children:(0,Nt.jsxs)("button",{className:"inline-flex items-center bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-bold hover:from-purple-600 hover:to-pink-600 transition duration-300",children:[(0,Nt.jsx)(Yt,{className:"w-5 h-5 mr-2"}),"Access Detailed Case Files"]})})]})]})},hn=()=>(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)(dn,{})}),pn="undefined"!==typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)?"http://localhost:5000":"undefined"!==typeof window?window.location.origin:"",mn=async(e,t)=>{try{const n=localStorage.getItem("token"),r=u(u({scenarioId:e},t),{},{timestamp:(new Date).toISOString()});if(localStorage.setItem("scenario-progress-".concat(e),JSON.stringify(r)),!n)return console.warn("No authentication token found, saving to localStorage only"),r;const i={scenarioId:e,status:t.currentStage||t.status||"",progress:void 0!==t.progress?t.progress:0,completedStages:t.completedStages||[],score:void 0!==t.assessmentScore?t.assessmentScore:null,timeSpent:t.totalTimeSpent||t.time_spent||0,feedback:t.feedback||""},a=await fetch("".concat(pn,"/api/progress"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(i)});return 401===a.status?(console.warn("Authentication failed, saved to localStorage only"),r):a.ok?await a.json():(console.warn("Backend API failed, saved to localStorage only"),r)}catch(n){console.warn("Error saving user progress, saved to localStorage:",n);const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}},fn=async e=>{try{const t=localStorage.getItem("token");if(!t){console.warn("No authentication token found, checking localStorage only");const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}const n=await fetch("".concat(pn,"/api/progress/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(401===n.status){console.warn("Authentication failed, checking localStorage only");const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}if(!n.ok){if(404===n.status){const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}throw new Error("Failed to fetch progress")}const r=await n.json();if(null===r.data){const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}return{currentStage:r.status||"",progress:r.progress||0,completedStages:r.completed_stages||[],lastUpdated:r.last_updated||(new Date).toISOString(),totalTimeSpent:r.time_spent||0,assessmentScore:r.score||null,feedback:r.feedback||""}}catch(t){console.warn("Error fetching user progress, trying localStorage:",t);try{const t=localStorage.getItem("scenario-progress-".concat(e));return t?JSON.parse(t):null}catch(n){return console.error("Error reading from localStorage:",n),null}}},gn=()=>{var e,n,r,i,a,o,s;const{user:l}=Pt(),c=fe(),u=(0,t.useRef)(null),d=(0,t.useRef)(null),h=(0,t.useRef)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(0),f=(0,t.useRef)(null),g=(0,t.useRef)(null),v=(0,t.useRef)(null),y=(0,t.useRef)(null),x=(0,t.useRef)(null),b=(0,t.useRef)(null),w=(0,t.useRef)(null),_=(0,t.useRef)(null),S=(0,t.useRef)(null),E=(0,t.useRef)(null),M=(0,t.useRef)(null),N=(0,t.useRef)(null),j=(0,t.useRef)(null),T=(0,t.useRef)(null),A=(0,t.useRef)(null),C=(0,t.useRef)(null),k=(0,t.useRef)(null),P=(0,t.useRef)(null),R=(0,t.useRef)(null),O=(0,t.useRef)(null),L=(0,t.useRef)(null),[D,I]=(0,t.useState)(0),[F,U]=(0,t.useState)(!1),[z,B]=(0,t.useState)(!1),[V,H]=(0,t.useState)(!1),[W,G]=(0,t.useState)(null),[q,K]=(0,t.useState)(!1),[X,Y]=(0,t.useState)(""),J=(0,t.useRef)({"Court Clerk":{name:"Court Clerk",role:"Court Official",description:"Responsible for maintaining court records and assisting the presiding officer",color:"#6b7280"},Magistrate:{name:"Hon'ble Magistrate Smt. Kavitha Narayan",role:"Presiding Officer",description:"Judicial officer conducting the bail hearing",color:"#f59e0b"},"Defense Attorney":{name:"Defense Attorney",role:"Legal Representative",description:"Representing the accused in the bail hearing",color:"#3b82f6"},"Public Prosecutor":{name:"Public Prosecutor",role:"State Representative",description:"Representing the state in the legal proceedings",color:"#ef4444"},"Rajesh Kumar":{name:"Rajesh Kumar",role:"Accused",description:"Person seeking bail in the theft case",color:"#10b981"},"Ramesh Kumar":{name:"Ramesh Kumar",role:"Surety/Father",description:"Father of the accused, willing to stand surety",color:"#8b5cf6"},"Arjun Rao":{name:"Arjun Rao",role:"Surety/Brother-in-law",description:"Brother-in-law of the accused, willing to stand surety",color:"#ec4899"}}),Z=(0,t.useRef)({lightsOn:!0,fansOn:!0,witnessVisible:!1,soundOn:!0,doorOpen:!1,nightMode:!1,controlsVisible:!0,currentView:"free"}),$=(0,t.useRef)([]),Q=(0,t.useRef)([]),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),ne=(0,t.useRef)(null),re=(0,t.useRef)(null),ie=(0,t.useRef)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/bail_hearing_script.json");if(e.ok){const t=await e.json();G(t)}else G({case_details:{case_number:"BAIL/2025/3847",case_title:"Rajesh Kumar vs State of Karnataka",court:"Court of Additional Chief Judicial Magistrate, Bangalore",date:"October 17, 2025",offense:"BNS Section 303(1) - Theft",value_of_property:"\u20b945,000",presiding_officer:"Hon'ble Magistrate Smt. Kavitha Narayan"},court_session:[],post_hearing_procedures:[],case_summary:{}})}catch(e){console.error("Error loading bail hearing script:",e),G({case_details:{case_number:"BAIL/2025/3847",case_title:"Rajesh Kumar vs State of Karnataka",court:"Court of Additional Chief Judicial Magistrate, Bangalore",date:"October 17, 2025",offense:"BNS Section 303(1) - Theft",value_of_property:"\u20b945,000",presiding_officer:"Hon'ble Magistrate Smt. Kavitha Narayan"},court_session:[],post_hearing_procedures:[],case_summary:{}})}})()},[]),(0,t.useEffect)(()=>{const e=()=>{window.appAudioContext&&"suspended"===window.appAudioContext.state&&window.appAudioContext.resume();const t=document.getElementById("audio-prompt");t&&(t.style.display="none"),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)};if(document.addEventListener("click",e),document.addEventListener("keydown",e),document.addEventListener("touchstart",e,{once:!0}),window.THREE)return void ae();const t=document.createElement("script");return t.src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js",t.onload=()=>{ae()},t.onerror=()=>{console.error("Failed to load Three.js")},document.head.appendChild(t),()=>{m.current&&cancelAnimationFrame(m.current),p.current&&p.current.dispose(),U(!1),B(!1);for(let e=0;e<1e3;e++)clearTimeout(e);document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e),window.speechSynthesis&&window.speechSynthesis.cancel()}},[]);const ae=()=>{const e=window.THREE;if(!e)return void console.error("Three.js not loaded");if(!u.current)return void console.error("Container not found");d.current=new e.Scene,d.current.background=new e.Color(1710618),d.current.fog=new e.Fog(1710618,20,100);const t=u.current;h.current=new e.PerspectiveCamera(60,t.clientWidth/t.clientHeight,.1,1e3),h.current.position.set(0,8,25),h.current.lookAt(0,3,-15),p.current=new e.WebGLRenderer({antialias:!0}),p.current.setSize(t.clientWidth,t.clientHeight),p.current.setPixelRatio(Math.min(window.devicePixelRatio,2)),p.current.shadowMap.enabled=!0,p.current.shadowMap.type=e.PCFSoftShadowMap,t.innerHTML="",t.appendChild(p.current.domElement),oe(e),xe(e),be(e),g.current&&(g.current.style.display="none"),f.current=new e.Clock,Ie(e),window.addEventListener("resize",()=>(()=>{if(h.current&&p.current&&u.current){const e=u.current;h.current.aspect=e.clientWidth/e.clientHeight,h.current.updateProjectionMatrix(),p.current.setSize(e.clientWidth,e.clientHeight)}})())},oe=e=>{if(!d.current)return;const t=new e.PlaneGeometry(70,90),n=new e.MeshStandardMaterial({color:9139029,roughness:.3,metalness:.4,envMapIntensity:.5}),r=new e.Mesh(t,n);r.rotation.x=-Math.PI/2,r.receiveShadow=!0,d.current.add(r);const i=new e.MeshStandardMaterial({color:13154453,roughness:.85,metalness:.05}),a=new e.Mesh(new e.BoxGeometry(70,18,1),i);a.position.set(0,9,-45),a.receiveShadow=!0,d.current.add(a);const o=new e.Mesh(new e.BoxGeometry(1,18,90),i);o.position.set(-35,9,0),o.receiveShadow=!0,d.current.add(o);const s=new e.Mesh(new e.BoxGeometry(1,18,90),i);s.position.set(35,9,0),s.receiveShadow=!0,d.current.add(s);const l=new e.Mesh(new e.PlaneGeometry(70,90),new e.MeshStandardMaterial({color:16119260,roughness:.9,side:e.DoubleSide}));l.rotation.x=Math.PI/2,l.position.y=18,l.receiveShadow=!0,d.current.add(l),se(e),le(e),ce(e,-10,-10,3900150,"Defense"),ce(e,10,-10,15680580,"Prosecution"),ue(e),de(e),he(e),pe(e),me(e),ge(e),ve(e),ye(e)},se=e=>{const t=new e.Group,n=new e.BoxGeometry(22,2,10),r=new e.MeshStandardMaterial({color:6111287,roughness:.6,metalness:.3}),i=new e.Mesh(n,r);i.position.y=1,i.castShadow=!0,i.receiveShadow=!0,t.add(i);const a=new e.Mesh(new e.BoxGeometry(20,.4,8),new e.MeshStandardMaterial({color:7162945,roughness:.4,metalness:.4}));a.position.set(0,2.8,0),a.castShadow=!0,t.add(a);const o=new e.Mesh(new e.BoxGeometry(20,1.6,.4),new e.MeshStandardMaterial({color:6111287,roughness:.7}));o.position.set(0,2,3.8),t.add(o);for(let d=-8;d<=8;d+=4){const n=new e.Mesh(new e.BoxGeometry(.3,1.2,.3),new e.MeshStandardMaterial({color:4073251}));n.position.set(d,2,4),t.add(n)}const s=new e.Mesh(new e.BoxGeometry(2.5,.3,2.5),new e.MeshStandardMaterial({color:2889744}));s.position.set(0,2.5,-2.5),s.castShadow=!0,t.add(s);const l=new e.Mesh(new e.BoxGeometry(2.5,3,.4),new e.MeshStandardMaterial({color:1710618}));l.position.set(0,4,-3.5),l.castShadow=!0,t.add(l);const c=new e.Mesh(new e.CylinderGeometry(.7,.9,2.8,12),new e.MeshStandardMaterial({color:1710618}));c.position.set(0,4.2,-2.5),c.castShadow=!0,t.add(c);const u=new e.Mesh(new e.SphereGeometry(.6,20,20),new e.MeshStandardMaterial({color:16767924,roughness:.8}));u.position.set(0,5.8,-2.5),u.castShadow=!0,t.add(u);const h=new e.Mesh(new e.CylinderGeometry(.12,.12,1.4,12),new e.MeshStandardMaterial({color:7162945,roughness:.5,metalness:.2}));h.position.set(4,3.1,1),h.rotation.z=Math.PI/2,t.add(h),te.current=h;const p=new e.Mesh(new e.CylinderGeometry(.3,.35,.7,12),new e.MeshStandardMaterial({color:6111287,roughness:.6,metalness:.3}));p.position.set(4.7,3.1,1),p.rotation.z=Math.PI/2,p.castShadow=!0,t.add(p),ee.current=p;const m=new e.Mesh(new e.CylinderGeometry(.8,.8,.3,16),new e.MeshStandardMaterial({color:4073251}));m.position.set(4.5,2.95,1),m.rotation.x=Math.PI/2,t.add(m);const f=new e.Mesh(new e.BoxGeometry(.6,.15,.9),new e.MeshStandardMaterial({color:9109504,roughness:.7}));f.position.set(-3,3.15,.5),f.rotation.y=.3,f.castShadow=!0,t.add(f);const g=new e.Mesh(new e.CylinderGeometry(.2,.3,.3,16),new e.MeshStandardMaterial({color:14329120,roughness:.3,metalness:.8}));g.position.set(-4.5,3.1,.5),t.add(g);const v=new e.Mesh(new e.SphereGeometry(.15,8,8),new e.MeshStandardMaterial({color:16753920,emissive:16737792,emissiveIntensity:.8}));v.position.set(-4.5,3.4,.5),t.add(v);for(let d=0;d<2;d++){const n=0===d?-8:8,r=new e.Mesh(new e.CylinderGeometry(.6,.7,2.5,12),new e.MeshStandardMaterial({color:1850714}));r.position.set(n,3.2,-3.5),r.castShadow=!0,t.add(r);const i=new e.Mesh(new e.SphereGeometry(.45,16,16),new e.MeshStandardMaterial({color:16767924}));i.position.set(n,4.5,-3.5),i.castShadow=!0,t.add(i)}t.position.set(0,0,-32),d.current.add(t)},le=e=>{const t=new e.Group,n=new e.Mesh(new e.BoxGeometry(4,.4,4),new e.MeshStandardMaterial({color:7162945,roughness:.5,metalness:.3}));n.position.y=.2,n.castShadow=!0,t.add(n);const r=new e.MeshStandardMaterial({color:6111287,roughness:.7}),i=new e.Mesh(new e.BoxGeometry(4,2.5,.3),r);i.position.set(0,1.5,-1.85),t.add(i);const a=new e.Mesh(new e.BoxGeometry(.3,2.5,4),r);a.position.set(-1.85,1.5,0),t.add(a);const o=new e.Mesh(new e.BoxGeometry(4,.2,.2),r);o.position.set(0,1.5,1.9),t.add(o);const s=new e.Mesh(new e.CylinderGeometry(.55,.65,2.5,12),new e.MeshStandardMaterial({color:2899536}));s.position.set(0,1.7,0),s.castShadow=!0,s.visible=!1,t.add(s);const l=new e.Mesh(new e.SphereGeometry(.45,16,16),new e.MeshStandardMaterial({color:16767924}));l.position.set(0,3.2,0),l.castShadow=!0,l.visible=!1,t.add(l),ne.current={body:s,head:l,group:t},t.position.set(14,0,-16),d.current.add(t)},ce=(e,t,n,r,i)=>{const a=new e.Group,o=new e.Mesh(new e.BoxGeometry(7,.25,5),new e.MeshStandardMaterial({color:7162945,roughness:.4,metalness:.4}));o.position.y=1.2,o.castShadow=!0,a.add(o);[[-3,.6,-2],[3,.6,-2],[-3,.6,2],[3,.6,2]].forEach(t=>{const n=new e.Mesh(new e.BoxGeometry(.25,1.2,.25),new e.MeshStandardMaterial({color:6111287}));n.position.set(t[0],t[1],t[2]),n.castShadow=!0,a.add(n)});const s=new e.Mesh(new e.BoxGeometry(1.2,.05,.9),new e.MeshStandardMaterial({color:3355443}));s.position.set(-1.5,1.35,-.5),s.castShadow=!0,a.add(s);for(let d=0;d<2;d++){const t=new e.Mesh(new e.BoxGeometry(.8,.2,1.1),new e.MeshStandardMaterial({color:16775920}));t.position.set(1+1.5*d,1.35,-.3),t.castShadow=!0,a.add(t)}const l=new e.Mesh(new e.BoxGeometry(1.5,.2,1.5),new e.MeshStandardMaterial({color:6111287}));l.position.set(0,1,3),l.castShadow=!0,a.add(l);const c=new e.Mesh(new e.BoxGeometry(1.5,2,.3),new e.MeshStandardMaterial({color:6111287}));c.position.set(0,2,3.6),c.castShadow=!0,a.add(c);const u=new e.Mesh(new e.CylinderGeometry(.6,.7,2.5,12),new e.MeshStandardMaterial({color:1710618}));u.position.set(0,2.5,3),u.castShadow=!0,a.add(u);const h=new e.Mesh(new e.SphereGeometry(.45,16,16),new e.MeshStandardMaterial({color:16767924}));h.position.set(0,3.8,3),h.castShadow=!0,a.add(h);const p=new e.Mesh(new e.BoxGeometry(1,.15,1.3),new e.MeshStandardMaterial({color:r}));p.position.set(-2,1.4,.5),p.castShadow=!0,a.add(p),a.position.set(t,0,n),d.current.add(a)},ue=e=>{ie.current=[];for(let t=0;t<5;t++)for(let n=0;n<10;n++){const r=2*(n-4.5),i=12+2.5*t,a=new e.Mesh(new e.BoxGeometry(1.4,.3,1.4),new e.MeshStandardMaterial({color:7162945,roughness:.6}));a.position.set(r,.15,i),a.castShadow=!0,d.current.add(a);const o=new e.Mesh(new e.BoxGeometry(1.4,1.8,.2),new e.MeshStandardMaterial({color:6111287}));if(o.position.set(r,1.1,i-.6),o.castShadow=!0,d.current.add(o),Math.random()>.25){const t=[2899536,3426654,6122878,1845299],n=t[Math.floor(Math.random()*t.length)],a=new e.Mesh(new e.CylinderGeometry(.4,.5,1.8,12),new e.MeshStandardMaterial({color:n}));a.position.set(r,1.3,i),a.castShadow=!0,d.current.add(a);const o=new e.Mesh(new e.SphereGeometry(.35,16,16),new e.MeshStandardMaterial({color:16767924}));o.position.set(r,2.3,i),o.castShadow=!0,d.current.add(o),ie.current.push({body:a,head:o})}}},de=e=>{Q.current=[];[[-12,16.5,-22],[12,16.5,-22],[-12,16.5,0],[12,16.5,0]].forEach(t=>{const n=new e.Group,r=new e.Mesh(new e.CylinderGeometry(.6,.7,1,20),new e.MeshStandardMaterial({color:4473924,roughness:.4,metalness:.6}));n.add(r);for(let i=0;i<4;i++){const t=new e.Mesh(new e.BoxGeometry(3.5,.12,.7),new e.MeshStandardMaterial({color:7162945,roughness:.5}));t.rotation.y=i*Math.PI/2,t.position.y=-.6,t.castShadow=!0,n.add(t)}n.position.set(t[0],t[1],t[2]),d.current.add(n),Q.current.push(n)})},he=e=>{const t=new e.Group,n=new e.Mesh(new e.BoxGeometry(4,6,.4),new e.MeshStandardMaterial({color:6111287}));t.add(n);const r=new e.Mesh(new e.BoxGeometry(3.5,5.5,.3),new e.MeshStandardMaterial({color:7162945,roughness:.6}));r.position.z=.2,r.castShadow=!0,t.add(r),re.current=r;const i=new e.Mesh(new e.BoxGeometry(.3,.15,.3),new e.MeshStandardMaterial({color:14329120,roughness:.3,metalness:.8}));i.position.set(1.2,0,.4),r.add(i),t.position.set(-30,3,40),t.rotation.y=Math.PI/2,d.current.add(t)},pe=e=>{const t=new e.Group,n=new e.Mesh(new e.CylinderGeometry(1.8,1.8,.4,32),new e.MeshStandardMaterial({color:16766720,roughness:.2,metalness:.9}));t.add(n);const r=new e.Mesh(new e.CylinderGeometry(.6,.8,2.5,24),new e.MeshStandardMaterial({color:14329120,roughness:.3,metalness:.8}));r.position.y=1.5,t.add(r);for(let a=0;a<4;a++){const n=new e.Mesh(new e.SphereGeometry(.4,16,16),new e.MeshStandardMaterial({color:12092939,roughness:.4,metalness:.7})),r=a*Math.PI/2;n.position.set(.6*Math.cos(r),2.8,.6*Math.sin(r)),t.add(n)}const i=new e.Mesh(new e.TorusGeometry(.5,.08,16,32),new e.MeshStandardMaterial({color:128,roughness:.3,metalness:.8}));i.position.y=3.5,i.rotation.x=Math.PI/2,t.add(i),t.position.set(0,12,-44.5),d.current.add(t)},me=e=>{const t=new e.Group,n=new e.Mesh(new e.BoxGeometry(1.5,2,1.5),new e.MeshStandardMaterial({color:14737632,roughness:.5,metalness:.3}));n.position.y=1,n.castShadow=!0,t.add(n);const r=new e.Mesh(new e.CylinderGeometry(.4,.5,2,16),new e.MeshStandardMaterial({color:16119285,roughness:.4,metalness:.4}));r.position.y=3.2,r.castShadow=!0,t.add(r);const i=new e.Mesh(new e.SphereGeometry(.35,16,16),new e.MeshStandardMaterial({color:16119285,roughness:.4}));i.position.y=4.5,i.castShadow=!0,t.add(i);const a=new e.Mesh(new e.BoxGeometry(.6,.15,.15),new e.MeshStandardMaterial({color:3355443}));a.position.set(0,4.5,.2),t.add(a);const o=new e.Mesh(new e.CylinderGeometry(.05,.05,.8,8),new e.MeshStandardMaterial({color:14329120,metalness:.9}));o.position.set(-.6,3.8,0),o.rotation.z=Math.PI/2,t.add(o),[-1,-.2].forEach(n=>{const r=new e.Mesh(new e.CylinderGeometry(.2,.15,.1,16),new e.MeshStandardMaterial({color:14329120,metalness:.9}));r.position.set(n,3.8,0),t.add(r)});const s=new e.Mesh(new e.BoxGeometry(.1,1.2,.05),new e.MeshStandardMaterial({color:12632256,metalness:.95,roughness:.1}));s.position.set(.6,3.2,0),s.castShadow=!0,t.add(s),t.position.set(-10,0,-38),d.current.add(t)},ge=e=>{[-18,18].forEach(t=>{const n=new e.Group,r=new e.Mesh(new e.BoxGeometry(6,2,8),new e.MeshStandardMaterial({color:6111287,roughness:.7}));r.position.y=1,r.castShadow=!0,n.add(r);const i=new e.Mesh(new e.BoxGeometry(6,.3,.3),new e.MeshStandardMaterial({color:7162945}));i.position.set(0,1.5,4),n.add(i);for(let a=0;a<3;a++){const t=new e.Mesh(new e.BoxGeometry(1.5,.2,1.5),new e.MeshStandardMaterial({color:7162945}));t.position.set(2*a-2,.8,a%2*2-2),t.castShadow=!0,n.add(t)}n.position.set(t,0,-20),d.current.add(n)})},ve=e=>{const t=new e.Group,n=new e.Mesh(new e.BoxGeometry(8,4.5,.2),new e.MeshStandardMaterial({color:2894892}));t.add(n);const r=new e.Mesh(new e.PlaneGeometry(7.5,4),new e.MeshStandardMaterial({color:1710638,emissive:996448,emissiveIntensity:.3}));r.position.z=.15,t.add(r),t.position.set(0,8,-25),d.current.add(t)},ye=e=>{[[-28,0,-35],[28,0,-35],[-28,0,-10],[28,0,-10]].forEach(t=>{const n=new e.Mesh(new e.CylinderGeometry(.8,1,16,20),new e.MeshStandardMaterial({color:13154453,roughness:.7}));n.position.set(t[0],t[1]+8,t[2]),n.castShadow=!0,n.receiveShadow=!0,d.current.add(n);const r=new e.Mesh(new e.BoxGeometry(1.6,.8,1.6),new e.MeshStandardMaterial({color:14329120}));r.position.set(t[0],16.5,t[2]),d.current.add(r)})},xe=e=>{$.current=[];const t=new e.AmbientLight(16777215,.5);d.current.add(t),$.current.push(t);const n=new e.DirectionalLight(16777215,1);n.position.set(15,25,15),n.castShadow=!0,n.shadow.camera.left=-50,n.shadow.camera.right=50,n.shadow.camera.top=50,n.shadow.camera.bottom=-50,n.shadow.camera.near=.5,n.shadow.camera.far=100,n.shadow.mapSize.width=2048,n.shadow.mapSize.height=2048,n.shadow.bias=-1e-4,d.current.add(n),$.current.push(n);const r=new e.SpotLight(16774625,1.2,60,Math.PI/5,.4);r.position.set(0,16,-25),r.target.position.set(0,3,-32),r.castShadow=!0,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,d.current.add(r),d.current.add(r.target),$.current.push(r);const i=new e.SpotLight(16774625,1,50,Math.PI/5,.4);i.position.set(14,16,-10),i.target.position.set(14,2,-16),i.castShadow=!0,d.current.add(i),d.current.add(i.target),$.current.push(i);[[-15,16,-15],[15,16,-15],[-15,16,10],[15,16,10]].forEach(t=>{const n=new e.PointLight(16775920,.6,30);n.position.set(t[0],t[1],t[2]),n.castShadow=!0,d.current.add(n),$.current.push(n)});const a=new e.DirectionalLight(16770229,.3);a.position.set(-20,10,10),d.current.add(a),$.current.push(a);const o=new e.DirectionalLight(16770229,.3);o.position.set(20,10,10),d.current.add(o),$.current.push(o)},be=e=>{let t=!1,n={x:0,y:0};p.current&&h.current&&(p.current.domElement.addEventListener("mousedown",e=>{t=!0,n={x:e.clientX,y:e.clientY}}),p.current.domElement.addEventListener("mousemove",e=>{if(!t||!h.current)return;const r=e.clientX-n.x,i=e.clientY-n.y,a=Math.sqrt(Math.pow(h.current.position.x,2)+Math.pow(h.current.position.z,2)),o=Math.atan2(h.current.position.z,h.current.position.x);h.current.position.x=a*Math.cos(o-.005*r),h.current.position.z=a*Math.sin(o-.005*r),h.current.position.y=Math.max(2,Math.min(25,h.current.position.y-.05*i)),h.current.lookAt(0,3,-15),n={x:e.clientX,y:e.clientY}}),p.current.domElement.addEventListener("mouseup",()=>{t=!1}),p.current.domElement.addEventListener("mouseleave",()=>{t=!1}),p.current.domElement.addEventListener("wheel",t=>{if(t.preventDefault(),!h.current)return;const n=new e.Vector3;h.current.getWorldDirection(n);const r=.01*-t.deltaY;h.current.position.addScaledVector(n,r);const i=h.current.position.length();i<5?h.current.position.normalize().multiplyScalar(5):i>50&&h.current.position.normalize().multiplyScalar(50)},{passive:!1})),document.addEventListener("keydown",we)},we=e=>{switch(e.key.toLowerCase()){case"l":_e();break;case"f":Se();break;case"g":Pe();break;case"w":Ee();break;case"d":Ne();break;case"n":je();break;case"r":ke();break;case"1":Te("judge");break;case"2":Te("witness");break;case"3":Te("audience");break;case"4":Te("free")}},_e=()=>{const e=Z.current;e.lightsOn=!e.lightsOn,$.current.forEach((t,n)=>{t.intensity=0===n?e.lightsOn?.5:.15:1===n?e.lightsOn?1:.3:e.lightsOn?t.intensity>.8?1.2:.6:.2}),A.current&&(A.current.textContent=e.lightsOn?"ON":"OFF"),E.current&&(e.lightsOn?(E.current.classList.add("active"),E.current.classList.remove("yellow")):(E.current.classList.remove("active"),E.current.classList.add("yellow"))),x.current&&(x.current.className="w-2.5 h-2.5 rounded-full shadow-[0_0_10px_currentColor] "+(e.lightsOn?"bg-amber-400 text-amber-400":"bg-gray-500 text-gray-500"))},Se=()=>{const e=Z.current;e.fansOn=!e.fansOn,C.current&&(C.current.textContent=e.fansOn?"ON":"OFF"),M.current&&(e.fansOn?(M.current.classList.add("active"),M.current.classList.remove("blue")):(M.current.classList.remove("active"),M.current.classList.add("blue"))),b.current&&(b.current.className="w-2.5 h-2.5 rounded-full shadow-[0_0_10px_currentColor] "+(e.fansOn?"bg-blue-500 text-blue-500 animate-pulse":"bg-gray-500 text-gray-500"))},Ee=()=>{const e=Z.current;e.witnessVisible=!e.witnessVisible,ne.current&&(e.witnessVisible?(ne.current.body.visible=!0,ne.current.head.visible=!0,ne.current.body&&ne.current.head&&(ne.current.body.position.set(-5,1.7,0),ne.current.head.position.set(-5,3.2,0),Me())):(ne.current.body.visible=!1,ne.current.head.visible=!1)),k.current&&(k.current.textContent=e.witnessVisible?"PRESENT":"ABSENT"),N.current&&(N.current.classList.remove("red","green"),N.current.classList.add(e.witnessVisible?"green":"red")),w.current&&(w.current.className="w-2.5 h-2.5 rounded-full shadow-[0_0_10px_currentColor] "+(e.witnessVisible?"bg-green-500 text-green-500":"bg-red-500 text-red-500"))},Me=()=>{if(!ne.current)return;const e=Date.now(),t=()=>{const n=Date.now()-e,r=Math.min(n/2500,1),i=5*Ce(r)-5;ne.current&&ne.current.body.visible&&(ne.current.body&&(ne.current.body.position.x=i),ne.current.head&&(ne.current.head.position.x=i)),r<1&&requestAnimationFrame(t)};t()},Ne=()=>{const e=Z.current;e.doorOpen=!e.doorOpen,re.current&&(re.current.rotation.y=e.doorOpen?Math.PI/2:0),P.current&&(P.current.textContent=e.doorOpen?"OPEN":"CLOSED"),T.current&&(e.doorOpen?(T.current.classList.add("active"),T.current.classList.remove("gray")):(T.current.classList.remove("active"),T.current.classList.add("gray")))},je=()=>{const e=Z.current;e.nightMode=!e.nightMode,d.current&&(d.current.background=new window.THREE.Color(e.nightMode?657930:1710618)),$.current.forEach((t,n)=>{0===n?t.intensity=e.nightMode?.15:.5:1===n?(t.intensity=e.nightMode?.3:1,e.nightMode?t.color.setHex(4286945):t.color.setHex(16777215)):"SpotLight"===t.type&&(t.intensity=e.nightMode?.8:1.2,e.nightMode?t.color.setHex(16770229):t.color.setHex(16774625))}),d.current&&d.current.fog.color.setHex(e.nightMode?657930:1710618),R.current&&(R.current.textContent=e.nightMode?"ON":"OFF"),j.current&&(e.nightMode?(j.current.classList.add("active"),j.current.classList.remove("indigo")):(j.current.classList.remove("active"),j.current.classList.add("indigo"))),_.current&&(_.current.className="w-2.5 h-2.5 rounded-full shadow-[0_0_10px_currentColor] "+(e.nightMode?"bg-indigo-500 text-indigo-500":"bg-amber-500 text-amber-500")),S.current&&(S.current.textContent=e.nightMode?"Night":"Day")},Te=e=>{if(!h.current)return;const t={judge:{pos:[0,6,-20],target:[0,4,-30]},witness:{pos:[8,5,-10],target:[12,2,-15]},audience:{pos:[0,8,20],target:[0,3,-10]},free:{pos:[0,8,25],target:[0,3,-15]}}[e];t&&Ae(h.current.position.toArray(),t.pos,t.target),Z.current.currentView=e},Ae=(e,t,n)=>{if(!h.current)return;const r=Date.now(),i=new window.THREE.Vector3(0,3,-15),a=new window.THREE.Vector3(...n),o=()=>{const n=Date.now()-r,s=Math.min(n/1500,1),l=Ce(s);if(h.current){h.current.position.set(e[0]+(t[0]-e[0])*l,e[1]+(t[1]-e[1])*l,e[2]+(t[2]-e[2])*l);const n=(new window.THREE.Vector3).lerpVectors(i,a,l);h.current.lookAt(n)}s<1&&requestAnimationFrame(o)};o()},Ce=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,ke=()=>{Te("free")},Pe=()=>{if(!ee.current||!te.current)return;const e=ee.current.position.y,t=te.current.position.y,n=Date.now(),r=()=>{const i=Date.now()-n,a=Math.min(i/400,1);let o;o=a<.5?.4*Ce(2*a):.4*Ce(2-2*a),ee.current&&(ee.current.position.y=e+o),te.current&&(te.current.position.y=t+o),a<1&&requestAnimationFrame(r)};r(),Z.current.soundOn&&(()=>{try{window.appAudioContext||(window.appAudioContext=new(window.AudioContext||window.webkitAudioContext),"suspended"===window.appAudioContext.state&&window.appAudioContext.resume());const e=window.appAudioContext;"suspended"===e.state&&e.resume();const t=e.createOscillator(),n=e.createGain(),r=e.createBiquadFilter();t.connect(r),r.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(120,e.currentTime),t.frequency.exponentialRampToValueAtTime(50,e.currentTime+.1),r.type="lowpass",r.frequency.setValueAtTime(1e3,e.currentTime),n.gain.setValueAtTime(.5,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4);const i=e.createDelay(),a=e.createGain();i.delayTime.setValueAtTime(.2,e.currentTime),a.gain.setValueAtTime(.3,e.currentTime),n.connect(i),i.connect(a),a.connect(e.destination),t.start(e.currentTime),t.stop(e.currentTime+.5);const o=()=>{const t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,e.currentTime),t.connect(n),n.connect(e.destination),t.start(e.currentTime),t.stop(e.currentTime+.1),document.removeEventListener("click",o),document.removeEventListener("keydown",o)};document.addEventListener("click",o),document.addEventListener("keydown",o)}catch(yY){console.log("Audio playback not supported");try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(200,e.currentTime),t.frequency.exponentialRampToValueAtTime(30,e.currentTime+.3),n.gain.setValueAtTime(.7,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch(e){console.log("Fallback gavel sound also failed")}}})()},Re=e=>{(e.dialogue.toLowerCase().includes("order")&&Math.random()>.95||e.dialogue.toLowerCase().includes("silence")&&Math.random()>.95||"Magistrate"===e.speaker&&e.action.includes("BANG"))&&setTimeout(()=>{Pe()},500)},Oe=e=>{switch(H(!1),e){case"agree":console.log("User agreed and confirmed understanding");break;case"ask":console.log("User asked for clarification");break;case"object":console.log("User objected to conditions");break;case"silent":console.log("User remained silent");break;default:console.log("User responded with: "+e)}setTimeout(()=>{I(e=>e+1),U(!0),Le()},1e3)},Le=()=>{if(!W)return;const e=[...W.court_session,...W.post_hearing_procedures];if(D<e.length){const t=e[D];if(De(t.speaker),"Defense Attorney"===t.speaker&&(t.dialogue.includes("Please proceed")||t.dialogue.includes("I now submit")||t.dialogue.includes("I respectfully propose")||t.dialogue.includes("Your Honour, I wish to cite")))H(!0),U(!1);else{const e=t.dialogue.split(" ").length,n=Math.max(8e3,Math.min(2e4,100*e+2e3));setTimeout(()=>{I(e=>e+1),F&&!z&&Le()},n)}}else if(U(!1),l){const e={completedStages:["bail-draft","court-hearing"],currentStage:"legal-assessment",lastUpdated:(new Date).toISOString(),totalTimeSpent:0,assessmentScore:null};mn("the-inventory-that-changed-everything",e).then(()=>{console.log("Progress saved successfully")}).catch(e=>{console.error("Failed to save progress:",e)})}},De=e=>{let t="free";const n=W?[...W.court_session,...W.post_hearing_procedures][D]:null;switch(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Z.current.soundOn)try{if("speechSynthesis"in window){const n=new SpeechSynthesisUtterance(t||"".concat(e," is speaking"));switch(n.rate=.9,n.pitch=1,n.volume=1,e){case"Magistrate":case"Hon'ble Magistrate Smt. Kavitha Narayan":case"Court Clerk":case"Public Prosecutor":case"Rajesh Kumar":case"Ramesh Kumar":case"Arjun Rao":case"Prakash Mehta":n.pitch=.4;break;case"Defense Attorney":n.pitch=.6;break;default:n.pitch=.5}return window.speechSynthesis.speak(n),void console.log("Speaking for: ".concat(e,": ").concat(t))}window.appAudioContext||(window.appAudioContext=new(window.AudioContext||window.webkitAudioContext),"suspended"===window.appAudioContext.state&&window.appAudioContext.resume());const n=window.appAudioContext;if("suspended"===n.state){const e=()=>{n.resume(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};document.addEventListener("click",e),document.addEventListener("keydown",e)}const r=n.createOscillator(),i=n.createOscillator(),a=n.createOscillator(),o=n.createGain();let s=200,l=300,c=400;switch(e){case"Magistrate":case"Hon'ble Magistrate Smt. Kavitha Narayan":case"Court Clerk":case"Public Prosecutor":case"Rajesh Kumar":case"Ramesh Kumar":case"Arjun Rao":case"Prakash Mehta":s=180,l=280,c=380;break;case"Defense Attorney":s=220,l=320,c=420;break;default:s=200,l=300,c=400}r.type="sine",r.frequency.setValueAtTime(s,n.currentTime),i.type="sine",i.frequency.setValueAtTime(l,n.currentTime),a.type="sine",a.frequency.setValueAtTime(c,n.currentTime),o.gain.setValueAtTime(0,n.currentTime),o.gain.linearRampToValueAtTime(1,n.currentTime+.05),o.gain.exponentialRampToValueAtTime(.01,n.currentTime+2.5);const u=n.createDelay(.5),d=n.createGain();u.delayTime.setValueAtTime(.2,n.currentTime),d.gain.setValueAtTime(.5,n.currentTime);const h=n.createGain();r.connect(h),i.connect(h),a.connect(h),h.connect(o),o.connect(n.destination),o.connect(u),u.connect(d),d.connect(n.destination),r.start(n.currentTime),i.start(n.currentTime),a.start(n.currentTime),r.stop(n.currentTime+2.5),i.stop(n.currentTime+2.5),a.stop(n.currentTime+2.5),console.log("Playing voice for: ".concat(e));const p=()=>{const e=n.createOscillator(),t=n.createGain();t.gain.setValueAtTime(0,n.currentTime),e.connect(t),t.connect(n.destination),e.start(n.currentTime),e.stop(n.currentTime+.1),document.removeEventListener("click",p),document.removeEventListener("keydown",p)};document.addEventListener("click",p),document.addEventListener("keydown",p)}catch(yY){console.log("Voice playback not supported");try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(440,e.currentTime),n.gain.setValueAtTime(.5,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)}catch(n){console.log("Fallback voice playback also failed")}}}(e,(null===n||void 0===n?void 0:n.dialogue)||""),["Ramesh Kumar","Arjun Rao","Witness","Prakash Mehta"].includes(e)&&(Z.current.witnessVisible||Ee(),t="witness"),e){case"Magistrate":case"Hon'ble Magistrate Smt. Kavitha Narayan":t="judge";break;case"Defense Attorney":case"Public Prosecutor":case"Rajesh Kumar":case"Accused":t="witness";break;case"Ramesh Kumar":case"Arjun Rao":case"Witness":case"Prakash Mehta":case"Court Clerk":t="audience";break;default:t="free"}Te(t)};(0,t.useEffect)(()=>{let e=null;return F&&W&&!z&&(e=setTimeout(()=>{Le()},100)),()=>{e&&clearTimeout(e)}},[D,F,W,z,Le]),(0,t.useEffect)(()=>{if(W&&D<[...W.court_session,...W.post_hearing_procedures].length){const e=[...W.court_session,...W.post_hearing_procedures][D];e&&Re(e)}},[D,W,Re]);const Ie=e=>{m.current=requestAnimationFrame(()=>Ie(e)),f.current&&p.current&&d.current&&h.current&&(f.current.getDelta(),Z.current.fansOn&&Q.current.forEach(e=>{e&&(e.rotation.y+=.08)}),ie.current.forEach((e,t)=>{if(e.head){const n=f.current.getElapsedTime();e.head.rotation.y=.1*Math.sin(.5*n+.3*t),e.head.rotation.x=.05*Math.sin(.3*n+.5*t)}}),p.current.render(d.current,h.current))};return(0,Nt.jsxs)("div",{className:"w-full h-screen bg-black relative overflow-hidden",children:[(0,Nt.jsx)("div",{ref:g,className:"absolute inset-0 bg-gradient-to-br from-gray-900 to-black flex items-center justify-center z-50",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"w-20 h-20 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mx-auto mb-6 shadow-[0_0_30px_rgba(217,119,6,0.5)]"}),(0,Nt.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Loading Realistic Courtroom..."}),(0,Nt.jsx)("p",{className:"text-amber-400",children:"Preparing 3D Environment & Assets"})]})}),(0,Nt.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-40 bg-gradient-to-r from-amber-800 to-amber-900 backdrop-blur-lg border-b-2 border-amber-600 shadow-2xl p-4 flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Nt.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"\u2696\ufe0f"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h1",{className:"text-xl font-bold text-white",children:"Realistic 3D Virtual Courtroom"}),(0,Nt.jsx)("p",{className:"text-amber-200 text-sm",children:"Cinematic Indian Court Simulation"})]})]}),(0,Nt.jsxs)("div",{className:"flex gap-2",children:[(0,Nt.jsx)("button",{ref:O,className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-800 text-white font-semibold rounded-lg shadow-md hover:from-amber-700 hover:to-amber-900 transition-all",onClick:()=>{const e=Z.current;e.soundOn=!e.soundOn,O.current&&(O.current.innerHTML=e.soundOn?"\ud83d\udd0a Sound ON":"\ud83d\udd07 Sound OFF")},children:"\ud83d\udd0a Sound ON"}),(0,Nt.jsx)("button",{ref:L,className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-800 text-white font-semibold rounded-lg shadow-md hover:from-amber-700 hover:to-amber-900 transition-all",onClick:()=>{const e=Z.current;e.controlsVisible=!e.controlsVisible,v.current&&(e.controlsVisible?v.current.classList.remove("hidden"):v.current.classList.add("hidden")),y.current&&(y.current.style.display=e.controlsVisible?"block":"none"),L.current&&(L.current.textContent=e.controlsVisible?"Hide Controls":"Show Controls")},children:"Hide Controls"})]})]}),(0,Nt.jsxs)("div",{ref:v,className:"absolute right-6 top-24 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl border-2 border-amber-600 shadow-2xl p-7 w-80 max-h-[calc(100vh-160px)] overflow-y-auto z-30",children:[(0,Nt.jsxs)("div",{className:"mb-7",children:[(0,Nt.jsxs)("div",{className:"text-amber-400 font-bold text-lg mb-5 flex items-center gap-2",children:[(0,Nt.jsx)("span",{children:"\ud83c\udf0d"})," Environment Controls"]}),(0,Nt.jsxs)("button",{ref:E,className:"w-full p-3.5 border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg bg-gradient-to-r from-amber-600 to-amber-800 text-white shadow-[0_0_20px_rgba(59,130,246,0.6)]",onClick:_e,children:[(0,Nt.jsx)("span",{children:"\u2600\ufe0f Lights"}),(0,Nt.jsx)("span",{ref:A,children:"ON"})]}),(0,Nt.jsxs)("button",{ref:M,className:"w-full p-3.5 border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-[0_0_20px_rgba(59,130,246,0.6)]",onClick:Se,children:[(0,Nt.jsx)("span",{children:"\ud83c\udf00 Ceiling Fans"}),(0,Nt.jsx)("span",{ref:C,children:"ON"})]}),(0,Nt.jsxs)("button",{ref:j,className:"w-full p-3.5 border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg bg-gradient-to-r from-indigo-800 to-indigo-900 text-indigo-200",onClick:je,children:[(0,Nt.jsx)("span",{children:"\ud83c\udf19 Night Mode"}),(0,Nt.jsx)("span",{ref:R,children:"OFF"})]}),(0,Nt.jsxs)("button",{ref:T,className:"w-full p-3.5 border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg bg-gradient-to-r from-gray-800 to-gray-900 text-gray-200",onClick:Ne,children:[(0,Nt.jsx)("span",{children:"\ud83d\udeaa Door"}),(0,Nt.jsx)("span",{ref:P,children:"CLOSED"})]})]}),(0,Nt.jsxs)("div",{className:"mb-7",children:[(0,Nt.jsxs)("div",{className:"text-amber-400 font-bold text-lg mb-5 flex items-center gap-2",children:[(0,Nt.jsx)("span",{children:"\u2696\ufe0f"})," Courtroom Actions"]}),(0,Nt.jsx)("button",{className:"w-full p-3.5 bg-gradient-to-r from-purple-600 to-purple-800 text-white border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg hover:transform hover:translate-y-[-2px] hover:shadow-[0_6px_20px_rgba(0,0,0,0.5)]",onClick:Pe,children:(0,Nt.jsx)("span",{children:"\ud83d\udd28 Bang Gavel"})}),(0,Nt.jsxs)("button",{ref:N,className:"w-full p-3.5 border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg bg-gradient-to-r from-red-600 to-red-800 text-white",onClick:Ee,children:[(0,Nt.jsx)("span",{children:"\ud83d\udc65 Witness Entry"}),(0,Nt.jsx)("span",{ref:k,children:"ABSENT"})]}),(0,Nt.jsxs)("div",{className:"mt-6",children:[(0,Nt.jsxs)("div",{className:"text-amber-400 font-bold text-lg mb-3 flex items-center gap-2",children:[(0,Nt.jsx)("span",{children:"\ud83d\udde3\ufe0f"})," Bail Hearing"]}),W?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("button",{className:"w-full p-3.5 bg-gradient-to-r from-green-600 to-green-800 text-white border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg hover:transform hover:translate-y-[-2px]",onClick:()=>{W&&W.court_session.length>0&&(U(!0),I(0),Le())},disabled:F||z,children:(0,Nt.jsx)("span",{children:"\u25b6\ufe0f Start Hearing"})}),(0,Nt.jsx)("button",{className:"w-full p-3.5 bg-gradient-to-r from-amber-600 to-amber-800 text-white border-none rounded-xl font-semibold cursor-pointer transition-all mb-3 flex justify-between items-center text-sm shadow-lg hover:transform hover:translate-y-[-2px]",onClick:()=>{F?(U(!1),B(!0)):z?(U(!0),B(!1)):(U(!1),B(!1),H(!1),I(0),Te("free"),window.speechSynthesis&&window.speechSynthesis.cancel())},children:F?(0,Nt.jsx)("span",{children:"\u23f8\ufe0f Pause Hearing"}):z?(0,Nt.jsx)("span",{children:"\u25b6\ufe0f Resume Hearing"}):(0,Nt.jsx)("span",{children:"\u23f9\ufe0f Stop Hearing"})})]}):(0,Nt.jsx)("p",{className:"text-slate-400 text-sm",children:"Loading script..."})]})]}),(0,Nt.jsxs)("div",{className:"mb-7",children:[(0,Nt.jsxs)("div",{className:"text-amber-400 font-bold text-lg mb-5 flex items-center gap-2",children:[(0,Nt.jsx)("span",{children:"\ud83d\udcf9"})," Camera Views"]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Nt.jsx)("button",{className:"p-2.5 border-none rounded-lg font-semibold cursor-pointer transition-all text-xs bg-[rgba(217,119,6,0.2)] text-amber-400 border border-amber-600 hover:bg-[rgba(217,119,6,0.4)] hover:transform hover:scale-[1.05]",onClick:()=>Te("judge"),children:"\u2696\ufe0f Judge"}),(0,Nt.jsx)("button",{className:"p-2.5 border-none rounded-lg font-semibold cursor-pointer transition-all text-xs bg-[rgba(217,119,6,0.2)] text-amber-400 border border-amber-600 hover:bg-[rgba(217,119,6,0.4)] hover:transform hover:scale-[1.05]",onClick:()=>Te("witness"),children:"\ud83c\udfa4 Witness"}),(0,Nt.jsx)("button",{className:"p-2.5 border-none rounded-lg font-semibold cursor-pointer transition-all text-xs bg-[rgba(217,119,6,0.2)] text-amber-400 border border-amber-600 hover:bg-[rgba(217,119,6,0.4)] hover:transform hover:scale-[1.05]",onClick:()=>Te("audience"),children:"\ud83d\udc65 Audience"}),(0,Nt.jsx)("button",{className:"p-2.5 border-none rounded-lg font-semibold cursor-pointer transition-all text-xs bg-[rgba(217,119,6,0.2)] text-amber-400 border border-amber-600 hover:bg-[rgba(217,119,6,0.4)] hover:transform hover:scale-[1.05]",onClick:()=>Te("free"),children:"\ud83c\udfae Free"})]}),(0,Nt.jsx)("button",{className:"w-full p-3.5 bg-gradient-to-r from-amber-600 to-amber-800 text-white border-none rounded-xl font-semibold cursor-pointer transition-all text-sm shadow-lg hover:transform hover:translate-y-[-2px] mt-3",onClick:ke,children:(0,Nt.jsx)("span",{children:"\ud83c\udfe0 Reset View"})})]}),(0,Nt.jsxs)("div",{className:"bg-[rgba(30,41,59,0.8)] p-4.5 rounded-xl border border-slate-600",children:[(0,Nt.jsx)("h4",{className:"text-amber-400 text-sm mb-3.5 font-bold",children:"\u2328\ufe0f Keyboard Shortcuts"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-2.5 text-xs text-slate-300",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"L"})," Lights"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"F"})," Fans"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"G"})," Gavel"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"W"})," Witness"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"D"})," Door"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"N"})," Night"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"R"})," Reset"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"M"})," Mute"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"1"})," Judge View"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"2"})," Witness View"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"3"})," Audience View"]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("kbd",{className:"bg-gradient-to-br from-slate-600 to-slate-700 p-1 rounded text-xs shadow-[0_2px_6px_rgba(0,0,0,0.3)]",children:"4"})," Free View"]})]})]})]}),(0,Nt.jsxs)("div",{id:"audio-prompt",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[rgba(15,23,42,0.98)] backdrop-blur-xl p-6 rounded-xl border-2 border-amber-600 shadow-2xl z-50 text-center animate-pulse",children:[(0,Nt.jsx)("h3",{className:"text-amber-400 text-xl mb-3 font-bold",children:"\ud83d\udd0a Enable Audio"}),(0,Nt.jsx)("p",{className:"text-white text-sm mb-4",children:"Click anywhere on the screen to enable voice playback"}),(0,Nt.jsx)("div",{className:"text-amber-400 text-3xl mb-2",children:"\ud83d\udc47"}),(0,Nt.jsx)("p",{className:"text-slate-300 text-xs mb-2",children:"(Required by browser security policies)"})]}),W&&D<[...W.court_session,...W.post_hearing_procedures].length&&(0,Nt.jsx)("div",{className:"absolute top-24 left-1/2 transform -translate-x-1/2 bg-[rgba(15,23,42,0.95)] backdrop-blur-xl p-5 rounded-xl border-2 border-amber-400 shadow-2xl z-30 w-96",children:(0,Nt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-amber-700 flex items-center justify-center text-xl flex-shrink-0",children:(null===(e=J.current[null===(n=[...W.court_session,...W.post_hearing_procedures][D])||void 0===n?void 0:n.speaker])||void 0===e?void 0:e.name.charAt(0))||"S"}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h3",{className:"text-amber-400 font-bold text-lg",children:null===(r=[...W.court_session,...W.post_hearing_procedures][D])||void 0===r?void 0:r.speaker}),(0,Nt.jsx)("p",{className:"text-slate-300 text-sm mb-2",children:null===(i=J.current[null===(a=[...W.court_session,...W.post_hearing_procedures][D])||void 0===a?void 0:a.speaker])||void 0===i?void 0:i.role}),(0,Nt.jsxs)("p",{className:"text-white text-sm italic",children:['"',null===(o=[...W.court_session,...W.post_hearing_procedures][D])||void 0===o?void 0:o.dialogue,'"']}),V&&(0,Nt.jsxs)("div",{className:"mt-3 p-3 bg-gradient-to-r from-amber-600 to-amber-800 rounded-lg text-white text-sm animate-pulse",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"text-lg",children:"\ud83d\udde3\ufe0f"}),(0,Nt.jsx)("strong",{children:"Your turn to speak!"})]}),(0,Nt.jsx)("p",{className:"mt-1",children:"Select an appropriate response from the options below."}),q&&(0,Nt.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-blue-200",children:[(0,Nt.jsx)("span",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse"}),(0,Nt.jsx)("span",{children:"Listening... Speak now"})]}),X&&(0,Nt.jsxs)("div",{className:"mt-2 text-sm text-blue-200",children:[(0,Nt.jsx)("strong",{children:"Recognized:"})," ",X]})]}),(0,Nt.jsxs)("div",{className:"mt-2 p-3 bg-gradient-to-r from-amber-600 to-amber-800 rounded-lg text-white text-sm flex items-center gap-2 animate-pulse",children:[(0,Nt.jsx)("span",{className:"text-xl",children:"\ud83d\udd0a"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"font-bold",children:["Voice playing for ",null===(s=[...W.court_session,...W.post_hearing_procedures][D])||void 0===s?void 0:s.speaker]}),(0,Nt.jsx)("div",{className:"text-xs opacity-75",children:"Click anywhere if you can't hear audio"})]})]})]})]})}),V&&(0,Nt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[rgba(15,23,42,0.98)] backdrop-blur-xl p-6 rounded-xl border-2 border-amber-400 shadow-2xl z-50 w-96",children:[(0,Nt.jsx)("h3",{className:"text-amber-400 font-bold text-lg mb-4",children:"Your Turn to Respond"}),(0,Nt.jsx)("p",{className:"text-white text-sm mb-4",children:"How would you like to respond?"}),(0,Nt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Nt.jsx)("button",{className:"w-full p-3 bg-gradient-to-r from-green-600 to-green-800 text-white rounded-lg font-semibold hover:from-green-700 hover:to-green-900 transition-all",onClick:()=>Oe("agree"),children:"Agree and Confirm Understanding"}),(0,Nt.jsx)("button",{className:"w-full p-3 bg-gradient-to-r from-amber-600 to-amber-800 text-white rounded-lg font-semibold hover:from-amber-700 hover:to-amber-900 transition-all",onClick:()=>Oe("ask"),children:"Ask for Clarification"}),(0,Nt.jsx)("button",{className:"w-full p-3 bg-gradient-to-r from-red-600 to-red-800 text-white rounded-lg font-semibold hover:from-red-700 hover:to-red-900 transition-all",onClick:()=>Oe("object"),children:"Object to Conditions"}),(0,Nt.jsx)("button",{className:"w-full p-3 bg-gradient-to-r from-slate-600 to-slate-800 text-white rounded-lg font-semibold hover:from-slate-700 hover:to-slate-900 transition-all",onClick:()=>Oe("silent"),children:"Remain Silent"}),(0,Nt.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-600",children:[(0,Nt.jsxs)("button",{className:"w-full p-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-blue-900 transition-all flex items-center justify-center gap-2",onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Speech recognition is not supported in your browser. Please use Chrome or Edge.");const e=new(window.webkitSpeechRecognition||window.SpeechRecognition);e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>{K(!0),console.log("Voice recognition started")},e.onresult=e=>{const t=e.results[0][0].transcript;Y(t),console.log("Recognized text:",t),H(!1),setTimeout(()=>{I(e=>e+1),U(!0),Le()},1e3)},e.onerror=e=>{console.error("Speech recognition error",e.error),K(!1),alert("Speech recognition error: "+e.error)},e.onend=()=>{K(!1),console.log("Voice recognition ended")},e.start()},children:[(0,Nt.jsx)("span",{className:"text-lg",children:"\ud83c\udfa4"}),"Speak Your Response"]}),(0,Nt.jsx)("p",{className:"text-slate-400 text-xs mt-2 text-center",children:"Click to speak your response using voice recognition"})]})]})]}),(0,Nt.jsx)("div",{className:"absolute bottom-7 right-7 z-30",children:(0,Nt.jsxs)("button",{className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-800 text-white font-bold rounded-xl shadow-2xl hover:from-purple-700 hover:to-purple-900 transition-all flex items-center gap-2",onClick:()=>{if(l){const e={completedStages:["bail-draft","court-hearing"],currentStage:"legal-assessment",lastUpdated:(new Date).toISOString(),totalTimeSpent:0,assessmentScore:null};mn("the-inventory-that-changed-everything",e).then(()=>{console.log("Progress saved successfully"),c("/legal-assessment")}).catch(e=>{console.error("Failed to save progress:",e),c("/legal-assessment")})}else c("/legal-assessment")},children:[(0,Nt.jsx)("span",{children:"\ud83c\udfc1"})," End Hearing"]})}),(0,Nt.jsx)("div",{ref:u,className:"w-full h-full pt-20"})]})};function vn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vn(e))&&(r&&(r+=" "),r+=t);return r}var xn=n(7820),bn=n.n(xn),wn=n(7770),_n=n.n(wn),Sn=e=>0===e?0:e>0?1:-1,En=e=>"number"==typeof e&&e!=+e,Mn=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Nn=e=>("number"===typeof e||e instanceof Number)&&!En(e),jn=e=>Nn(e)||"string"===typeof e,Tn=0,An=e=>{var t=++Tn;return"".concat(e||"").concat(t)},Cn=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Nn(e)&&"string"!==typeof e)return r;if(Mn(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return En(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},kn=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function Pn(e,t,n){return Nn(e)&&Nn(t)?e+n*(t-e):t}function Rn(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):_n()(e,t))===n)}var On=e=>null===e||"undefined"===typeof e,Ln=e=>On(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Dn=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach(function(t){Un(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:p,onResize:m,style:f={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=m,(0,t.useImperativeHandle)(n,()=>g.current);var[y,x]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),b=(0,t.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=bn()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=y;if(e<0||n<0)return null;Dn(Mn(a)||Mn(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,o),Dn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=Mn(a)?e:a,d=Mn(o)?n:o;return r&&r>0&&(i?d=i/r:d&&(i=d*r),c&&d>c&&(d=c)),Dn(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:i,height:d,style:Fn({width:i,height:d},e.props.style)}))},[r,u,o,c,l,s,y,a]);return t.createElement("div",{id:h?"".concat(h):void 0,className:yn("recharts-responsive-container",p),style:Fn(Fn({},f),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function Bn(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Vn=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Hn=()=>Math.random().toString(36).substring(7).split("").join("."),Wn={INIT:"@@redux/INIT".concat(Hn()),REPLACE:"@@redux/REPLACE".concat(Hn()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Hn())};function Gn(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function qn(e,t,n){if("function"!==typeof e)throw new Error(Bn(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Bn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Bn(1));return n(qn)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Bn(3));return i}function d(e){if("function"!==typeof e)throw new Error(Bn(4));if(l)throw new Error(Bn(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(Bn(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!Gn(e))throw new Error(Bn(7));if("undefined"===typeof e.type)throw new Error(Bn(8));if("string"!==typeof e.type)throw new Error(Bn(17));if(l)throw new Error(Bn(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:Wn.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Bn(10));r=e,h({type:Wn.REPLACE})},[Vn]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Bn(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Vn](){return this}}}}}function Kn(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Wn.INIT}))throw new Error(Bn(12));if("undefined"===typeof n(void 0,{type:Wn.PROBE_UNKNOWN_ACTION()}))throw new Error(Bn(13))})}(n)}catch(yY){i=yY}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Bn(14))}o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function Xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Yn(e){return Gn(e)&&"type"in e&&"string"===typeof e.type}function Jn(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Zn=Jn(),$n=Jn,Qn=Symbol.for("immer-nothing"),er=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function nr(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var rr=Object.getPrototypeOf;function ir(e){return!!e&&!!e[tr]}function ar(e){var t;return!!e&&(sr(e)||Array.isArray(e)||!!e[er]||!(null===(t=e.constructor)||void 0===t||!t[er])||hr(e)||pr(e))}var or=Object.prototype.constructor.toString();function sr(e){if(!e||"object"!==typeof e)return!1;const t=rr(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===or}function lr(e,t){0===cr(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function cr(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:hr(e)?2:pr(e)?3:0}function ur(e,t){return 2===cr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dr(e,t,n){const r=cr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function hr(e){return e instanceof Map}function pr(e){return e instanceof Set}function mr(e){return e.copy_||e.base_}function fr(e,t){if(hr(e))return new Map(e);if(pr(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sr(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[tr];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(rr(e),t)}{const t=rr(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function gr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return yr(e)||ir(e)||!ar(e)||(cr(e)>1&&Object.defineProperties(e,{set:{value:vr},add:{value:vr},clear:{value:vr},delete:{value:vr}}),Object.freeze(e),t&&Object.values(e).forEach(e=>gr(e,!0))),e}function vr(){nr(2)}function yr(e){return Object.isFrozen(e)}var xr,br={};function wr(e){const t=br[e];return t||nr(0),t}function _r(){return xr}function Sr(e,t){t&&(wr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Er(e){Mr(e),e.drafts_.forEach(jr),e.drafts_=null}function Mr(e){e===xr&&(xr=e.parent_)}function Nr(e){return xr={drafts_:[],parent_:xr,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jr(e){const t=e[tr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Tr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[tr].modified_&&(Er(t),nr(4)),ar(e)&&(e=Ar(t,e),t.parent_||kr(t,e)),t.patches_&&wr("Patches").generateReplacementPatches_(n[tr].base_,e,t.patches_,t.inversePatches_)):e=Ar(t,n,[]),Er(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Qn?e:void 0}function Ar(e,t,n){if(yr(t))return t;const r=t[tr];if(!r)return lr(t,(i,a)=>Cr(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return kr(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),lr(i,(i,o)=>Cr(e,r,t,i,o,n,a)),kr(e,t,!1),n&&e.patches_&&wr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cr(e,t,n,r,i,a,o){if(ir(i)){const o=Ar(e,i,a&&t&&3!==t.type_&&!ur(t.assigned_,r)?a.concat(r):void 0);if(dr(n,r,o),!ir(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(ar(i)&&!yr(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ar(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(hr(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||kr(e,i)}}function kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gr(t,n)}var Pr={get(e,t){if(t===tr)return e;const n=mr(e);if(!ur(n,t))return function(e,t,n){var r;const i=Lr(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ar(r)?r:r===Or(e.base_,t)?(Ir(e),e.copy_[t]=Fr(r,e)):r},has:(e,t)=>t in mr(e),ownKeys:e=>Reflect.ownKeys(mr(e)),set(e,t,n){const r=Lr(mr(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Or(mr(e),t),o=null===r||void 0===r?void 0:r[tr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||ur(e.base_,t)))return!0;Ir(e),Dr(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Or(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ir(e),Dr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=mr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){nr(11)},getPrototypeOf:e=>rr(e.base_),setPrototypeOf(){nr(12)}},Rr={};function Or(e,t){const n=e[tr];return(n?mr(n):e)[t]}function Lr(e,t){if(!(t in e))return;let n=rr(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=rr(n)}}function Dr(e){e.modified_||(e.modified_=!0,e.parent_&&Dr(e.parent_))}function Ir(e){e.copy_||(e.copy_=fr(e.base_,e.scope_.immer_.useStrictShallowCopy_))}lr(Pr,(e,t)=>{Rr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Rr.deleteProperty=function(e,t){return Rr.set.call(this,e,t,void 0)},Rr.set=function(e,t,n){return Pr.set.call(this,e[0],t,n,e[0])};function Fr(e,t){const n=hr(e)?wr("MapSet").proxyMap_(e,t):pr(e)?wr("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_r(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Pr;n&&(i=[r],a=Rr);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:_r()).drafts_.push(n),n}function Ur(e){return ir(e)||nr(10),zr(e)}function zr(e){if(!ar(e)||yr(e))return e;const t=e[tr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fr(e,t.scope_.immer_.useStrictShallowCopy_)}else n=fr(e,!0);return lr(n,(e,t)=>{dr(n,e,zr(t))}),t&&(t.finalized_=!1),n}var Br=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&nr(6),void 0!==n&&"function"!==typeof n&&nr(7),ar(e)){const i=Nr(this),a=Fr(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?Er(i):Mr(i)}return Sr(i,n),Tr(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Qn&&(r=void 0),this.autoFreeze_&&gr(r,!0),n){const t=[],i=[];wr("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}nr(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;return[this.produce(e,n,(e,t)=>{r=e,i=t}),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ar(e)||nr(8),ir(e)&&(e=Ur(e));const t=Nr(this),n=Fr(e,void 0);return n[tr].isManual_=!0,Mr(t),n}finishDraft(e,t){const n=e&&e[tr];n&&n.isManual_||nr(9);const{scope_:r}=n;return Sr(r,t),Tr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=wr("Patches").applyPatches_;return ir(e)?r(e,t):this.produce(e,e=>r(e,t))}},Vr=Br.produce;const Hr=["reducerPath"];var Wr="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Xn:Xn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Gr(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Ui(0));return u(u({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Yn(t)&&t.type===e,n}var qr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Kr(e){return ar(e)?Vr(e,()=>{}):e}function Xr(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Yr="RTK_autoBatch",Jr=e=>t=>{setTimeout(t,e)},Zr=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new qr(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Jr(10):"callback"===e.type?e.queueNotification:Jr(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Yr]),i=!r,i&&(a||(a=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function $r(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new qr;return t&&("boolean"===typeof t?a.push(Zn):a.push($n(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Gn(n))throw new Error(Ui(1));l=Kn(n)}c="function"===typeof r?r(t):t();let d=Xn;i&&(d=Wr(u({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Bn(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map(e=>e(o));return a=Xn(...s)(i.dispatch),u(u({},i),{},{dispatch:a})}}(...c),p=Zr(h);return qn(l,o,d(..."function"===typeof s?s(p):p()))}function Qr(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ui(28));if(r in t)throw new Error(Ui(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var ei=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var ti=Symbol.for("rtk-slice-createasyncthunk");function ni(e,t){return"".concat(e,"/").concat(t)}function ri(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[ti];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Ui(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return u({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ui(12));if(n in s.sliceCaseReducersByType)throw new Error(Ui(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(s.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?Qr(e.extraReducers):[e.extraReducers],i=u(u({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=Qr(t);if("function"===typeof e)n=()=>Kr(e());else{const t=Kr(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(ir(e)){const r=n(e,t);return void 0===r?e:r}if(ar(e))return Vr(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const a=i[r],o={reducerName:r,type:ni(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ui(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?Gr(a,i):Gr(a))}(o,a,l):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(Ui(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,o,d);n.exposeAction(a,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:s||oi,pending:l||oi,rejected:c||oi,settled:u||oi})}(o,a,l,n)});const d=e=>e,h=new Map,p=new WeakMap;let m;function f(e,t){return m||(m=c()),m(e,t)}function g(){return m||(m=c()),m.getInitialState()}function v(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Xr(p,r,g)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=Xr(h,n,()=>new WeakMap);return Xr(r,t,()=>{const r={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=ii(o,t,()=>Xr(p,t,g),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const y=u(u({name:t,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g},v(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=a(t,Hr);const o=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:o,reducer:f},i),u(u({},y),v(o,!0))}});return y}}function ii(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var ai=ri();function oi(){}var si="listener",li="completed",ci="cancelled",ui="task-".concat(ci),di="task-".concat(li),hi="".concat(si,"-").concat(ci),pi="".concat(si,"-").concat(li),mi=class{constructor(e){l(this,"name","TaskAbortError"),l(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(ci," (reason: ").concat(e,")")}},fi=(e,t)=>{if("function"!==typeof e)throw new TypeError(Ui(32))},gi=()=>{},vi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gi;return e.catch(t),e},yi=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xi=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},bi=e=>{if(e.aborted){const{reason:t}=e;throw new mi(t)}};function wi(e,t){let n=gi;return new Promise((r,i)=>{const a=()=>i(new mi(e.reason));e.aborted?a():(n=yi(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=gi})}var _i=e=>t=>vi(wi(e,t).then(t=>(bi(e),t))),Si=e=>{const t=_i(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Ei}=Object,Mi={},Ni="listenerMiddleware",ji=(e,t)=>(n,r)=>{fi(n);const i=new AbortController;var a;a=i,yi(e,()=>xi(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof mi?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{bi(e),bi(i.signal);const t=await n({pause:_i(i.signal),delay:Si(i.signal),signal:i.signal});return bi(i.signal),t},()=>xi(i,di));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(gi)),{result:_i(e)(o),cancel(){xi(i,ui)}}},Ti=(e,t)=>(n,r)=>vi((async(n,r)=>{bi(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await wi(t,Promise.race(a));return bi(t),e}finally{i()}})(n,r)),Ai=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Gr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ui(21));return fi(a),{predicate:i,type:t,effect:a}},Ci=Ei(e=>{const{type:t,predicate:n,effect:r}=Ai(e);return{id:ei(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ui(22))}}},{withTypes:()=>Ci}),ki=(e,t)=>{const{type:n,effect:r,predicate:i}=Ai(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Pi=e=>{e.pending.forEach(e=>{xi(e,hi)})},Ri=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Oi=Ei(Gr("".concat(Ni,"/add")),{withTypes:()=>Oi}),Li=Gr("".concat(Ni,"/removeAll")),Di=Ei(Gr("".concat(Ni,"/remove")),{withTypes:()=>Di}),Ii=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Ni,"/error"),...t)},Fi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Ii}=e;fi(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Pi(e)}))(null!==(n=ki(t,e))&&void 0!==n?n:Ci(e))};Ei(i,{withTypes:()=>i});const a=e=>{const n=ki(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Pi(n)),!!n};Ei(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=Ti(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,Ei({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Si(l.signal),pause:_i(l.signal),extra:n,signal:l.signal,fork:ji(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(xi(e,hi),n.delete(e))})},cancel:()=>{xi(l,hi),e.pending.delete(l)},throwIfCancelled:()=>{bi(l.signal)}})))}catch(d){d instanceof mi||Ri(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),xi(l,pi),e.pending.delete(l)}},s=(e=>()=>{e.forEach(Pi),e.clear()})(t);return{middleware:e=>n=>l=>{if(!Yn(l))return n(l);if(Oi.match(l))return i(l.payload);if(Li.match(l))return void s();if(Di.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===Mi)throw new Error(Ui(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,Ri(r,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=Mi}return d},startListening:i,stopListening:a,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function Ui(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function zi(e,t){if(t){var n=Number.parseInt(t,10);if(!En(n))return null===e||void 0===e?void 0:e[n]}}var Bi=ai({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vi=Bi.reducer,{createEventEmitter:Hi}=Bi.actions;n(7237);function Wi(e){e()}var Gi={notify(){},get:()=>[]};function qi(e,t){let n,r=Gi,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wi(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Gi)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var Ki=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Xi=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Yi=(()=>Ki||Xi?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ji=Symbol.for("react-redux-context"),Zi="undefined"!==typeof globalThis?globalThis:{};function $i(){var e;if(!t.createContext)return{};const n=null!==(e=Zi[Ji])&&void 0!==e?e:Zi[Ji]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var Qi=$i();var ea=function(e){const{children:n,context:r,serverState:i,store:a}=e,o=t.useMemo(()=>{const e=qi(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),s=t.useMemo(()=>a.getState(),[a]);Yi(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||Qi;return t.createElement(l.Provider,{value:o},n)};var ta=Symbol.for("immer-nothing"),na=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function ia(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var aa=Object.getPrototypeOf;function oa(e){return!!e&&!!e[ra]}function sa(e){var t;return!!e&&(ca(e)||Array.isArray(e)||!!e[na]||!(null===(t=e.constructor)||void 0===t||!t[na])||ma(e)||fa(e))}var la=Object.prototype.constructor.toString();function ca(e){if(!e||"object"!==typeof e)return!1;const t=aa(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===la}function ua(e,t){0===da(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function da(e){const t=e[ra];return t?t.type_:Array.isArray(e)?1:ma(e)?2:fa(e)?3:0}function ha(e,t){return 2===da(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pa(e,t,n){const r=da(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ma(e){return e instanceof Map}function fa(e){return e instanceof Set}function ga(e){return e.copy_||e.base_}function va(e,t){if(ma(e))return new Map(e);if(fa(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ca(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[ra];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(aa(e),t)}{const t=aa(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function ya(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ba(e)||oa(e)||!sa(e)||(da(e)>1&&Object.defineProperties(e,{set:{value:xa},add:{value:xa},clear:{value:xa},delete:{value:xa}}),Object.freeze(e),t&&Object.values(e).forEach(e=>ya(e,!0))),e}function xa(){ia(2)}function ba(e){return Object.isFrozen(e)}var wa,_a={};function Sa(e){const t=_a[e];return t||ia(0),t}function Ea(){return wa}function Ma(e,t){t&&(Sa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Na(e){ja(e),e.drafts_.forEach(Aa),e.drafts_=null}function ja(e){e===wa&&(wa=e.parent_)}function Ta(e){return wa={drafts_:[],parent_:wa,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Aa(e){const t=e[ra];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ca(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ra].modified_&&(Na(t),ia(4)),sa(e)&&(e=ka(t,e),t.parent_||Ra(t,e)),t.patches_&&Sa("Patches").generateReplacementPatches_(n[ra].base_,e,t.patches_,t.inversePatches_)):e=ka(t,n,[]),Na(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ta?e:void 0}function ka(e,t,n){if(ba(t))return t;const r=t[ra];if(!r)return ua(t,(i,a)=>Pa(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ra(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),ua(i,(i,o)=>Pa(e,r,t,i,o,n,a)),Ra(e,t,!1),n&&e.patches_&&Sa("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Pa(e,t,n,r,i,a,o){if(oa(i)){const o=ka(e,i,a&&t&&3!==t.type_&&!ha(t.assigned_,r)?a.concat(r):void 0);if(pa(n,r,o),!oa(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(sa(i)&&!ba(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ka(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(ma(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Ra(e,i)}}function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ya(t,n)}var Oa={get(e,t){if(t===ra)return e;const n=ga(e);if(!ha(n,t))return function(e,t,n){var r;const i=Ia(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!sa(r)?r:r===Da(e.base_,t)?(Ua(e),e.copy_[t]=za(r,e)):r},has:(e,t)=>t in ga(e),ownKeys:e=>Reflect.ownKeys(ga(e)),set(e,t,n){const r=Ia(ga(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Da(ga(e),t),o=null===r||void 0===r?void 0:r[ra];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||ha(e.base_,t)))return!0;Ua(e),Fa(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Da(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ua(e),Fa(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ga(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ia(11)},getPrototypeOf:e=>aa(e.base_),setPrototypeOf(){ia(12)}},La={};function Da(e,t){const n=e[ra];return(n?ga(n):e)[t]}function Ia(e,t){if(!(t in e))return;let n=aa(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=aa(n)}}function Fa(e){e.modified_||(e.modified_=!0,e.parent_&&Fa(e.parent_))}function Ua(e){e.copy_||(e.copy_=va(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ua(Oa,(e,t)=>{La[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),La.deleteProperty=function(e,t){return La.set.call(this,e,t,void 0)},La.set=function(e,t,n){return Oa.set.call(this,e[0],t,n,e[0])};function za(e,t){const n=ma(e)?Sa("MapSet").proxyMap_(e,t):fa(e)?Sa("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ea(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Oa;n&&(i=[r],a=La);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Ea()).drafts_.push(n),n}function Ba(e){if(!sa(e)||ba(e))return e;const t=e[ra];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=va(e,t.scope_.immer_.useStrictShallowCopy_)}else n=va(e,!0);return ua(n,(e,t)=>{pa(n,e,Ba(t))}),t&&(t.finalized_=!1),n}var Va=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&ia(6),void 0!==n&&"function"!==typeof n&&ia(7),sa(e)){const i=Ta(this),a=za(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?Na(i):ja(i)}return Ma(i,n),Ca(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===ta&&(r=void 0),this.autoFreeze_&&ya(r,!0),n){const t=[],i=[];Sa("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}ia(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;return[this.produce(e,n,(e,t)=>{r=e,i=t}),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){sa(e)||ia(8),oa(e)&&(e=function(e){oa(e)||ia(10);return Ba(e)}(e));const t=Ta(this),n=za(e,void 0);return n[ra].isManual_=!0,ja(t),n}finishDraft(e,t){const n=e&&e[ra];n&&n.isManual_||ia(9);const{scope_:r}=n;return Ma(r,t),Ca(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Sa("Patches").applyPatches_;return oa(e)?r(e,t):this.produce(e,e=>r(e,t))}};Va.produce;var Ha={active:!1,index:null,dataKey:void 0,coordinate:void 0},Wa=ai({name:"tooltip",initialState:{itemInteraction:{click:Ha,hover:Ha},axisInteraction:{click:Ha,hover:Ha},keyboardInteraction:Ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ur(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ga,removeTooltipEntrySettings:qa,setTooltipSettingsState:Ka,setActiveMouseOverItemIndex:Xa,mouseLeaveItem:Ya,mouseLeaveChart:Ja,setActiveClickItemIndex:Za,setMouseOverAxisIndex:$a,setMouseClickAxisIndex:Qa,setSyncInteraction:eo,setKeyboardInteraction:to}=Wa.actions,no=Wa.reducer,ro=ai({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:io,setDataStartEndIndexes:ao,setComputedData:oo}=ro.actions,so=ro.reducer,lo=ai({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:co,setLayout:uo,setChartSize:ho,setScale:po}=lo.actions,mo=lo.reducer;function fo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var go=e=>Array.isArray(e)?e:[e];function vo(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var yo="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function xo(){return{s:0,v:void 0,o:null,p:null}}function bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=xo(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=xo(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new yo(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),fo(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=u(u({},i),s),{memoize:d,memoizeOptions:h=[],argsMemoize:p=bo,argsMemoizeOptions:m=[],devModeChecks:f={}}=c,g=go(h),v=go(m),y=vo(t),x=d(function(){return a++,l.apply(null,arguments)},...g);const b=p(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=x.apply(null,e),r},...v);return Object.assign(b,{resultFunc:l,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var _o=wo(bo),So=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>So}),Eo=n(8443),Mo=(0,t.createContext)(null),No=e=>e,jo=()=>{var e=(0,t.useContext)(Mo);return e?e.store.dispatch:No},To=()=>{},Ao=()=>To,Co=(e,t)=>e===t;function ko(e){var n=(0,t.useContext)(Mo);return(0,Eo.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Ao,n?n.store.getState:To,n?n.store.getState:To,n?e:To,Co)}var Po=n(3821),Ro=n.n(Po),Oo=e=>e.legend.settings,Lo=_o([e=>e.legend.payload,Oo],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ro()(r,n):r});function Do(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Io(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Fo(e){return function(){return e}}function Uo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function zo(e,t){return e[t]}function Bo(e){const t=[];return t.key=e,t}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach(function(t){Wo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Go=Math.PI/180,qo=e=>e*Math.PI/180,Ko=e=>180*e/Math.PI,Xo=(e,t,n,r)=>({x:e+Math.cos(-Go*r)*n,y:t+Math.sin(-Go*r)*n}),Yo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Jo=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:Ko(l),angleInRadian:l}},Zo=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},$o=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Jo({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Ho(Ho({},t),{},{radius:i,angle:Zo(d,t)}):null},Qo=e=>(0,t.isValidElement)(e)||"function"===typeof e||"boolean"===typeof e||null==e?"":e.className;function es(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){rs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e,t,n){return On(e)||On(t)?n:jn(t)?_n()(e,t,n):"function"===typeof t?t(e):n}var as=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,os=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},ss=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:p}=e;if(!o)return null;var m="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,f=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/m:0;return f="angleAxis"===p&&a&&a.length>=2?2*Sn(a[0]-a[1])*f:f,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+f,value:e,offset:f,index:t}}).filter(e=>!En(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+f,value:e,index:t,offset:f})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+f,value:e,offset:f,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+f,value:r?r[e]:e,index:t,offset:f}))},ls=1e-4,cs={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=En(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Do(e,t)}},none:Do,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Do(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,p=0;p<s;++p){var m=e[t[p]];h+=(m[o][1]||0)-(m[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,Do(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=En(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},us=(e,t,n)=>{var r=cs[n],i=function(){var e=Fo([]),t=Uo,n=Do,r=zo;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Bo),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=Io(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Fo(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Fo(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Uo:"function"===typeof e?e:Fo(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Do:e,i):n},i}().keys(t).value((e,t)=>+is(e,t,0)).order(Uo).offset(r);return i(e)};function ds(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!On(i[t.dataKey])){var s=Rn(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=is(i,On(o)?t.dataKey:o);return On(l)?null:t.scale(l)}var hs=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=is(a,t.dataKey,t.scale.domain()[o]);return On(s)?null:t.scale(s)-i/2+r},ps=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(Nn);return[Math.min(...t),Math.max(...t)]})(es(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},ms=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fs=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ro()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function vs(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return ns(ns({},t),{},{dataKey:n,payload:r,value:i,name:a})}function ys(e,t){return e?String(e):"string"===typeof t?t:void 0}var xs=e=>e.layout.width,bs=e=>e.layout.height,ws=e=>e.layout.scale,_s=e=>e.layout.margin,Ss=_o(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Es=_o(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ms="data-recharts-item-index",Ns="data-recharts-item-data-key";function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach(function(t){As(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function As(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cs=_o([xs,bs,_s,e=>e.brush.height,function(e){return Es(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Es(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Ss(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Ss(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},Oo,e=>e.legend.size],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=Ts(Ts({},{top:(n.top||0)+o,bottom:(n.bottom||0)+s}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&Nn(e[a]))return ns(ns({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&Nn(e[o]))return ns(ns({},e),{},{[o]:e[o]+(i||0)})}return e})(d,l,c);var p=e-d.left-d.right,m=t-d.top-d.bottom;return Ts(Ts({brushBottom:h},d),{},{width:Math.max(p,0),height:Math.max(m,0)})}),ks=_o(Cs,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ps=_o(xs,bs,(e,t)=>({x:0,y:0,width:e,height:t})),Rs=(0,t.createContext)(null),Os=()=>null!=(0,t.useContext)(Rs),Ls=e=>e.brush,Ds=_o([Ls,Cs,_s],(e,t,n)=>({height:e.height,x:Nn(e.x)?e.x:t.left,y:Nn(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Nn(e.width)?e.width:t.width})),Is=()=>{var e,t=Os(),n=ko(ks),r=ko(Ds),i=null===(e=ko(Ls))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},Fs={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Us=()=>{var e;return null!==(e=ko(Cs))&&void 0!==e?e:Fs},zs=()=>ko(xs),Bs=()=>ko(bs),Vs=e=>e.layout.layoutType,Hs=()=>ko(Vs),Ws=n(9859),Gs=n.n(Ws);function qs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ks(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Xs extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$s;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Ys(this,e))}has(e){return super.has(Ys(this,e))}set(e,t){return super.set(Js(this,e),t)}delete(e){return super.delete(Zs(this,e))}}Set;function Ys(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Js(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Zs(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function $s(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Qs=Symbol("implicit");function el(){var e=new Xs,t=[],n=[],r=Qs;function i(i){let a=e.get(i);if(void 0===a){if(r!==Qs)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Xs;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return el(t,n).unknown(r)},qs.apply(i,arguments),i}function tl(){var e,t,n=el().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,p=d?a:o;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return tl(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},qs.apply(d(),arguments)}function nl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nl(t())},e}function rl(){return nl(tl.apply(null,arguments).paddingInner(1))}const il=Math.sqrt(50),al=Math.sqrt(10),ol=Math.sqrt(2);function sl(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=il?10:a>=al?5:a>=ol?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?sl(e,t,2*n):[s,l,c]}function ll(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?sl(t,e,n):sl(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function cl(e,t,n){return sl(e=+e,t=+t,n=+n)[2]}function ul(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?cl(t,e,n):cl(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function dl(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hl(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pl(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=dl,n=(t,n)=>dl(e(t),n),r=(t,n)=>e(t)-n):(t=e===dl||e===hl?e:ml,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function ml(){return 0}function fl(e){return null===e?NaN:+e}const gl=pl(dl),vl=gl.right,yl=(gl.left,pl(fl).center,vl);function xl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wl(){}var _l=.7,Sl=1/_l,El="\\s*([+-]?\\d+)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jl=/^#([0-9a-f]{3,8})$/,Tl=new RegExp("^rgb\\(".concat(El,",").concat(El,",").concat(El,"\\)$")),Al=new RegExp("^rgb\\(".concat(Nl,",").concat(Nl,",").concat(Nl,"\\)$")),Cl=new RegExp("^rgba\\(".concat(El,",").concat(El,",").concat(El,",").concat(Ml,"\\)$")),kl=new RegExp("^rgba\\(".concat(Nl,",").concat(Nl,",").concat(Nl,",").concat(Ml,"\\)$")),Pl=new RegExp("^hsl\\(".concat(Ml,",").concat(Nl,",").concat(Nl,"\\)$")),Rl=new RegExp("^hsla\\(".concat(Ml,",").concat(Nl,",").concat(Nl,",").concat(Ml,"\\)$")),Ol={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ll(){return this.rgb().formatHex()}function Dl(){return this.rgb().formatRgb()}function Il(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Fl(t):3===n?new Bl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ul(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ul(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Tl.exec(e))?new Bl(t[1],t[2],t[3],1):(t=Al.exec(e))?new Bl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Cl.exec(e))?Ul(t[1],t[2],t[3],t[4]):(t=kl.exec(e))?Ul(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Pl.exec(e))?Kl(t[1],t[2]/100,t[3]/100,1):(t=Rl.exec(e))?Kl(t[1],t[2]/100,t[3]/100,t[4]):Ol.hasOwnProperty(e)?Fl(Ol[e]):"transparent"===e?new Bl(NaN,NaN,NaN,0):null}function Fl(e){return new Bl(e>>16&255,e>>8&255,255&e,1)}function Ul(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bl(e,t,n,r)}function zl(e,t,n,r){return 1===arguments.length?((i=e)instanceof wl||(i=Il(i)),i?new Bl((i=i.rgb()).r,i.g,i.b,i.opacity):new Bl):new Bl(e,t,n,null==r?1:r);var i}function Bl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Vl(){return"#".concat(ql(this.r)).concat(ql(this.g)).concat(ql(this.b))}function Hl(){const e=Wl(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Gl(this.r),", ").concat(Gl(this.g),", ").concat(Gl(this.b)).concat(1===e?")":", ".concat(e,")"))}function Wl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ql(e){return((e=Gl(e))<16?"0":"")+e.toString(16)}function Kl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yl(e,t,n,r)}function Xl(e){if(e instanceof Yl)return new Yl(e.h,e.s,e.l,e.opacity);if(e instanceof wl||(e=Il(e)),!e)return new Yl;if(e instanceof Yl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yl(o,s,l,e.opacity)}function Yl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Jl(e){return(e=(e||0)%360)<0?e+360:e}function Zl(e){return Math.max(0,Math.min(1,e||0))}function $l(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ql(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}xl(wl,Il,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ll,formatHex:Ll,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xl(this).formatHsl()},formatRgb:Dl,toString:Dl}),xl(Bl,zl,bl(wl,{brighter(e){return e=null==e?Sl:Math.pow(Sl,e),new Bl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?_l:Math.pow(_l,e),new Bl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bl(Gl(this.r),Gl(this.g),Gl(this.b),Wl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vl,formatHex:Vl,formatHex8:function(){return"#".concat(ql(this.r)).concat(ql(this.g)).concat(ql(this.b)).concat(ql(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Hl,toString:Hl})),xl(Yl,function(e,t,n,r){return 1===arguments.length?Xl(e):new Yl(e,t,n,null==r?1:r)},bl(wl,{brighter(e){return e=null==e?Sl:Math.pow(Sl,e),new Yl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?_l:Math.pow(_l,e),new Yl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Bl($l(e>=240?e-240:e+120,i,r),$l(e,i,r),$l(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yl(Jl(this.h),Zl(this.s),Zl(this.l),Wl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wl(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Jl(this.h),", ").concat(100*Zl(this.s),"%, ").concat(100*Zl(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ec=e=>()=>e;function tc(e,t){return function(n){return e+n*t}}function nc(e){return 1===(e=+e)?rc:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ec(isNaN(t)?n:t)}}function rc(e,t){var n=t-e;return n?tc(e,n):ec(isNaN(e)?t:e)}const ic=function e(t){var n=nc(t);function r(e,t){var r=n((e=zl(e)).r,(t=zl(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=rc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function ac(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=zl(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}ac(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Ql((n-r/t)*t,o,i,a,s)}}),ac(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Ql((n-r/t)*t,i,a,o,s)}});function oc(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=mc(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function sc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cc(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=mc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dc=new RegExp(uc.source,"g");function hc(e,t){var n,r,i,a=uc.lastIndex=dc.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=uc.exec(e))&&(r=dc.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:lc(n,r)})),a=dc.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function pc(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function mc(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?ec(t):("number"===i?lc:"string"===i?(n=Il(t))?(t=n,ic):hc:t instanceof Il?ic:t instanceof Date?sc:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?oc:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?cc:lc:pc))(e,t)}function fc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function gc(e){return+e}var vc=[0,1];function yc(e){return e}function xc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function bc(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=xc(i,r),a=n(o,a)):(r=xc(r,i),a=n(a,o)),function(e){return a(r(e))}}function wc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=xc(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=yl(e,t,1,r)-1;return a[n](i[n](t))}}function _c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sc(){var e,t,n,r,i,a,o=vc,s=vc,l=mc,c=yc;function u(){var e=Math.min(o.length,s.length);return c!==yc&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?wc:bc,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),lc)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,gc),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=fc,u()},d.clamp=function(e){return arguments.length?(c=!!e||yc,u()):c!==yc},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Ec(){return Sc()(yc,yc)}var Mc,Nc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jc(e){if(!(t=Nc.exec(e)))throw new Error("invalid format: "+e);var t;return new Tc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Tc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ac(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cc(e){return(e=Ac(Math.abs(e)))?e[1]:NaN}function kc(e,t){var n=Ac(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}jc.prototype=Tc.prototype,Tc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Pc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kc(100*e,t),r:kc,s:function(e,t){var n=Ac(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Mc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ac(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rc(e){return e}var Oc,Lc,Dc,Ic=Array.prototype.map,Fc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Uc(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Rc:(t=Ic.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Rc:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Ic.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=jc(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,m=e.width,f=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(f=!0,y="g"):Pc[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=Pc[y],_=/[defgprs%]/.test(y);function S(e){var i,a,l,h=x,S=b;if("c"===y)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===y?Fc[8+Mc/3]:"")+S+(E&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}f&&!p&&(e=r(e,1/0));var M=h.length+e.length+S.length,N=M<m?new Array(m-M+1).join(t):"";switch(f&&p&&(e=r(N+e,N.length?m-S.length:1/0),N=""),n){case"<":e=h+e+S+N;break;case"=":e=h+N+e+S;break;case"^":e=N.slice(0,M=N.length>>1)+h+e+S+N.slice(M);break;default:e=N+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=jc(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Cc(t)/3))),i=Math.pow(10,-r),a=Fc[8+r/3];return function(e){return n(i*e)+a}}}}function zc(e,t,n,r){var i,a=ul(e,t,n);switch((r=jc(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Cc(t)/3)))-Cc(Math.abs(e)))}(a,o))||(r.precision=i),Dc(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cc(t)-Cc(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Cc(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Lc(r)}function Bc(e){var t=e.domain;return e.ticks=function(e){var n=t();return ll(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return zc(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=cl(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Vc(){var e=Ec();return e.copy=function(){return _c(e,Vc())},qs.apply(e,arguments),Bc(e)}function Hc(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,gc),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Hc(e).unknown(t)},e=arguments.length?Array.from(e,gc):[0,1],Bc(n)}function Wc(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Gc(e){return Math.log(e)}function qc(e){return Math.exp(e)}function Kc(e){return-Math.log(-e)}function Xc(e){return-Math.exp(-e)}function Yc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jc(e){return(t,n)=>-e(-t,n)}function Zc(e){const t=e(Gc,qc),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?Yc:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Jc(r),i=Jc(i),e(Kc,Xc)):e(Gc,qc),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const p=null==e?10:+e;let m=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;m.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;m.push(u)}2*m.length<p&&(m=ll(o,s,p))}else m=ll(d,h,Math.min(h-d,p)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=jc(n)).precision||(n.trim=!0),n=Lc(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(Wc(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function $c(){const e=Zc(Sc()).domain([1,10]);return e.copy=()=>_c(e,$c()).base(e.base()),qs.apply(e,arguments),e}function Qc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eu(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tu(e){var t=1,n=e(Qc(t),eu(t));return n.constant=function(n){return arguments.length?e(Qc(t=+n),eu(t)):t},Bc(n)}function nu(){var e=tu(Sc());return e.copy=function(){return _c(e,nu()).constant(e.constant())},qs.apply(e,arguments)}function ru(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function au(e){return e<0?-e*e:e*e}function ou(e){var t=e(yc,yc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(yc,yc):.5===n?e(iu,au):e(ru(n),ru(1/n)):n},Bc(t)}function su(){var e=ou(Sc());return e.copy=function(){return _c(e,su()).exponent(e.exponent())},qs.apply(e,arguments),e}function lu(){return su.apply(null,arguments).exponent(.5)}function cu(e){return Math.sign(e)*e*e}function uu(){var e,t=Ec(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(cu(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,gc)).map(cu)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return uu(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},qs.apply(i,arguments),Bc(i)}function du(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function hu(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dl;if(e===dl)return mu;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function mu(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function fu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?mu:pu(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);fu(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(gu(e,n,t),i(e[r],a)>0&&gu(e,n,r);o<s;){for(gu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?gu(e,n,s):(++s,gu(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vu(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return hu(e);if(t>=1)return du(e);var r,i=(r-1)*t,a=Math.floor(i),o=du(fu(e,a).subarray(0,a+1));return o+(hu(e.subarray(a+1))-o)*(i-a)}}function yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function xu(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=yu(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[yl(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(dl),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return xu().domain(t).range(n).unknown(e)},qs.apply(a,arguments)}function bu(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[yl(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return bu().domain([t,n]).range(a).unknown(e)},qs.apply(Bc(o),arguments)}function wu(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[yl(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return wu().domain(t).range(n).unknown(e)},qs.apply(i,arguments)}Oc=Uc({thousands:",",grouping:[3],currency:["$",""]}),Lc=Oc.format,Dc=Oc.formatPrefix;const _u=1e3,Su=6e4,Eu=36e5,Mu=864e5,Nu=6048e5,ju=2592e6,Tu=31536e6,Au=new Date,Cu=new Date;function ku(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>ku(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Au.setTime(+t),Cu.setTime(+r),e(Au),e(Cu),Math.floor(n(Au,Cu))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Pu=ku(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pu.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ku(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Pu:null);Pu.range;const Ru=ku(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_u)},(e,t)=>(t-e)/_u,e=>e.getUTCSeconds()),Ou=(Ru.range,ku(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_u)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getMinutes())),Lu=(Ou.range,ku(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getUTCMinutes())),Du=(Lu.range,ku(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_u-e.getMinutes()*Su)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getHours())),Iu=(Du.range,ku(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getUTCHours())),Fu=(Iu.range,ku(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Su)/Mu,e=>e.getDate()-1)),Uu=(Fu.range,ku(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mu,e=>e.getUTCDate()-1)),zu=(Uu.range,ku(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mu,e=>Math.floor(e/Mu)));zu.range;function Bu(e){return ku(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Su)/Nu)}const Vu=Bu(0),Hu=Bu(1),Wu=Bu(2),Gu=Bu(3),qu=Bu(4),Ku=Bu(5),Xu=Bu(6);Vu.range,Hu.range,Wu.range,Gu.range,qu.range,Ku.range,Xu.range;function Yu(e){return ku(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Nu)}const Ju=Yu(0),Zu=Yu(1),$u=Yu(2),Qu=Yu(3),ed=Yu(4),td=Yu(5),nd=Yu(6),rd=(Ju.range,Zu.range,$u.range,Qu.range,ed.range,td.range,nd.range,ku(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),id=(rd.range,ku(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),ad=(id.range,ku(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));ad.every=e=>isFinite(e=Math.floor(e))&&e>0?ku(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;ad.range;const od=ku(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());od.every=e=>isFinite(e=Math.floor(e))&&e>0?ku(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;od.range;function sd(e,t,n,r,i,a){const o=[[Ru,1,_u],[Ru,5,5e3],[Ru,15,15e3],[Ru,30,3e4],[a,1,Su],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Eu],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Mu],[r,2,1728e5],[n,1,Nu],[t,1,ju],[t,3,7776e6],[e,1,Tu]];function s(t,n,r){const i=Math.abs(n-t)/r,a=pl(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(ul(t/Tu,n/Tu,r));if(0===a)return Pu.every(Math.max(ul(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[ld,cd]=sd(od,id,Ju,zu,Iu,Lu),[ud,dd]=sd(ad,rd,Vu,Fu,Du,Ou);function hd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function md(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fd,gd,vd,yd={"-":"",_:" ",0:"0"},xd=/^\s*\d+/,bd=/^%/,wd=/[\\^$*+?|[\]().{}]/g;function _d(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Sd(e){return e.replace(wd,"\\$&")}function Ed(e){return new RegExp("^(?:"+e.map(Sd).join("|")+")","i")}function Md(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Nd(e,t,n){var r=xd.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jd(e,t,n){var r=xd.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Td(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ad(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Cd(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kd(e,t,n){var r=xd.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pd(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Od(e,t,n){var r=xd.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ld(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Dd(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Id(e,t,n){var r=xd.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Fd(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ud(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zd(e,t,n){var r=xd.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Bd(e,t,n){var r=xd.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vd(e,t,n){var r=xd.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hd(e,t,n){var r=bd.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Wd(e,t,n){var r=xd.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Gd(e,t,n){var r=xd.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qd(e,t){return _d(e.getDate(),t,2)}function Kd(e,t){return _d(e.getHours(),t,2)}function Xd(e,t){return _d(e.getHours()%12||12,t,2)}function Yd(e,t){return _d(1+Fu.count(ad(e),e),t,3)}function Jd(e,t){return _d(e.getMilliseconds(),t,3)}function Zd(e,t){return Jd(e,t)+"000"}function $d(e,t){return _d(e.getMonth()+1,t,2)}function Qd(e,t){return _d(e.getMinutes(),t,2)}function eh(e,t){return _d(e.getSeconds(),t,2)}function th(e){var t=e.getDay();return 0===t?7:t}function nh(e,t){return _d(Vu.count(ad(e)-1,e),t,2)}function rh(e){var t=e.getDay();return t>=4||0===t?qu(e):qu.ceil(e)}function ih(e,t){return e=rh(e),_d(qu.count(ad(e),e)+(4===ad(e).getDay()),t,2)}function ah(e){return e.getDay()}function oh(e,t){return _d(Hu.count(ad(e)-1,e),t,2)}function sh(e,t){return _d(e.getFullYear()%100,t,2)}function lh(e,t){return _d((e=rh(e)).getFullYear()%100,t,2)}function ch(e,t){return _d(e.getFullYear()%1e4,t,4)}function uh(e,t){var n=e.getDay();return _d((e=n>=4||0===n?qu(e):qu.ceil(e)).getFullYear()%1e4,t,4)}function dh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_d(t/60|0,"0",2)+_d(t%60,"0",2)}function hh(e,t){return _d(e.getUTCDate(),t,2)}function ph(e,t){return _d(e.getUTCHours(),t,2)}function mh(e,t){return _d(e.getUTCHours()%12||12,t,2)}function fh(e,t){return _d(1+Uu.count(od(e),e),t,3)}function gh(e,t){return _d(e.getUTCMilliseconds(),t,3)}function vh(e,t){return gh(e,t)+"000"}function yh(e,t){return _d(e.getUTCMonth()+1,t,2)}function xh(e,t){return _d(e.getUTCMinutes(),t,2)}function bh(e,t){return _d(e.getUTCSeconds(),t,2)}function wh(e){var t=e.getUTCDay();return 0===t?7:t}function _h(e,t){return _d(Ju.count(od(e)-1,e),t,2)}function Sh(e){var t=e.getUTCDay();return t>=4||0===t?ed(e):ed.ceil(e)}function Eh(e,t){return e=Sh(e),_d(ed.count(od(e),e)+(4===od(e).getUTCDay()),t,2)}function Mh(e){return e.getUTCDay()}function Nh(e,t){return _d(Zu.count(od(e)-1,e),t,2)}function jh(e,t){return _d(e.getUTCFullYear()%100,t,2)}function Th(e,t){return _d((e=Sh(e)).getUTCFullYear()%100,t,2)}function Ah(e,t){return _d(e.getUTCFullYear()%1e4,t,4)}function Ch(e,t){var n=e.getUTCDay();return _d((e=n>=4||0===n?ed(e):ed.ceil(e)).getUTCFullYear()%1e4,t,4)}function kh(){return"+0000"}function Ph(){return"%"}function Rh(e){return+e}function Oh(e){return Math.floor(+e/1e3)}function Lh(e){return new Date(e)}function Dh(e){return e instanceof Date?+e:+new Date(+e)}function Ih(e,t,n,r,i,a,o,s,l,c){var u=Ec(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),f=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?p:s(e)<e?m:o(e)<e?f:a(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Dh)):h().map(Lh)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Wc(n,e)):u},u.copy=function(){return _c(u,Ih(e,t,n,r,i,a,o,s,l,c))},u}function Fh(){return qs.apply(Ih(ud,dd,ad,rd,Vu,Fu,Du,Ou,Ru,gd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uh(){return qs.apply(Ih(ld,cd,od,id,Ju,Uu,Iu,Lu,Ru,vd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zh(){var e,t,n,r,i,a=0,o=1,s=yc,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(mc),c.rangeRound=u(fc),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function Bh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Vh(){var e=Bc(zh()(yc));return e.copy=function(){return Bh(e,Vh())},Ks.apply(e,arguments)}function Hh(){var e=Zc(zh()).domain([1,10]);return e.copy=function(){return Bh(e,Hh()).base(e.base())},Ks.apply(e,arguments)}function Wh(){var e=tu(zh());return e.copy=function(){return Bh(e,Wh()).constant(e.constant())},Ks.apply(e,arguments)}function Gh(){var e=ou(zh());return e.copy=function(){return Bh(e,Gh()).exponent(e.exponent())},Ks.apply(e,arguments)}function qh(){return Gh.apply(null,arguments).exponent(.5)}function Kh(){var e=[],t=yc;function n(n){if(null!=n&&!isNaN(n=+n))return t((yl(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(dl),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>vu(e,r/t))},n.copy=function(){return Kh(t).domain(e)},Ks.apply(n,arguments)}function Xh(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=yc,h=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=mc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=m(mc),p.rangeRound=m(fc),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function Yh(){var e=Bc(Xh()(yc));return e.copy=function(){return Bh(e,Yh())},Ks.apply(e,arguments)}function Jh(){var e=Zc(Xh()).domain([.1,1,10]);return e.copy=function(){return Bh(e,Jh()).base(e.base())},Ks.apply(e,arguments)}function Zh(){var e=tu(Xh());return e.copy=function(){return Bh(e,Zh()).constant(e.constant())},Ks.apply(e,arguments)}function $h(){var e=ou(Xh());return e.copy=function(){return Bh(e,$h()).exponent(e.exponent())},Ks.apply(e,arguments)}function Qh(){return $h.apply(null,arguments).exponent(.5)}!function(e){fd=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ed(i),u=Md(i),d=Ed(a),h=Md(a),p=Ed(o),m=Md(o),f=Ed(s),g=Md(s),v=Ed(l),y=Md(l),x={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:qd,e:qd,f:Zd,g:lh,G:uh,H:Kd,I:Xd,j:Yd,L:Jd,m:$d,M:Qd,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Rh,s:Oh,S:eh,u:th,U:nh,V:ih,w:ah,W:oh,x:null,X:null,y:sh,Y:ch,Z:dh,"%":Ph},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:hh,e:hh,f:vh,g:Th,G:Ch,H:ph,I:mh,j:fh,L:gh,m:yh,M:xh,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Rh,s:Oh,S:bh,u:wh,U:_h,V:Eh,w:Mh,W:Nh,x:null,X:null,y:jh,Y:Ah,Z:kh,"%":Ph},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Dd,e:Dd,f:Vd,g:Pd,G:kd,H:Fd,I:Fd,j:Id,L:Bd,m:Ld,M:Ud,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Od,Q:Wd,s:Gd,S:zd,u:jd,U:Td,V:Ad,w:Nd,W:Cd,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Pd,Y:kd,Z:Rd,"%":Hd};function _(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=yd[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=md(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=pd(md(a.y,0,1))).getUTCDay(),r=i>4||0===i?Zu.ceil(r):Zu(r),r=Uu.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=hd(md(a.y,0,1))).getDay(),r=i>4||0===i?Hu.ceil(r):Hu(r),r=Fu.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?pd(md(a.y,0,1)).getUTCDay():hd(md(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,pd(a)):hd(a)}}function E(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in yd?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),{format:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),gd=fd.format,fd.parse,vd=fd.utcFormat,fd.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ep=e=>e.chartData,tp=_o([ep],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),np=(e,t,n,r)=>r?tp(e):ep(e);function rp(e){return Number.isFinite(e)}function ip(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function ap(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(rp(t)&&rp(n))return!0}return!1}function op(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var sp=n(8210),lp=n.n(sp),cp=e=>e,up={"@@functional/placeholder":!0},dp=e=>e===up,hp=e=>function t(){return 0===arguments.length||1===arguments.length&&dp(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pp=(e,t)=>1===e?t:hp(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==up).length;return a>=e?t(...r):pp(e-a,hp(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>dp(e)?n.shift():e);return t(...a,...n)}))}),mp=e=>pp(e.length,e),fp=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},gp=mp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),vp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),yp=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function xp(e){return 0===e?1:Math.floor(new(lp())(e).abs().log(10).toNumber())+1}function bp(e,t,n){for(var r=new(lp())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}mp((e,t,n)=>{var r=+e;return r+n*(+t-r)}),mp((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),mp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var wp=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_p=(e,t,n)=>{if(e.lte(0))return new(lp())(0);var r=xp(e.toNumber()),i=new(lp())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(lp())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(lp())(s.toNumber()):new(lp())(Math.ceil(s.toNumber()))},Sp=(e,t,n)=>{var r=new(lp())(1),i=new(lp())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(lp())(10).pow(xp(e)-1),i=new(lp())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(lp())(Math.floor(e)))}else 0===e?i=new(lp())(Math.floor((t-1)/2)):n||(i=new(lp())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return cp;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(gp(e=>i.add(new(lp())(e-o).mul(r)).toNumber()),fp)(0,t)},Ep=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(lp())(0),tickMin:new(lp())(0),tickMax:new(lp())(0)};var a,o=_p(new(lp())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(lp())(0):(a=new(lp())(e).add(t).div(2)).sub(new(lp())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(lp())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Ep(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(lp())(s).mul(o)),tickMax:a.add(new(lp())(l).mul(o))})};var Mp=yp(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=wp([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...fp(0,r-1).map(()=>1/0)]:[...fp(0,r-1).map(()=>-1/0),s];return t>n?vp(l):l}if(o===s)return Sp(o,r,i);var{step:c,tickMin:u,tickMax:d}=Ep(o,s,a,i,0),h=bp(u,d.add(new(lp())(.1).mul(c)),c);return t>n?vp(h):h}),Np=yp(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=wp([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=_p(new(lp())(o).sub(a).div(s-1),i,0),c=[...bp(new(lp())(a),new(lp())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?vp(c):c}),jp=e=>e.rootProps.maxBarSize,Tp=e=>e.rootProps.barCategoryGap,Ap=e=>e.rootProps.stackOffset,Cp=e=>e.options.chartName,kp=e=>e.rootProps.syncId,Pp=e=>e.rootProps.syncMethod,Rp=e=>e.options.eventEmitter,Op={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Lp={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Dp=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Ip={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Op.angleAxisId,includeHidden:!1,name:void 0,reversed:Op.reversed,scale:Op.scale,tick:Op.tick,tickCount:void 0,ticks:void 0,type:Op.type,unit:void 0},Fp={allowDataOverflow:Lp.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lp.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lp.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lp.scale,tick:Lp.tick,tickCount:Lp.tickCount,ticks:void 0,type:Lp.type,unit:void 0},Up={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Op.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Op.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Op.scale,tick:Op.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zp={allowDataOverflow:Lp.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lp.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lp.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lp.scale,tick:Lp.tick,tickCount:Lp.tickCount,ticks:void 0,type:"category",unit:void 0},Bp=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Up:Ip,Vp=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?zp:Fp,Hp=e=>e.polarOptions,Wp=_o([xs,bs,Cs],Yo),Gp=_o([Hp,Wp],(e,t)=>{if(null!=e)return Cn(e.innerRadius,t,0)}),qp=_o([Hp,Wp],(e,t)=>{if(null!=e)return Cn(e.outerRadius,t,.8*t)}),Kp=_o([Hp],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),Xp=_o([Bp,Kp],Dp),Yp=_o([Wp,Gp,qp],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]}),Jp=_o([Vp,Yp],Dp),Zp=_o([Vs,Hp,Gp,qp,xs,bs],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Cn(o,i,i/2),cy:Cn(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),$p=(e,t)=>t,Qp=(e,t,n)=>n;function em(e){return null===e||void 0===e?void 0:e.id}var tm=e=>{var t=Vs(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},nm=e=>e.tooltip.settings.axisId,rm=e=>{var t=tm(e),n=nm(e);return bm(e,t,n)},im=_o([rm],e=>null===e||void 0===e?void 0:e.dataKey);function am(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=em(e);n.forEach((t,n)=>{var r,l=null==a||i?n:String(is(t,a,null)),c=is(t,e.dataKey,0);r=o.has(l)?o.get(l):{},Object.assign(r,{[s]:c}),o.set(l,r)})}}),Array.from(o.values())}function om(e){return null!=e.stackId&&null!=e.dataKey}function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(t){cm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var um=[0,"auto"],dm={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hm=(e,t)=>e.cartesianAxis.xAxis[t],pm=(e,t)=>{var n=hm(e,t);return null==n?dm:n},mm={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:um,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},fm=(e,t)=>e.cartesianAxis.yAxis[t],gm=(e,t)=>{var n=fm(e,t);return null==n?mm:n},vm={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ym=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?vm:n},xm=(e,t,n)=>{switch(t){case"xAxis":return pm(e,n);case"yAxis":return gm(e,n);case"zAxis":return ym(e,n);case"angleAxis":return Bp(e,n);case"radiusAxis":return Vp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bm=(e,t,n)=>{switch(t){case"xAxis":return pm(e,n);case"yAxis":return gm(e,n);case"angleAxis":return Bp(e,n);case"radiusAxis":return Vp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wm=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function _m(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Sm=e=>e.graphicalItems.cartesianItems,Em=_o([$p,Qp],_m),Mm=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),Nm=_o([Sm,xm,Em],Mm),jm=_o([Nm],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(om)),Tm=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Am=_o([Nm],Tm),Cm=e=>e.map(e=>e.data).filter(Boolean).flat(1),km=_o([Nm],Cm),Pm=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Rm=_o([km,np],Pm),Om=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:is(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:is(e,t)}))):e.map(e=>({value:e})),Lm=_o([Rm,xm,Nm],Om);function Dm(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Im(e){return e.filter(e=>jn(e)||e instanceof Date).map(Number).filter(e=>!1===En(e))}function Fm(e,t,n){return!n||"number"!==typeof t||En(t)?[]:n.length?Im(n.flatMap(n=>{var r,i,a=is(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,rp(r)&&rp(i))return[t-r,t+i]})):[]}var Um=_o([jm,np,rm],am),zm=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(em);return[r,{stackedData:us(e,a,n),graphicalItems:i}]}))},Bm=_o([Um,jm,Ap],zm),Vm=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=ps(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},Hm=_o([Bm,ep,$p],Vm),Wm=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,o,s=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>Dm(i,e)),l=is(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:Fm(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:is(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Gm=e=>e.errorBars,qm=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>Dm(n,e)),Km=(_o([Am,Gm,$p],qm),_o([Rm,xm,Am,Gm,$p],Wm));function Xm(e){var{value:t}=e;if(jn(t)||t instanceof Date)return t}var Ym=e=>{var t=Im(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},Jm=e=>{var t;if(null==e||!("domain"in e))return um;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=Im(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:um},Zm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},$m=e=>e.referenceElements.dots,Qm=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),ef=_o([$m,$p,Qp],Qm),tf=e=>e.referenceElements.areas,nf=_o([tf,$p,Qp],Qm),rf=e=>e.referenceElements.lines,af=_o([rf,$p,Qp],Qm),of=(e,t)=>{var n=Im(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},sf=_o(ef,$p,of),lf=(e,t)=>{var n=Im(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},cf=_o([nf,$p],lf),uf=(e,t)=>{var n=Im(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},df=_o(af,$p,uf),hf=_o(sf,df,cf,(e,t,n)=>Zm(e,n,t)),pf=_o([xm],Jm),mf=(e,t,n,r,i,a,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(rp(i))n=i;else if("function"===typeof i)return;if(rp(a))r=a;else if("function"===typeof a)return;var o=[n,r];if(ap(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(ap(r))return op(r,t,n)}catch(p){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(Nn(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(m){}else if("string"===typeof o&&ms.test(o)){var l=ms.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(Nn(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(f){}else if("string"===typeof s&&fs.test(s)){var u=fs.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(ap(h))return null==t?h:op(h,t,n)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?Zm(n,i,Ym(r)):Zm(i,Ym(r)),e.allowDataOverflow)},ff=_o([xm,pf,Hm,Km,hf,Vs,$p],mf),gf=[0,1],vf=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=as(t,a);return c&&null==s?Gs()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(Xm).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&kn(r))?Gs()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?gf:o}},yf=_o([xm,Vs,Rm,Lm,Ap,$p,ff],vf),xf=(t,n,r,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(Ln(o));return l in e?l:"point"}}},bf=_o([xm,Vs,wm,Cp,$p],xf);function wf(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Ln(t));return n in e?e[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ls,a=Math.max(r[0],r[1])+ls,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var _f=(e,t,n)=>{var r=Jm(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&ap(e)?Mp(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&ap(e)?Np(e,t.tickCount,t.allowDecimals):void 0},Sf=_o([yf,bm,bf],_f),Ef=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&ap(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},Mf=_o([xm,yf,Sf,$p],Ef),Nf=_o(Lm,xm,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Im(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),jf=_o(Nf,Vs,Tp,Cs,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!rp(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=Cn(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),Tf=_o(pm,(e,t)=>{var n=pm(e,t);return null==n||"string"!==typeof n.padding?0:jf(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),Af=_o(gm,(e,t)=>{var n=gm(e,t);return null==n||"string"!==typeof n.padding?0:jf(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),Cf=_o([Cs,Tf,Ds,Ls,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),kf=_o([Cs,Vs,Af,Ds,Ls,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Pf=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Cf(e,n,r);case"yAxis":return kf(e,n,r);case"zAxis":return null===(i=ym(e,n))||void 0===i?void 0:i.range;case"angleAxis":return Kp(e);case"radiusAxis":return Yp(e,n);default:return}},Rf=_o([xm,Pf],Dp),Of=_o([xm,bf,Mf,Rf],wf);_o([Nm,Gm,$p],qm);function Lf(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Df=(e,t)=>t,If=(e,t,n)=>n,Ff=_o(Ss,Df,If,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Lf)),Uf=_o(Es,Df,If,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Lf)),zf=(e,t)=>({width:e.width,height:t.height}),Bf=_o(Cs,pm,zf),Vf=_o(bs,Cs,Ff,Df,If,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=zf(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),Hf=_o(xs,Cs,Uf,Df,If,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),Wf=_o([Cs,pm,(e,t)=>{var n=pm(e,t);if(null!=n)return Vf(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),Gf=_o([Cs,gm,(e,t)=>{var n=gm(e,t);if(null!=n)return Hf(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),qf=_o(Cs,gm,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),Kf=(e,t,n)=>{switch(t){case"xAxis":return Bf(e,n).width;case"yAxis":return qf(e,n).height;default:return}},Xf=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=as(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&kn(l)?l:void 0}},Yf=_o([Vs,Lm,xm,$p],Xf),Jf=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!as(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},Zf=_o([Vs,Lm,bm,$p],Jf),$f=_o([Vs,(e,t,n)=>{switch(t){case"xAxis":return pm(e,n);case"yAxis":return gm(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bf,Of,Yf,Zf,Pf,Sf,$p],(e,t,n,r,i,a,o,s,l)=>{if(null==t)return null;var c=as(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),Qf=(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=as(e,l),{type:u,ticks:d,tickCount:h}=t,p="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/p:0;m="angleAxis"===l&&null!=a&&a.length>=2?2*Sn(a[0]-a[1])*m:m;var f=d||i;return f?f.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!En(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:o?o[e]:e,index:t,offset:m}))}},eg=_o([Vs,bm,bf,Of,Sf,Pf,Yf,Zf,$p],Qf),tg=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=as(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*Sn(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}},ng=_o([Vs,bm,Of,Pf,Yf,Zf,$p],tg),rg=_o(xm,Of,(e,t)=>{if(null!=e&&null!=t)return lm(lm({},e),{},{scale:t})}),ig=_o([xm,bf,yf,Rf],wf),ag=(_o((e,t,n)=>ym(e,n),ig,(e,t)=>{if(null!=e&&null!=t)return lm(lm({},e),{},{scale:t})}),_o([Vs,Ss,Es],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),og=e=>e.options.defaultTooltipEventType,sg=e=>e.options.validateTooltipEventTypes;function lg(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function cg(e,t){return lg(t,og(e),sg(e))}var ug=(e,t)=>{var n,r=Number(t);if(!En(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(t){pg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mg=(e,t,n,r)=>{if(null==t)return Ha;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Ha;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return hg(hg({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return hg(hg({},Ha),{},{coordinate:i.coordinate})},fg=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!rp(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},gg=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},vg=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},yg=e=>e.options.tooltipPayloadSearcher,xg=e=>e.tooltip;function bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(n),!0).forEach(function(t){_g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sg=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,p,{dataDefinedOnItem:m,settings:f}=n,g=function(e,t){return null!=e?e:t}(m,s),v=Array.isArray(g)?es(g,c,u):g,y=null!==(d=null===f||void 0===f?void 0:f.dataKey)&&void 0!==d?d:r,x=null===f||void 0===f?void 0:f.nameKey;(h=r&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===o?Rn(v,r,i):a(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=wg(wg({},f),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(vs({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:is(t.payload,t.dataKey),name:t.name}))}):e.push(vs({tooltipEntrySettings:f,dataKey:y,payload:h,value:is(h,y),name:null!==(p=is(h,x))&&void 0!==p?p:null===f||void 0===f?void 0:f.name}));return e},[])}},Eg=_o([rm,Vs,wm,Cp,tm],xf),Mg=_o([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ng=_o([tm,nm],_m),jg=_o([Mg,rm,Ng],Mm),Tg=_o([jg],e=>e.filter(om)),Ag=_o([jg],Cm),Cg=_o([Ag,ep],Pm),kg=_o([Tg,ep,rm],am),Pg=_o([Cg,rm,jg],Om),Rg=_o([rm],Jm),Og=_o([jg],e=>e.filter(om)),Lg=_o([kg,Og,Ap],zm),Dg=_o([Lg,ep,tm],Vm),Ig=_o([jg],Tm),Fg=_o([Cg,rm,Ig,Gm,tm],Wm),Ug=_o([$m,tm,nm],Qm),zg=_o([Ug,tm],of),Bg=_o([tf,tm,nm],Qm),Vg=_o([Bg,tm],lf),Hg=_o([rf,tm,nm],Qm),Wg=_o([Hg,tm],uf),Gg=_o([zg,Wg,Vg],Zm),qg=_o([rm,Rg,Dg,Fg,Gg,Vs,tm],mf),Kg=_o([rm,Vs,Cg,Pg,Ap,tm,qg],vf),Xg=_o([Kg,rm,Eg],_f),Yg=_o([rm,Kg,Xg,tm],Ef),Jg=e=>{var t=tm(e),n=nm(e);return Pf(e,t,n,!1)},Zg=_o([rm,Jg],Dp),$g=_o([rm,Eg,Yg,Zg],wf),Qg=_o([Vs,Pg,rm,tm],Xf),ev=_o([Vs,Pg,rm,tm],Jf),tv=_o([Vs,rm,Eg,$g,Jg,Qg,ev,tm],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=as(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*Sn(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),nv=_o([og,sg,e=>e.tooltip.settings],(e,t,n)=>lg(n.shared,e,t)),rv=e=>e.tooltip.settings.trigger,iv=e=>e.tooltip.settings.defaultIndex,av=_o([xg,nv,rv,iv],mg),ov=_o([av,Cg],fg),sv=_o([tv,ov],ug),lv=_o([av],e=>{if(e)return e.dataKey}),cv=_o([xg,nv,rv,iv],vg),uv=_o([xs,bs,Vs,Cs,tv,iv,cv,yg],gg),dv=_o([av,uv],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),hv=_o([av],e=>e.active),pv=_o([cv,ov,ep,im,sv,yg,nv],Sg),mv=_o([pv],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),fv=(e,t)=>t,gv=(e,t,n)=>n,vv=(e,t,n,r)=>r,yv=_o(tv,e=>Ro()(e,e=>e.coordinate)),xv=_o([xg,fv,gv,vv],mg),bv=_o([xv,Cg],fg),wv=_o([xg,fv,gv,vv],vg),_v=_o([xs,bs,Vs,Cs,tv,vv,wv,yg],gg),Sv=_o([xv,_v],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),Ev=_o(tv,bv,ug),Mv=_o([wv,bv,ep,im,Ev,yg,fv],Sg),Nv=_o([xv],e=>({isActive:e.active,activeIndex:e.index})),jv=_o([(e,t)=>t,Vs,Zp,tm,Zg,tv,yv,Cs],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?$o({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Sn(u-c)!==Sn(d-u)){var p=[];if(Sn(d-u)===Sn(i[1]-i[0])){h=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var f=d+i[1]-i[0];p[0]=Math.min(u,(f+u)/2),p[1]=Math.max(u,(f+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:o}=n[l]);break}}}else if(t)for(var x=0;x<s;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:o}=t[x]);break}return o})(c,o,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=r;return ns(ns(ns({},r),Xo(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return ns(ns(ns({},r),Xo(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),Tv=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Av=Gr("mouseClick"),Cv=Fi();Cv.startListening({actionCreator:Av,effect:(e,t)=>{var n=e.payload,r=jv(t.getState(),Tv(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Qa({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kv=Gr("mouseMove"),Pv=Fi();function Rv(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function Ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(n),!0).forEach(function(t){Dv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pv.startListening({actionCreator:kv,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cg(r,r.tooltip.settings.shared),a=jv(r,Tv(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch($a({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Ja()))}});var Iv=ai({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=Lv(Lv({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Fv,removeXAxis:Uv,addYAxis:zv,removeYAxis:Bv,addZAxis:Vv,removeZAxis:Hv,updateYAxisWidth:Wv}=Iv.actions,Gv=Iv.reducer,qv=ai({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ur(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ur(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ur(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Kv,replaceCartesianGraphicalItem:Xv,removeCartesianGraphicalItem:Yv,addPolarGraphicalItem:Jv,removePolarGraphicalItem:Zv}=qv.actions,$v=qv.reducer,Qv=ai({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ur(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ur(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ur(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:ey,removeDot:ty,addArea:ny,removeArea:ry,addLine:iy,removeLine:ay}=Qv.actions,oy=Qv.reducer,sy={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ly=ai({name:"brush",initialState:sy,reducers:{setBrushSettings:(e,t)=>null==t.payload?sy:t.payload}}),{setBrushSettings:cy}=ly.actions,uy=ly.reducer,dy=ai({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ur(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:hy,setLegendSettings:py,addLegendPayload:my,removeLegendPayload:fy}=dy.actions,gy=dy.reducer,vy={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yy=ai({name:"rootProps",initialState:vy,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:vy.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),xy=yy.reducer,{updateOptions:by}=yy.actions,wy=ai({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:_y,removeRadiusAxis:Sy,addAngleAxis:Ey,removeAngleAxis:My}=wy.actions,Ny=wy.reducer,jy=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ty}=jy.actions,Ay=jy.reducer,Cy=Gr("keyDown"),ky=Gr("focus"),Py=Fi();Py.startListening({actionCreator:Cy,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(fg(r,Cg(n))),o=tv(n);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===ag(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=_v(n,"axis","hover",String(s));t.dispatch(to({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=_v(n,"axis","hover",String(r.index));t.dispatch(to({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),Py.startListening({actionCreator:ky,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=_v(n,"axis","hover",String("0"));t.dispatch(to({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var Ry=Gr("externalEvent"),Oy=Fi();Oy.startListening({actionCreator:Ry,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:dv(n),activeDataKey:lv(n),activeIndex:ov(n),activeLabel:sv(n),activeTooltipIndex:ov(n),isTooltipActive:hv(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ly=_o([xg],e=>e.tooltipItemPayloads),Dy=_o([Ly,yg,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),Iy=Gr("touchMove"),Fy=Fi();Fy.startListening({actionCreator:Iy,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cg(r,r.tooltip.settings.shared);if("axis"===i){var a=jv(r,Tv({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch($a({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Ms),u=null!==(o=l.getAttribute(Ns))&&void 0!==o?o:void 0,d=Dy(t.getState(),c,u);t.dispatch(Xa({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var Uy=ai({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:zy,replaceErrorBar:By,removeErrorBar:Vy}=Uy.actions,Hy=Uy.reducer,Wy=!1,Gy=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),qy=Kn({brush:uy,cartesianAxis:Gv,chartData:so,errorBars:Hy,graphicalItems:$v,layout:mo,legend:gy,options:Vi,polarAxis:Ny,polarOptions:Ay,referenceElements:oy,rootProps:xy,tooltip:no});function Ky(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,a=Os(),o=(0,t.useRef)(null);if(a)return r;null==o.current&&(o.current=function(e){return $r({reducer:qy,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([Cv.middleware,Pv.middleware,Py.middleware,Oy.middleware,Fy.middleware]),devTools:Wy&&{serialize:{replacer:Rv},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,i));var s=Mo;return t.createElement(ea,{context:s,store:o.current},r)}var Xy=e=>{var{chartData:n}=e,r=jo(),i=Os();return(0,t.useEffect)(()=>i?()=>{}:(r(io(n)),()=>{r(io(void 0))}),[n,r,i]),null};function Yy(e){var{layout:n,width:r,height:i,margin:a}=e,o=jo(),s=Os();return(0,t.useEffect)(()=>{s||(o(uo(n)),o(ho({width:r,height:i})),o(co(a)))},[o,s,n,r,i,a]),null}function Jy(e){var n=jo();return(0,t.useEffect)(()=>{n(by(e))},[n,e]),null}var Zy=()=>ko(e=>e.rootProps.accessibilityLayer),$y=n(2086),Qy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ex(e){return"string"===typeof e&&Qy.includes(e)}var tx=["points","pathLength"],nx={svg:["viewBox","children"],polygon:tx,polyline:tx},rx=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var i={};return Object.keys(r).forEach(e=>{ex(e)&&(i[e]=n||(t=>r[e](r,t)))}),i},ix=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];ex(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},ax=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ox(e){return"string"===typeof e&&ax.includes(e)}function sx(e){var t=Object.entries(e).filter(e=>{var[t]=e;return ox(t)});return Object.fromEntries(t)}var lx=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",cx=null,ux=null,dx=e=>{if(e===cx&&Array.isArray(ux))return ux;var n=[];return t.Children.forEach(e,e=>{On(e)||((0,$y.isFragment)(e)?n=n.concat(dx(e.props.children)):n.push(e))}),ux=n,cx=e,n};function hx(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>lx(e)):[lx(t)],dx(e).forEach(e=>{var t=_n()(e,"type.displayName")||_n()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var px=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),mx=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var t;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===nx||void 0===nx?void 0:nx[r]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&a.includes(t)||ox(t)),l=Boolean(n)&&ex(t);return o||s||l})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(a[e]=i[e])}),a},fx=["children","width","height","viewBox","className","style","title","desc"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}var vx=(0,t.forwardRef)((e,n)=>{var{children:r,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fx),h=o||{width:i,height:a,x:0,y:0},p=yn("recharts-surface",s);return t.createElement("svg",gx({},mx(d,!0,"svg"),{className:p,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),yx=["children"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}var bx={width:"100%",height:"100%"},wx=(0,t.forwardRef)((e,n)=>{var r=zs(),i=Bs(),a=Zy();if(!ip(r)||!ip(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0,t.createElement(vx,xx({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:i,style:bx,ref:n}),l)}),_x=e=>{var{children:n}=e,r=ko(Ds);if(!r)return null;var{width:i,height:a,y:o,x:s}=r;return t.createElement(vx,{width:i,height:a,x:s,y:o},n)},Sx=(0,t.forwardRef)((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yx);return Os()?t.createElement(_x,null,r):t.createElement(wx,xx({ref:n},i),r)});var Ex=new(n(7283)),Mx="recharts.syncEvent.tooltip",Nx="recharts.syncEvent.brush";function jx(e){return e.tooltip.syncInteraction}var Tx=["x","y"];function Ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ax(Object(n),!0).forEach(function(t){kx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Px=()=>{};function Rx(){var e=ko(kp),n=ko(Rp),r=jo(),i=ko(Pp),a=ko(tv),o=Hs(),s=Is(),l=ko(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Px;var t=(t,l,c)=>{var u;if(n!==c&&e===t)if("index"!==i){if(null!=a){var d;if("function"===typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},p=i(a,h);d=a[p]}else"value"===i&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:m}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=m&&null!=s){var{x:f,y:g}=m,v=Math.min(f,s.x+s.width),y=Math.min(g,s.y+s.height),x={x:"horizontal"===o?d.coordinate:v,y:"horizontal"===o?y:d.coordinate},b=eo({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label});r(b)}else r(eo({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(s&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate){var w=l.payload.coordinate,{x:_,y:S}=w,E=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(w,Tx),M=Cx(Cx(Cx({},E),"number"===typeof _&&{x:Math.max(s.x,Math.min(_,s.x+s.width))}),"number"===typeof S&&{y:Math.max(s.y,Math.min(S,s.y+s.height))}),N=Cx(Cx({},l),{},{payload:Cx(Cx({},l.payload),{},{coordinate:M})});r(N)}else r(l)};return Ex.on(Mx,t),()=>{Ex.off(Mx,t)}},[l,r,n,e,i,a,o,s])}function Ox(){var e=jo();(0,t.useEffect)(()=>{e(Hi())},[e]),Rx(),function(){var e=ko(kp),n=ko(Rp),r=jo();(0,t.useEffect)(()=>{if(null==e)return Px;var t=(t,i,a)=>{n!==a&&e===t&&r(ao(i))};return Ex.on(Nx,t),()=>{Ex.off(Nx,t)}},[r,n,e])}()}function Lx(e,n,r,i,a,o){var s=ko(t=>((e,t,n)=>{if(null!=t){var r=xg(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=ko(Rp),c=ko(kp),u=ko(Pp),d=ko(jx),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=eo({active:o,coordinate:r,dataKey:s,index:a,label:"number"===typeof i?String(i):i});Ex.emit(Mx,c,e,l)}},[h,r,s,a,i,l,c,u,o])}var Dx=(0,t.createContext)(null),Ix=(0,t.createContext)(null);function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach(function(t){zx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bx=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:p,onTouchEnd:m,onTouchMove:f,onTouchStart:g,style:v,width:y}=e,x=jo(),[b,w]=(0,t.useState)(null),[_,S]=(0,t.useState)(null);Ox();var E=function(){var e=jo(),[n,r]=(0,t.useState)(null),i=ko(ws);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;rp(t)&&t!==i&&e(po(t))}},[n,e,i]),r}(),M=(0,t.useCallback)(e=>{E(e),"function"===typeof n&&n(e),w(e),S(e)},[E,n,w,S]),N=(0,t.useCallback)(e=>{x(Av(e)),x(Ry({handler:o,reactEvent:e}))},[x,o]),j=(0,t.useCallback)(e=>{x(kv(e)),x(Ry({handler:u,reactEvent:e}))},[x,u]),T=(0,t.useCallback)(e=>{x(Ja()),x(Ry({handler:d,reactEvent:e}))},[x,d]),A=(0,t.useCallback)(e=>{x(kv(e)),x(Ry({handler:h,reactEvent:e}))},[x,h]),C=(0,t.useCallback)(()=>{x(ky())},[x]),k=(0,t.useCallback)(e=>{x(Cy(e.key))},[x]),P=(0,t.useCallback)(e=>{x(Ry({handler:s,reactEvent:e}))},[x,s]),R=(0,t.useCallback)(e=>{x(Ry({handler:l,reactEvent:e}))},[x,l]),O=(0,t.useCallback)(e=>{x(Ry({handler:c,reactEvent:e}))},[x,c]),L=(0,t.useCallback)(e=>{x(Ry({handler:p,reactEvent:e}))},[x,p]),D=(0,t.useCallback)(e=>{x(Ry({handler:g,reactEvent:e}))},[x,g]),I=(0,t.useCallback)(e=>{x(Iy(e)),x(Ry({handler:f,reactEvent:e}))},[x,f]),F=(0,t.useCallback)(e=>{x(Ry({handler:m,reactEvent:e}))},[x,m]);return t.createElement(Dx.Provider,{value:b},t.createElement(Ix.Provider,{value:_},t.createElement("div",{className:yn("recharts-wrapper",i),style:Ux({position:"relative",cursor:"default",width:y,height:a},v),onClick:N,onContextMenu:P,onDoubleClick:R,onFocus:C,onKeyDown:k,onMouseDown:O,onMouseEnter:j,onMouseLeave:T,onMouseMove:A,onMouseUp:L,onTouchEnd:F,onTouchMove:I,onTouchStart:D,ref:M},r)))}),Vx=_o([Cs],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Hx=_o([Vx,xs,bs],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Wx=()=>ko(Hx),Gx=(0,t.createContext)(void 0),qx=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(An("recharts"),"-clip")),i=Wx();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return t.createElement(Gx.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:a,y:o,height:l,width:s}))),n)},Kx=["children","className","width","height","style","compact","title","desc"];var Xx=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Kx),h=sx(d);return l?t.createElement(Sx,{otherAttributes:h,title:c,desc:u},r):t.createElement(Bx,{className:i,style:s,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(Sx,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(qx,null,r)))});function Yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zx(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yx(Object(n),!0).forEach(function(t){Jx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var $x=["width","height"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(null,arguments)}var eb={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},tb=(0,t.forwardRef)(function(e,n){var r,i=Zx(e.categoricalChartProps,eb),{width:a,height:o}=i,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,$x);if(!ip(a)||!ip(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(Ky,{preloadedState:{options:p},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(Xy,{chartData:h.data}),t.createElement(Yy,{width:a,height:o,layout:i.layout,margin:i.margin}),t.createElement(Jy,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(Xx,Qx({},s,{width:a,height:o,ref:n})))}),nb=["axis","item"],rb=(0,t.forwardRef)((e,n)=>t.createElement(tb,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nb,tooltipPayloadSearcher:zi,categoricalChartProps:e,ref:n}));function ib(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(n),!0).forEach(function(t){sb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lb=ob({},{cacheSize:2e3,enableCache:!0}),cb=new class{constructor(e){ib(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(lb.cacheSize),ub={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},db="recharts_measurement_span";var hb=(e,t)=>{try{var n=document.getElementById(db);n||((n=document.createElement("span")).setAttribute("id",db),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ub,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},pb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Gy)return{width:0,height:0};if(!lb.enableCache)return hb(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=cb.get(n);if(r)return r;var i=hb(e,t);return cb.set(n,i),i};function mb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fb{static create(e){return new fb(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}mb(fb,"EPS",1e-4);function gb(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function vb(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function yb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(t){wb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _b(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(Nn(c)||Gy)return null!==(r=function(e,t){return gb(e,t+1)}(a,Nn(c)?c:0))&&void 0!==r?r:[];var p=[],m="top"===l||"bottom"===l?"width":"height",f=d&&"width"===m?pb(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===m?vb(pb(i,{fontSize:t,letterSpacing:n}),f,h):pb(i,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?Sn(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,v,m);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:gb(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),p=t.coordinate,m=0===c||yb(e,p,h,d,l);m||(c=0,d=s,u+=1),m&&(d=p+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(v,y,g,a,s):(p="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=bb(bb({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),yb(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=bb(bb({},u),{},{isShow:!0}))}for(var p=a?s-1:s,m=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=bb(bb({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=bb(bb({},a),{},{tickCoord:a.coordinate});yb(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=bb(bb({},a),{},{isShow:!0}))},f=0;f<p;f++)m(f);return o}(v,y,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=bb(bb({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=bb(bb({},c),{},{tickCoord:c.coordinate});yb(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=bb(bb({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(v,y,g,a,s),p.filter(e=>e.isShow))}function Sb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var Eb=["children","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}var Nb=t.forwardRef((e,n)=>{var{children:r,className:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Eb),o=yn("recharts-layer",i);return t.createElement("g",Mb({className:o},mx(a,!0),{ref:n}),r)}),jb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ab=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cb=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kb={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Pb=Object.keys(kb),Rb="NaN";class Ob{static parse(e){var t,[,n,r]=null!==(t=Cb.exec(e))&&void 0!==t?t:[];return new Ob(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,En(e)&&(this.unit=""),""===t||Ab.test(t)||(this.num=NaN,this.unit=""),Pb.includes(t)&&(this.num=function(e,t){return e*kb[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Ob(NaN,""):new Ob(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ob(NaN,""):new Ob(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Ob(NaN,""):new Ob(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Ob(NaN,""):new Ob(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function Lb(e){if(e.includes(Rb))return Rb;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=jb.exec(t))&&void 0!==n?n:[],o=Ob.parse(null!==r&&void 0!==r?r:""),s=Ob.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return Rb;t=t.replace(jb,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Tb.exec(t))&&void 0!==c?c:[],p=Ob.parse(null!==u&&void 0!==u?u:""),m=Ob.parse(null!==h&&void 0!==h?h:""),f="+"===d?p.add(m):p.subtract(m);if(f.isNaN())return Rb;t=t.replace(Tb,f.toString())}return t}var Db=/\(([^()]*)\)/;function Ib(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=Db.exec(n));){var[,r]=t;n=n.replace(Db,Lb(r))}return n}(t),t=Lb(t)}function Fb(e){var t=function(e){try{return Ib(e)}catch(t){return Rb}}(e.slice(5,-1));return t===Rb?"":t}var Ub=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zb=["dx","dy","angle","className","breakAll"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}function Vb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hb=/[ \f\n\r\t\v\u2028\u2029]+/,Wb=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return On(t)||(i=n?t.toString().split(""):t.toString().split(Hb)),{wordsWithComputedWidth:i.map(e=>({word:e,width:pb(e,r).width})),spaceWidth:n?0:pb("\xa0",r).width}}catch(a){return null}},Gb=e=>[{words:On(e)?[]:e.toString().split(Hb)}],qb=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Gy){var s=Wb({breakAll:a,children:r,style:i});if(!s)return Gb(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=Nn(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),p=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||p(h).width>Number(r)))return h;for(var m,f=e=>{var t=u.slice(0,e),n=Wb({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||p(i).width>Number(r),i]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,_]=f(b),[S]=f(x);if(w||S||(g=x+1),w&&S&&(v=x-1),!w&&S){m=_;break}y++}return m||h})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return Gb(r)},Kb="#808080",Xb=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Kb}=e,d=Vb(e,Ub),h=(0,t.useMemo)(()=>qb({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:p,dy:m,angle:f,className:g,breakAll:v}=d,y=Vb(d,zb);if(!jn(r)||!jn(i)||0===h.length)return null;var x,b=r+(Nn(p)?p:0),w=i+(Nn(m)?m:0);switch(c){case"start":x=Fb("calc(".concat(o,")"));break;case"middle":x=Fb("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:x=Fb("calc(".concat(h.length-1," * -").concat(a,")"))}var _=[];if(s){var S=h[0].width,{width:E}=d;_.push("scale(".concat(Nn(E)?E/S:1,")"))}return f&&_.push("rotate(".concat(f,", ").concat(b,", ").concat(w,")")),_.length&&(y.transform=_.join(" ")),t.createElement("text",Bb({},mx(y,!0),{ref:n,x:b,y:w,className:yn("recharts-text",g),textAnchor:l,fill:u.includes("url")?Kb:u}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:b,dy:0===n?x:a,key:"".concat(r,"-").concat(n)},r)}))});Xb.displayName="Text";var Yb=["labelRef"];function Jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jb(Object(n),!0).forEach(function(t){$b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}var ew=(0,t.createContext)(null),tw=e=>{var{x:n,y:r,width:i,height:a,children:o}=e,s=(0,t.useMemo)(()=>({x:n,y:r,width:i,height:a}),[n,r,i,a]);return t.createElement(ew.Provider,{value:s},o)},nw=()=>{var e=(0,t.useContext)(ew),n=Is();return e||n},rw=(0,t.createContext)(null),iw=e=>{var{cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s,clockWise:l,children:c}=e,u=(0,t.useMemo)(()=>({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:o,endAngle:s,clockWise:l}),[n,r,i,a,o,s,l]);return t.createElement(rw.Provider,{value:u},c)},aw=()=>{var e=(0,t.useContext)(rw),n=ko(Zp);return e||n},ow=e=>null!=e&&"function"===typeof e,sw=(e,n,r,i,a)=>{var o,s,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:f,clockWise:g}=a,v=(h+p)/2,y=((e,t)=>Sn(t-e)*Math.min(Math.abs(t-e),360))(m,f),x=y>=0?1:-1;switch(n){case"insideStart":o=m+x*l,s=g;break;case"insideEnd":o=f-x*l,s=!g;break;case"end":o=f+x*l,s=g;break;default:throw new Error("Unsupported position ".concat(n))}s=y<=0?s:!s;var b=Xo(u,d,v,o),w=Xo(u,d,v,o+359*(s?1:-1)),_="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),S=On(e.id)?An("recharts-radial-line-"):e.id;return t.createElement("text",Qb({},i,{dominantBaseline:"central",className:yn("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:_})),t.createElement("textPath",{xlinkHref:"#".concat(S)},r))},lw=e=>"cx"in e&&Nn(e.cx),cw={offset:5};function uw(e){var n=Zx(e,cw),{viewBox:r,position:i,value:a,children:o,content:s,className:l="",textBreakAll:c,labelRef:u}=n,d=aw(),h=nw(),p=r||("center"===i?h:null!==d&&void 0!==d?d:h);if(!p||On(a)&&On(o)&&!(0,t.isValidElement)(s)&&"function"!==typeof s)return null;var m,f=Zb(Zb({},n),{},{viewBox:p});if((0,t.isValidElement)(s)){var{labelRef:g}=f,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(f,Yb);return(0,t.cloneElement)(s,v)}if("function"===typeof s){if(m=(0,t.createElement)(s,f),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=On(e.children)?t:e.children;return"function"===typeof n?n(r):r})(n);var y=lw(p),x=mx(n,!0);if(y&&("insideStart"===i||"insideEnd"===i||"end"===i))return sw(n,i,m,x,p);var b=y?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=Xo(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=Xo(r,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(p,n.offset,n.position):((e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||lw(r)||(n=r);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*i,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,f=m*i,g=m>0?"end":"start",v=m>0?"start":"end";if("top"===a)return Zb(Zb({},{x:o+l/2,y:s-u*i,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return Zb(Zb({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var y={x:o-f,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return Zb(Zb({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+f,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return Zb(Zb({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?Zb({x:o+f,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===a?Zb({x:o+l-f,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?Zb({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===a?Zb({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?Zb({x:o+f,y:s+d,textAnchor:v,verticalAnchor:p},b):"insideTopRight"===a?Zb({x:o+l-f,y:s+d,textAnchor:g,verticalAnchor:p},b):"insideBottomLeft"===a?Zb({x:o+f,y:s+c-d,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===a?Zb({x:o+l-f,y:s+c-d,textAnchor:g,verticalAnchor:h},b):a&&"object"===typeof a&&(Nn(a.x)||Mn(a.x))&&(Nn(a.y)||Mn(a.y))?Zb({x:o+Cn(a.x,l),y:s+Cn(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Zb({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(n,p);return t.createElement(Xb,Qb({ref:u,className:yn("recharts-label",l)},x,b,{breakAll:c}),m)}uw.displayName="Label";var dw=(e,n,r)=>{if(!e)return null;var i={viewBox:n,labelRef:r};return!0===e?t.createElement(uw,Qb({key:"label-implicit"},i)):jn(e)?t.createElement(uw,Qb({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===uw?(0,t.cloneElement)(e,Zb({key:"label-implicit"},i)):t.createElement(uw,Qb({key:"label-implicit",content:e},i)):ow(e)?t.createElement(uw,Qb({key:"label-implicit",content:e},i)):e&&"object"===typeof e?t.createElement(uw,Qb({},e,{key:"label-implicit"},i)):null};function hw(e){var{label:t}=e,n=nw();return dw(t,n)||null}function pw(e){var{label:t}=e,n=aw();return dw(t,n)||null}var mw=["axisLine","width","height","className","hide","ticks"],fw=["viewBox"],gw=["viewBox"];function vw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}function xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xw(Object(n),!0).forEach(function(t){ww(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ww(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _w={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Sw(e){var{x:n,y:r,width:i,height:a,orientation:o,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=bw(bw(bw({},c),mx(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!s||"bottom"===o&&s);u=bw(bw({},u),{},{x1:n,y1:r+d*a,x2:n+i,y2:r+d*a})}else{var h=+("left"===o&&!s||"right"===o&&s);u=bw(bw({},u),{},{x1:n+h*i,y1:r,x2:n+h*i,y2:r+a})}return t.createElement("line",yw({},u,{className:yn("recharts-cartesian-axis-line",_n()(l,"className"))}))}function Ew(e){var n,{option:r,tickProps:i,value:a}=e,o=yn(i.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(r))n=t.cloneElement(r,bw(bw({},i),{},{className:o}));else if("function"===typeof r)n=r(bw(bw({},i),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof r&&(s=yn(s,null===r||void 0===r?void 0:r.className)),n=t.createElement(Xb,yw({},i,{className:s}),a)}return n}function Mw(e){var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:p,width:m,height:f,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:b,events:w}=e,_=_b(bw(bw({},b),{},{ticks:n}),y,x),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,d),E=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,d),M=sx(b),N=mx(r,!1),j=bw(bw({},M),{},{fill:"none"},mx(i,!1)),T=_.map((e,n)=>{var{line:y,tick:x}=function(e,t,n,r,i,a,o,s,l){var c,u,d,h,p,m,f=s?-1:1,g=e.tickSize||o,v=Nn(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,m=(d=(h=n+ +!s*i)-f*g)-f*l,p=v;break;case"left":d=h=e.coordinate,p=(c=(u=t+ +!s*r)-f*g)-f*l,m=v;break;case"right":d=h=e.coordinate,p=(c=(u=t+ +s*r)+f*g)+f*l,m=v;break;default:c=u=e.coordinate,m=(d=(h=n+ +s*i)+f*g)+f*l,p=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:p,y:m}}}(e,h,p,m,f,u,g,d,v),b=bw(bw(bw(bw({textAnchor:S,verticalAnchor:E},M),{},{stroke:"none",fill:a},N),x),{},{index:n,payload:e,visibleTicksCount:_.length,tickFormatter:o,padding:l},c);return t.createElement(Nb,yw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ix(w,e,n)),i&&t.createElement("line",yw({},j,y,{className:yn("recharts-cartesian-axis-tick-line",_n()(i,"className"))})),r&&t.createElement(Ew,{option:r,tickProps:b,value:"".concat("function"===typeof o?o(e.value,n):e.value).concat(s||"")}))});return T.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}var Nw=(0,t.forwardRef)((e,n)=>{var{axisLine:r,width:i,height:a,className:o,hide:s,ticks:l}=e,c=vw(e,mw),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),m=(0,t.useRef)([]);(0,t.useImperativeHandle)(n,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var f=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===u&&a===h||(d(i),p(a))}}},[u,h]);return s||null!=i&&i<=0||null!=a&&a<=0?null:t.createElement(Nb,{className:yn("recharts-cartesian-axis",o),ref:f},t.createElement(Sw,{x:e.x,y:e.y,width:i,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:sx(e)}),t.createElement(Mw,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),t.createElement(tw,{x:e.x,y:e.y,width:e.width,height:e.height},t.createElement(hw,{label:e.label}),e.children))}),jw=t.memo(Nw,(e,t)=>{var{viewBox:n}=e,r=vw(e,fw),{viewBox:i}=t,a=vw(t,gw);return Sb(n,i)&&Sb(r,a)}),Tw=t.forwardRef((e,n)=>{var r=Zx(e,_w);return t.createElement(jw,yw({},r,{ref:n}))});Tw.displayName="CartesianAxis";var Aw=["x1","y1","x2","y2","key"],Cw=["offset"],kw=["xAxisId","yAxisId"],Pw=["xAxisId","yAxisId"];function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ow(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(t){Lw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function Iw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fw=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:i,y:a,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Uw(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=n,c=sx(Iw(n,Aw)),{offset:u}=c,d=Iw(c,Cw);r=t.createElement("line",Dw({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function zw(e){var{x:n,width:r,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Iw(e,kw),c=a.map((e,t)=>{var a=Ow(Ow({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return Uw(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Bw(e){var{y:n,height:r,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Iw(e,Pw),c=a.map((e,t)=>{var a=Ow(Ow({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return Uw(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Vw(e){var{horizontalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Hw(e){var{vertical:n=!0,verticalFill:r,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?a+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ww=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return os(_b(Ow(Ow(Ow({},_w),n),{},{ticks:ss(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Gw=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return os(_b(Ow(Ow(Ow({},_w),n),{},{ticks:ss(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},qw={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Kw(e){var n=zs(),r=Bs(),i=Us(),a=Ow(Ow({},Zx(e,qw)),{},{x:Nn(e.x)?e.x:i.left,y:Nn(e.y)?e.y:i.top,width:Nn(e.width)?e.width:i.width,height:Nn(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:p,verticalValues:m}=a,f=Os(),g=ko(e=>$f(e,"xAxis",o,f)),v=ko(e=>$f(e,"yAxis",s,f));if(!Nn(u)||u<=0||!Nn(d)||d<=0||!Nn(l)||l!==+l||!Nn(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Ww,x=a.horizontalCoordinatesGenerator||Gw,{horizontalPoints:b,verticalPoints:w}=a;if((!b||!b.length)&&"function"===typeof x){var _=p&&p.length,S=x({yAxis:v?Ow(Ow({},v),{},{ticks:_?p:v.ticks}):void 0,width:n,height:r,offset:i},!!_||h);Dn(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!w||!w.length)&&"function"===typeof y){var E=m&&m.length,M=y({xAxis:g?Ow(Ow({},g),{},{ticks:E?m:g.ticks}):void 0,width:n,height:r,offset:i},!!E||h);Dn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(w=M)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Fw,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement(Vw,Dw({},a,{horizontalPoints:b})),t.createElement(Hw,Dw({},a,{verticalPoints:w})),t.createElement(zw,Dw({},a,{offset:i,horizontalPoints:b,xAxis:g,yAxis:v})),t.createElement(Bw,Dw({},a,{offset:i,verticalPoints:w,xAxis:g,yAxis:v})))}Kw.displayName="CartesianGrid";var Xw=["dangerouslySetInnerHTML","ticks"],Yw=["id"],Jw=["domain"],Zw=["domain"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(null,arguments)}function Qw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e_(e){var n=jo();return(0,t.useEffect)(()=>(n(Fv(e)),()=>{n(Uv(e))}),[e,n]),null}var t_=e=>{var{xAxisId:n,className:r}=e,i=ko(Ps),a=Os(),o="xAxis",s=ko(e=>Of(e,o,n,a)),l=ko(e=>eg(e,o,n,a)),c=ko(e=>Bf(e,n)),u=ko(e=>Wf(e,n)),d=ko(e=>hm(e,n));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:p}=e,m=Qw(e,Xw),{id:f}=d,g=Qw(d,Yw);return t.createElement(Tw,$w({},m,g,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:yn("recharts-".concat(o," ").concat(o),r),viewBox:i,ticks:l}))},n_={allowDataOverflow:dm.allowDataOverflow,allowDecimals:dm.allowDecimals,allowDuplicatedCategory:dm.allowDuplicatedCategory,height:dm.height,hide:!1,mirror:dm.mirror,orientation:dm.orientation,padding:dm.padding,reversed:dm.reversed,scale:dm.scale,tickCount:dm.tickCount,type:dm.type,xAxisId:0},r_=e=>{var n,r,i,a,o,s=Zx(e,n_);return t.createElement(t.Fragment,null,t.createElement(e_,{interval:null!==(n=s.interval)&&void 0!==n?n:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:null!==(r=s.includeHidden)&&void 0!==r&&r,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:null!==(i=s.angle)&&void 0!==i?i:0,minTickGap:null!==(a=s.minTickGap)&&void 0!==a?a:5,tick:null===(o=s.tick)||void 0===o||o,tickFormatter:s.tickFormatter}),t.createElement(t_,s))},i_=(e,t)=>{var{domain:n}=e,r=Qw(e,Jw),{domain:i}=t;return!!Sb(r,Qw(t,Zw))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:Sb({domain:n},{domain:i}))},a_=t.memo(r_,i_);a_.displayName="XAxis";var o_=["dangerouslySetInnerHTML","ticks"],s_=["id"],l_=["domain"],c_=["domain"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(null,arguments)}function d_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h_(e){var n=jo();return(0,t.useEffect)(()=>(n(zv(e)),()=>{n(Bv(e))}),[e,n]),null}var p_=e=>{var{yAxisId:n,className:r,width:i,label:a}=e,o=(0,t.useRef)(null),s=(0,t.useRef)(null),l=ko(Ps),c=Os(),u=jo(),d="yAxis",h=ko(e=>Of(e,d,n,c)),p=ko(e=>qf(e,n)),m=ko(e=>Gf(e,n)),f=ko(e=>eg(e,d,n,c)),g=ko(e=>fm(e,n));if((0,t.useLayoutEffect)(()=>{if("auto"===i&&p&&!ow(a)&&!(0,t.isValidElement)(a)&&null!=g){var e=o.current;if(e){var r=e.getCalculatedWidth();Math.round(p.width)!==Math.round(r)&&u(Wv({id:n,width:r}))}}},[f,p,u,a,n,i,g]),null==p||null==m||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=d_(e,o_),{id:b}=g,w=d_(g,s_);return t.createElement(Tw,u_({},x,w,{ref:o,labelRef:s,scale:h,x:m.x,y:m.y,tickTextProps:"auto"===i?{width:void 0}:{width:i},width:p.width,height:p.height,className:yn("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:f}))},m_={allowDataOverflow:mm.allowDataOverflow,allowDecimals:mm.allowDecimals,allowDuplicatedCategory:mm.allowDuplicatedCategory,hide:!1,mirror:mm.mirror,orientation:mm.orientation,padding:mm.padding,reversed:mm.reversed,scale:mm.scale,tickCount:mm.tickCount,type:mm.type,width:mm.width,yAxisId:0},f_=e=>{var n,r,i,a,o,s=Zx(e,m_);return t.createElement(t.Fragment,null,t.createElement(h_,{interval:null!==(n=s.interval)&&void 0!==n?n:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:null!==(r=s.includeHidden)&&void 0!==r&&r,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:null!==(i=s.angle)&&void 0!==i?i:0,minTickGap:null!==(a=s.minTickGap)&&void 0!==a?a:5,tick:null===(o=s.tick)||void 0===o||o,tickFormatter:s.tickFormatter}),t.createElement(p_,s))},g_=(e,t)=>{var{domain:n}=e,r=d_(e,l_),{domain:i}=t;return!!Sb(r,d_(t,c_))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:Sb({domain:n},{domain:i}))},v_=t.memo(f_,g_);v_.displayName="YAxis";var y_=n(7950);function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x_.apply(null,arguments)}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(t){__(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function __(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S_(e){return Array.isArray(e)&&jn(e[0])&&jn(e[1])?e.join(" ~ "):e}var E_=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:p=!1}=e,m=w_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),f=w_({margin:0},a),g=!On(d),v=g?d:"",y=yn("recharts-default-tooltip",c),x=yn("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(v=h(d,o));var b=p?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",x_({className:y,style:m},b),t.createElement("p",{className:x,style:f},t.isValidElement(v)?v:"".concat(v)),(()=>{if(o&&o.length){var e=(l?Ro()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||s||S_,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var p=w_({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:p},jn(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,jn(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},M_="recharts-tooltip-wrapper",N_={visibility:"hidden"};function j_(e){var{coordinate:t,translateX:n,translateY:r}=e;return yn(M_,{["".concat(M_,"-right")]:Nn(n)&&t&&Nn(t.x)&&n>=t.x,["".concat(M_,"-left")]:Nn(n)&&t&&Nn(t.x)&&n<t.x,["".concat(M_,"-bottom")]:Nn(r)&&t&&Nn(t.y)&&r>=t.y,["".concat(M_,"-top")]:Nn(r)&&t&&Nn(t.y)&&r<t.y})}function T_(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&Nn(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(t){k_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P_ extends t.PureComponent{constructor(){super(...arguments),k_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),k_(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:f,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=T_({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=T_({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):N_,{cssProperties:t,cssClasses:j_({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:f.height,width:f.width},useTranslate3d:h,viewBox:p}),b=v?{}:C_(C_({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=C_(C_({},b),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},a)}}var R_=n(4332),O_=n.n(R_);function L_(e,t,n){return!0===t?O_()(e,n):"function"===typeof t?O_()(e,t):e}var D_,I_,F_,U_,z_,B_,V_,H_,W_,G_,q_,K_,X_,Y_;function J_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>1||Math.abs(i.left-n.left)>1||Math.abs(i.top-n.top)>1||Math.abs(i.width-n.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,i]}function Z_(){}function $_(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Q_(e){this._context=e}function eS(e){this._context=e}function tS(e){this._context=e}Q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eS.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},tS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class nS{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function rS(e){this._context=e}function iS(e){this._context=e}function aS(e){return new iS(e)}function oS(e){return e<0?-1:1}function sS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(oS(a)+oS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function lS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function uS(e){this._context=e}function dS(e){this._context=new hS(e)}function hS(e){this._context=e}function pS(e){this._context=e}function mS(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fS(e,t){this._context=e,this._t=t}function gS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}rS.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},uS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cS(this,this._t0,lS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cS(this,lS(this,n=sS(this,e,t)),n);break;default:cS(this,this._t0,n=sS(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dS.prototype=Object.create(uS.prototype)).point=function(e,t){uS.prototype.point.call(this,t,e)},hS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},pS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=mS(e),i=mS(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const vS=Math.PI,yS=2*vS,xS=1e-6,bS=yS-xS;function wS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class _S{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?wS:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return wS;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(D_||(D_=gS(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(I_||(I_=gS(["Z"]))))}lineTo(e,t){this._append(F_||(F_=gS(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(U_||(U_=gS(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(z_||(z_=gS(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(B_||(B_=gS(["M",",",""])),this._x1=e,this._y1=t);else if(d>xS)if(Math.abs(u*s-l*c)>xS&&i){let h=n-a,p=r-o,m=s*s+l*l,f=h*h+p*p,g=Math.sqrt(m),v=Math.sqrt(d),y=i*Math.tan((vS-Math.acos((m+d-f)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>xS&&this._append(H_||(H_=gS(["L",",",""])),e+x*c,t+x*u),this._append(W_||(W_=gS(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*p),this._x1=e+b*s,this._y1=t+b*l)}else this._append(V_||(V_=gS(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(G_||(G_=gS(["M",",",""])),l,c):(Math.abs(this._x1-l)>xS||Math.abs(this._y1-c)>xS)&&this._append(q_||(q_=gS(["L",",",""])),l,c),n&&(d<0&&(d=d%yS+yS),d>bS?this._append(K_||(K_=gS(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>xS&&this._append(X_||(X_=gS(["A",",",",0,",",",",",",",""])),n,n,+(d>=vS),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(Y_||(Y_=gS(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function SS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new _S(t)}function ES(e){return e[0]}function MS(e){return e[1]}function NS(e,t){var n=Fo(!0),r=null,i=aS,a=null,o=SS(s);function s(s){var l,c,u,d=(s=Io(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?ES:Fo(e),t="function"===typeof t?t:void 0===t?MS:Fo(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Fo(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Fo(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Fo(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function jS(e,t,n){var r=null,i=Fo(!0),a=null,o=aS,s=null,l=SS(c);function c(c){var u,d,h,p,m,f=(c=Io(c)).length,g=!1,v=new Array(f),y=new Array(f);for(null==a&&(s=o(m=l())),u=0;u<=f;++u){if(!(u<f&&i(p=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(p,u,c),y[u]=+t(p,u,c),s.point(r?+r(p,u,c):v[u],n?+n(p,u,c):y[u]))}if(m)return s=null,m+""||null}function u(){return NS().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?ES:Fo(+e),t="function"===typeof t?t:Fo(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?MS:Fo(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Fo(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Fo(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Fo(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Fo(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Fo(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Fo(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Fo(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(n),!0).forEach(function(t){kS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PS={curveBasisClosed:function(e){return new eS(e)},curveBasisOpen:function(e){return new tS(e)},curveBasis:function(e){return new Q_(e)},curveBumpX:function(e){return new nS(e,!0)},curveBumpY:function(e){return new nS(e,!1)},curveLinearClosed:function(e){return new rS(e)},curveLinear:aS,curveMonotoneX:function(e){return new uS(e)},curveMonotoneY:function(e){return new dS(e)},curveNatural:function(e){return new pS(e)},curveStep:function(e){return new fS(e,.5)},curveStepAfter:function(e){return new fS(e,1)},curveStepBefore:function(e){return new fS(e,0)}},RS=e=>rp(e.x)&&rp(e.y),OS=e=>e.x,LS=e=>e.y,DS=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Ln(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?PS[n]||aS:PS["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(RS):r;if(Array.isArray(i)){var c=o?i.filter(e=>RS(e)):i,u=l.map((e,t)=>CS(CS({},e),{},{base:c[t]}));return(t="vertical"===a?jS().y(LS).x1(OS).x0(e=>e.base.x):jS().x(OS).y1(LS).y0(e=>e.base.y)).defined(RS).curve(s),t(u)}return(t="vertical"===a&&Nn(i)?jS().y(LS).x1(OS).x0(i):Nn(i)?jS().x(OS).y1(LS).y0(i):NS().x(OS).y(LS)).defined(RS).curve(s),t(l)},IS=e=>{var{className:n,points:r,path:i,pathRef:a}=e;if((!r||!r.length)&&!i)return null;var o=r&&r.length?DS(e):i;return t.createElement("path",TS({},sx(e),rx(e),{className:yn("recharts-curve",n),d:null===o?void 0:o,ref:a}))},FS=["x","y","top","left","width","height","className"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},US.apply(null,arguments)}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VS=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),HS=e=>{var{x:n=0,y:r=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,FS),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(t){BS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:a,width:o,height:s},c);return Nn(n)&&Nn(r)&&Nn(o)&&Nn(s)&&Nn(i)&&Nn(a)?t.createElement("path",US({},mx(u,!0),{className:yn("recharts-cross",l),d:VS(n,r,o,s,i,a)})):null};function WS(){}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(t){KS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XS=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),YS=(e,t)=>Object.keys(t).reduce((n,r)=>qS(qS({},n),{},{[r]:e(r,t[r])}),{});function JS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JS(Object(n),!0).forEach(function(t){$S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QS=(e,t,n)=>e+(t-e)*n,eE=e=>{var{from:t,to:n}=e;return t!==n},tE=(e,t,n)=>{var r=YS((t,n)=>{if(eE(n)){var[r,i]=e(n.from,n.to,n.velocity);return ZS(ZS({},n),{},{from:r,velocity:i})}return n},t);return n<1?YS((e,t)=>eE(t)?ZS(ZS({},t),{},{velocity:QS(t.velocity,r[e].velocity,n),from:QS(t.from,r[e].from,n)}):t,t):tE(e,r,n-1)};function nE(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>ZS(ZS({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=tE(n,s,u),i(ZS(ZS(ZS({},e),t),YS((e,t)=>t.from,s))),o=r,Object.values(s).filter(eE).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const rE=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?nE(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>ZS(ZS({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=YS((e,t)=>QS(...t,n(d)),c);if(a(ZS(ZS(ZS({},e),t),h)),d<1)l=o.setTimeout(u);else{var p=YS((e,t)=>QS(...t,n(1)),c);a(ZS(ZS(ZS({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};var iE=1e-4,aE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],oE=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),sE=(e,t)=>n=>{var r=aE(e,t);return oE(r,n)},lE=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=sE(e,t),d=sE(n,r),h=(l=e,c=t,e=>{var t=[...aE(l,c).map((e,t)=>e*t).slice(1),0];return oE(t,e)}),p=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<iE||a<iE)return d(n);n=p(n-i/a)}return d(n)};return m.isStepper=!1,m},cE=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lE(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<iE&&Math.abs(o)<iE?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return lE(e)}return"function"===typeof e?e:null};class uE{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function dE(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new uE)}var hE=(0,t.createContext)(dE);var pE={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mE={t:0},fE={t:1};function gE(e){var n=Zx(e,pE),{isActive:r,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=function(e,n){var r=(0,t.useContext)(hE);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}(n.animationId,n.animationManager),[h,p]=(0,t.useState)(r?mE:fE),m=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||p(fE)},[r]),(0,t.useEffect)(()=>{if(!r||!i)return WS;var e=rE(mE,fE,cE(o),a,p,d.getTimeoutController());return d.start([c,s,()=>{m.current=e()},a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,i,a,o,s,c,l,d]),u(h.t)}function vE(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(An(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=An(n),i.current=e),r.current}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(t){bE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(null,arguments)}var _E=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},SE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EE=e=>{var n=Zx(e,SE),r=(0,t.useRef)(null),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:p,animationBegin:m,isAnimationActive:f,isUpdateAnimationActive:g}=n,v=(0,t.useRef)(l),y=(0,t.useRef)(c),x=(0,t.useRef)(o),b=(0,t.useRef)(s),w=vE((0,t.useMemo)(()=>({x:o,y:s,width:l,height:c,radius:u}),[o,s,l,c,u]),"rectangle-");if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var _=yn("recharts-rectangle",d);if(!g)return t.createElement("path",wE({},mx(n,!0),{className:_,d:_E(o,s,l,c,u)}));var S=v.current,E=y.current,M=x.current,N=b.current,j="0px ".concat(-1===i?1:i,"px"),T="".concat(i,"px 0px"),A=XS(["strokeDasharray"],p,"string"===typeof h?h:void 0);return t.createElement(gE,{animationId:w,key:w,canBegin:i>0,duration:p,easing:h,isActive:g,begin:m},e=>{var i,a=Pn(S,l,e),d=Pn(E,c,e),h=Pn(M,o,e),p=Pn(N,s,e);return r.current&&(v.current=a,y.current=d,x.current=h,b.current=p),i=f?e>0?{transition:A,strokeDasharray:T}:{strokeDasharray:j}:{strokeDasharray:T},t.createElement("path",wE({},mx(n,!0),{className:_,d:_E(h,p,a,d,u),ref:r,style:xE(xE({},i),n.style)}))})};function ME(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Xo(t,n,r,i),Xo(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NE.apply(null,arguments)}var jE=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/Go,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Xo(t,n,c,d),circleTangency:Xo(t,n,r,d),lineTangency:Xo(t,n,c*Math.cos(u*Go),h),theta:u}},TE=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>Sn(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Xo(t,n,i,a),u=Xo(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Xo(t,n,r,a),p=Xo(t,n,r,l);d+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},AE={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CE=e=>{var n=Zx(e,AE),{cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<a||u===d)return null;var p,m=yn("recharts-sector",h),f=o-a,g=Cn(s,f,0,!0);return p=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Sn(c-l),{circleTangency:d,lineTangency:h,theta:p}=jE({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:f,theta:g}=jE({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-p-g;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):TE({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=jE({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:S,theta:E}=jE({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),M=s?Math.abs(l-c):Math.abs(l-c)-w-E;if(M<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):TE({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",NE({},mx(n,!0),{className:m,d:p}))};function kE(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ME(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Xo(s,l,c,d),p=Xo(s,l,u,d);r=h.x,i=h.y,a=p.x,o=p.y}return[{x:r,y:i},{x:a,y:o}]}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(t){OE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LE=()=>{var e=ko(rm),t=ko(tv),n=ko($g);return gs(RE(RE({},e),{},{scale:n}),t)};function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(null,arguments)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(t){UE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zE(e){var n,r,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,p=i,m=a,f=o;if(!u||!p||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=p,r=HS;else if("BarChart"===h)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,p,s,l),r=EE;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=ME(p);n={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},r=CE}else n={points:kE(c,p,s)},r=IS;var w="object"===typeof u&&"className"in u?u.className:void 0,_=FE(FE(FE(FE({stroke:"#ccc",pointerEvents:"none"},s),n),mx(u,!1)),{},{payload:m,payloadIndex:f,className:yn("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,_):(0,t.createElement)(r,_)}function BE(e){var n=LE(),r=Us(),i=Hs(),a=ko(Cp);return t.createElement(zE,DE({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:i,tooltipAxisBandSize:n,chartName:a}))}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(t){WE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GE(e){return e.dataKey}var qE=[],KE={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gy,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function XE(e){var n=Zx(e,KE),{active:r,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:p,useTranslate3d:m,wrapperStyle:f,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:b,axisId:w}=n,_=jo(),S="number"===typeof x?String(x):x;(0,t.useEffect)(()=>{_(Ka({shared:v,trigger:y,axisId:w,active:r,defaultIndex:S}))},[_,v,y,w,r,S]);var E=Is(),M=Zy(),N=function(e){return ko(t=>cg(t,e))}(v),{activeIndex:j,isActive:T}=ko(e=>Nv(e,N,y,S)),A=ko(e=>Mv(e,N,y,S)),C=ko(e=>Ev(e,N,y,S)),k=ko(e=>Sv(e,N,y,S)),P=A,R=(0,t.useContext)(Dx),O=null!==r&&void 0!==r?r:T,[L,D]=J_([P,O]),I="axis"===N?C:void 0;Lx(N,y,k,I,j,O);var F=null!==b&&void 0!==b?b:R;if(null==F)return null;var U=null!==P&&void 0!==P?P:qE;O||(U=qE),l&&U.length&&(U=L_(P.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,GE));var z=U.length>0,B=t.createElement(P_,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:O,coordinate:k,hasPayload:z,offset:u,position:h,reverseDirection:p,useTranslate3d:m,viewBox:E,wrapperStyle:f,lastBoundingBox:L,innerRef:D,hasPortalFromProps:Boolean(b)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(E_,n)}(s,HE(HE({},n),{},{payload:U,label:I,active:O,coordinate:k,accessibilityLayer:M})));return t.createElement(t.Fragment,null,(0,y_.createPortal)(B,F),O&&t.createElement(BE,{cursor:g,tooltipEventType:N,coordinate:k,payload:P,index:j}))}Math.abs,Math.atan2;const YE=Math.cos,JE=(Math.max,Math.min,Math.sin),ZE=Math.sqrt,$E=Math.PI,QE=2*$E;const eM={draw(e,t){const n=ZE(t/$E);e.moveTo(n,0),e.arc(0,0,n,0,QE)}},tM={draw(e,t){const n=ZE(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nM=ZE(1/3),rM=2*nM,iM={draw(e,t){const n=ZE(t/rM),r=n*nM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},aM={draw(e,t){const n=ZE(t),r=-n/2;e.rect(r,r,n,n)}},oM=JE($E/10)/JE(7*$E/10),sM=JE(QE/10)*oM,lM=-YE(QE/10)*oM,cM={draw(e,t){const n=ZE(.8908130915292852*t),r=sM*n,i=lM*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=QE*a/5,o=YE(t),s=JE(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},uM=ZE(3),dM={draw(e,t){const n=-ZE(t/(3*uM));e.moveTo(0,2*n),e.lineTo(-uM*n,-n),e.lineTo(uM*n,-n),e.closePath()}},hM=-.5,pM=ZE(3)/2,mM=1/ZE(12),fM=3*(mM/2+1),gM={draw(e,t){const n=ZE(t/fM),r=n/2,i=n*mM,a=r,o=n*mM+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(hM*r-pM*i,pM*r+hM*i),e.lineTo(hM*a-pM*o,pM*a+hM*o),e.lineTo(hM*s-pM*l,pM*s+hM*l),e.lineTo(hM*r+pM*i,hM*i-pM*r),e.lineTo(hM*a+pM*o,hM*o-pM*a),e.lineTo(hM*s+pM*l,hM*l-pM*s),e.closePath()}};ZE(3),ZE(3);var vM=["type","size","sizeType"];function yM(){return yM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yM.apply(null,arguments)}function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(t){wM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _M={symbolCircle:eM,symbolCross:tM,symbolDiamond:iM,symbolSquare:aM,symbolStar:cM,symbolTriangle:dM,symbolWye:gM},SM=Math.PI/180,EM=e=>{var{type:n="circle",size:r=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vM),o=bM(bM({},a),{},{type:n,size:r,sizeType:i}),s="circle";"string"===typeof n&&(s=n);var{className:l,cx:c,cy:u}=o,d=mx(o,!0);return c===+c&&u===+u&&r===+r?t.createElement("path",yM({},d,{className:yn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Ln(e));return _M[t]||eM})(s),t=function(e,t){let n=null,r=SS(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Fo(e||eM),t="function"===typeof t?t:Fo(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Fo(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Fo(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*SM;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,i,s));return t()})()})):null};function MM(){return MM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MM.apply(null,arguments)}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}EM.registerSymbol=(e,t)=>{_M["symbol".concat(Ln(e))]=t};var TM=32;class AM extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=16,a=TM/6,o=TM/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:TM,y2:i,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,"\n            H").concat(TM,"M").concat(2*o,",").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(TM,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(t){jM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(EM,{fill:s,cx:i,cy:i,size:TM,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:TM,height:TM},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||i,d=yn({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,p=u?u(e.value,e,r):e.value;return t.createElement("li",MM({className:d,style:l,key:"legend-item-".concat(r)},ix(this.props,e,r)),t.createElement(vx,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(p," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},p))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}jM(AM,"displayName","Legend"),jM(AM,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var CM=["contextPayload"];function kM(){return kM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kM.apply(null,arguments)}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(t){OM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e){return e.value}function DM(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CM),i=L_(n,e.payloadUniqBy,LM),a=RM(RM({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"===typeof e.content?t.createElement(e.content,a):t.createElement(AM,a)}function IM(e){var n=jo();return(0,t.useEffect)(()=>{n(py(e))},[n,e]),null}function FM(e){var n=jo();return(0,t.useEffect)(()=>(n(hy(e)),()=>{n(hy({width:0,height:0}))}),[n,e]),null}function UM(e){var n=ko(Lo),r=(0,t.useContext)(Ix),i=ko(e=>e.layout.margin),{width:a,height:o,wrapperStyle:s,portal:l}=e,[c,u]=J_([n]),d=zs(),h=Bs();if(null==d||null==h)return null;var p=d-(i.left||0)-(i.right||0),m=zM.getWidthOrHeight(e.layout,o,a,p),f=l?s:RM(RM({position:"absolute",width:(null===m||void 0===m?void 0:m.width)||a||"auto",height:(null===m||void 0===m?void 0:m.height)||o||"auto"},function(e,t,n,r,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),RM(RM({},o),s)}(s,e,i,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:u},t.createElement(IM,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(FM,{width:c.width,height:c.height}),t.createElement(DM,kM({},e,m,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,y_.createPortal)(v,g)}class zM extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Nn(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(UM,this.props)}}OM(zM,"displayName","Legend"),OM(zM,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var BM=e=>null;BM.displayName="Cell";var VM=n(356),HM=n.n(VM),WM=["valueAccessor"],GM=["dataKey","clockWise","id","textBreakAll"];function qM(){return qM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qM.apply(null,arguments)}function KM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var XM=e=>Array.isArray(e.value)?HM()(e.value):e.value,YM=(0,t.createContext)(void 0),JM=YM.Provider,ZM=(0,t.createContext)(void 0),$M=ZM.Provider;function QM(e){var{valueAccessor:n=XM}=e,r=KM(e,WM),{dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,l=KM(r,GM),c=(0,t.useContext)(YM),u=(0,t.useContext)(ZM),d=c||u;return d&&d.length?t.createElement(Nb,{className:"recharts-label-list"},d.map((e,a)=>{var c,u=On(i)?n(e,a):is(e&&e.payload,i),d=On(o)?{}:{id:"".concat(o,"-").concat(a)};return t.createElement(uw,qM({},mx(e,!0),l,d,{fill:null!==(c=r.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,key:"label-".concat(a),index:a}))})):null}function eN(e){var{label:n}=e;return n?!0===n?t.createElement(QM,{key:"labelList-implicit"}):t.isValidElement(n)||ow(n)?t.createElement(QM,{key:"labelList-implicit",content:n}):"object"===typeof n?t.createElement(QM,qM({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}QM.displayName="LabelList";var tN="Invariant failed";var nN=n(9397),rN=n.n(nN);function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(t){oN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(null,arguments)}var lN=(e,t,n,r,i)=>{var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},cN={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uN=e=>{var n=Zx(e,cN),{x:r,y:i,upperWidth:a,lowerWidth:o,height:s,className:l}=n,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=n,p=(0,t.useRef)(),[m,f]=(0,t.useState)(-1),g=(0,t.useRef)(a),v=(0,t.useRef)(o),y=(0,t.useRef)(s),x=(0,t.useRef)(r),b=(0,t.useRef)(i),w=vE(e,"trapezoid-");if((0,t.useEffect)(()=>{if(p.current&&p.current.getTotalLength)try{var e=p.current.getTotalLength();e&&f(e)}catch(t){}},[]),r!==+r||i!==+i||a!==+a||o!==+o||s!==+s||0===a&&0===o||0===s)return null;var _=yn("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",sN({},mx(n,!0),{className:_,d:lN(r,i,a,o,s)})));var S=g.current,E=v.current,M=y.current,N=x.current,j=b.current,T="0px ".concat(-1===m?1:m,"px"),A="".concat(m,"px 0px"),C=XS(["strokeDasharray"],u,c);return t.createElement(gE,{animationId:w,key:w,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=Pn(S,a,e),c=Pn(E,o,e),u=Pn(M,s,e),d=Pn(N,r,e),h=Pn(j,i,e);p.current&&(g.current=l,v.current=c,y.current=u,x.current=d,b.current=h);var m=e>0?{transition:C,strokeDasharray:A}:{strokeDasharray:T};return t.createElement("path",sN({},mx(n,!0),{className:_,d:lN(d,h,l,c,u),ref:p,style:aN(aN({},m),n.style)}))})},dN=["option","shapeType","propTransformer","activeClassName","isActive"];function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(t){mN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fN(e,t){return pN(pN({},t),e)}function gN(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(EE,r);case"trapezoid":return t.createElement(uN,r);case"sector":return t.createElement(CE,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(EM,r);break;default:return null}}function vN(e){var n,{option:r,shapeType:i,propTransformer:a=fN,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dN);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,pN(pN({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(rN()(r)&&"boolean"!==typeof r){var c=a(r,l);n=t.createElement(gN,{shapeType:i,elementProps:c})}else{var u=l;n=t.createElement(gN,{shapeType:i,elementProps:u})}return s?t.createElement(Nb,{className:o},n):n}var yN=["x","y"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(null,arguments)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(t){_N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SN(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yN),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return wN(wN(wN(wN(wN({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function EN(e){return t.createElement(vN,xN({shapeType:"rectangle",propTransformer:SN,activeClassName:"recharts-active-bar"},e))}var MN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Nn(e))return e;var i=Nn(n)||On(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(tN)}(!1),t)}},NN=(e,t)=>{var n=jo();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Xa({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},jN=e=>{var t=jo();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(Ya())}},TN=(e,t)=>{var n=jo();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Za({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function AN(e){var{fn:n,args:r}=e,i=jo(),a=Os();return(0,t.useEffect)(()=>{if(!a){var e=n(r);return i(Ga(e)),()=>{i(qa(e))}}},[n,r,i,a]),null}var CN=["children"];var kN={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PN=(0,t.createContext)(kN);function RN(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CN);return t.createElement(PN.Provider,{value:r},n)}function ON(e,t){var n,r,i=ko(t=>pm(t,e)),a=ko(e=>gm(e,t)),o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:dm.allowDataOverflow,s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:mm.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function LN(e){var{xAxisId:n,yAxisId:r,clipPathId:i}=e,a=Wx(),{needClipX:o,needClipY:s,needClip:l}=ON(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(t){FN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UN=_o([Sm,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),zN=_o([UN],e=>null===e||void 0===e?void 0:e.maxBarSize),BN=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!On(r))return Cn(r,t,0)},VN=_o([Vs,Sm,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),HN=_o([VN,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Vs(e)?Kf(e,"xAxis",t):Kf(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(om),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),o=Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:BN(t,n,i[0].barSize)}});return[...o,...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:BN(t,n,e.barSize)}))]}),WN=(e,t,n,r)=>{var i,a;return"horizontal"===Vs(e)?(i=rg(e,"xAxis",t,r),a=ng(e,"xAxis",t,r)):(i=rg(e,"yAxis",n,r),a=ng(e,"yAxis",n,r)),gs(i,a)};var GN,qN=_o([HN,jp,e=>e.rootProps.barGap,Tp,(e,t,n,r,i)=>{var a,o,s=UN(e,t,n,r,i);if(null!=s){var l,c,u=Vs(e),d=jp(e),{maxBarSize:h}=s,p=On(h)?d:h;return"horizontal"===u?(l=rg(e,"xAxis",t,r),c=ng(e,"xAxis",t,r)):(l=rg(e,"yAxis",n,r),c=ng(e,"yAxis",n,r)),null!==(a=null!==(o=gs(l,c,!0))&&void 0!==o?o:p)&&void 0!==a?a:0}},WN,zN],(e,t,n,r,i,a,o)=>{var s=On(o)?t:o,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var o,s=Cn(e,n,0,!0),l=[];if(rp(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*s)>=n&&(d-=(a-1)*s,s=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-s,size:0};o=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var p=Cn(t,n,0,!0);n-2*p-(a-1)*s<=0&&(s=0);var m=(n-2*p-(a-1)*s)/a;m>1&&(m>>=0);var f=rp(i)?Math.min(m,i):m;o=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p+(m+s)*n+(m-f)/2,size:f}}],l)}return o}}(n,r,i!==a?i:a,e,s);return i!==a&&null!=l&&(l=l.map(e=>IN(IN({},e),{},{position:IN(IN({},e.position),{},{offset:e.position.offset-i/2})}))),l}),KN=_o([qN,UN],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),XN=_o([(e,t,n,r)=>"horizontal"===Vs(e)?Bm(e,"yAxis",n,r):Bm(e,"xAxis",t,r),UN],(e,t)=>{var n=em(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),YN=_o([Cs,Ps,(e,t,n,r)=>rg(e,"xAxis",t,r),(e,t,n,r)=>rg(e,"yAxis",n,r),(e,t,n,r)=>ng(e,"xAxis",t,r),(e,t,n,r)=>ng(e,"yAxis",n,r),KN,Vs,np,WN,XN,UN,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:f}=l;if(null!=d&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===p||void 0===p?void 0:p.slice(m,f+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:p,parentViewBox:m}=e,f="horizontal"===t?s:o,g=u?f.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:f});return d.map((e,d)=>{var f,y,x,b,w,_;u?f=((e,t)=>{if(!t||2!==t.length||!Nn(t[0])||!Nn(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Nn(e[0])||e[0]<n)&&(i[0]=n),(!Nn(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(f=is(e,n),Array.isArray(f)||(f=[v,f]));var S=MN(r,_j)(f[1],d);if("horizontal"===t){var E,[M,N]=[s.scale(f[0]),s.scale(f[1])];y=hs({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),x=null!==(E=null!==N&&void 0!==N?N:M)&&void 0!==E?E:void 0,b=i.size;var j=M-N;if(w=En(j)?0:j,_={x:y,y:h.top,width:b,height:h.height},Math.abs(S)>0&&Math.abs(w)<Math.abs(S)){var T=Sn(w||S)*(Math.abs(S)-Math.abs(w));x-=T,w+=T}}else{var[A,C]=[o.scale(f[0]),o.scale(f[1])];if(y=A,x=hs({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),b=C-A,w=i.size,_={x:h.left,y:x,width:h.width,height:w},Math.abs(S)>0&&Math.abs(b)<Math.abs(S))b+=Sn(b||S)*(Math.abs(S)-Math.abs(b))}return null==y||null==x||null==b||null==w?null:uj(uj({},e),{},{x:y,y:x,width:b,height:w,value:u?f:f[1],payload:e,background:_,tooltipPosition:{x:y+b/2,y:x+w/2},parentViewBox:m},p&&p[d]&&p[d].props)}).filter(Boolean)}({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:h})}}),JN=()=>{};function ZN(e){var{legendPayload:n}=e,r=jo(),i=Os();return(0,t.useEffect)(()=>i?JN:(r(my(n)),()=>{r(fy(n))}),[r,i,n]),null}function $N(e){var{legendPayload:n}=e,r=jo(),i=ko(Vs);return(0,t.useEffect)(()=>"centric"!==i&&"radial"!==i?JN:(r(my(n)),()=>{r(fy(n))}),[r,i,n]),null}var QN=null!==(GN=r["useId".toString()])&&void 0!==GN?GN:()=>{var[e]=t.useState(()=>An("uid-"));return e};var ej=(0,t.createContext)(void 0),tj=e=>{var{id:n,type:r,children:i}=e,a=function(e,t){var n=QN();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(ej.Provider,{value:a},i(a))};function nj(e){var n=jo(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(Kv(e)):r.current!==e&&n(Xv({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(Yv(r.current)),r.current=null)},[n]),null}function rj(e){var n=jo();return(0,t.useEffect)(()=>(n(Jv(e)),()=>{n(Zv(e))}),[n,e]),null}var ij=["onMouseEnter","onMouseLeave","onClick"],aj=["value","background","tooltipPosition"],oj=["id"],sj=["onMouseEnter","onClick","onMouseLeave"];function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lj.apply(null,arguments)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(t){dj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pj=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:ys(n,t),payload:e}]};function mj(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:ys(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function fj(e){var n=ko(ov),{data:r,dataKey:i,background:a,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=hj(o,ij),d=NN(s,i),h=jN(l),p=TN(c,i);if(!a||null==r)return null;var m=mx(a,!1);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:o,background:s,tooltipPosition:l}=e,c=hj(e,aj);if(!s)return null;var f=d(e,r),g=h(e,r),v=p(e,r),y=uj(uj(uj(uj(uj({option:a,isActive:String(r)===n},c),{},{fill:"#eee"},s),m),ix(u,e,r)),{},{onMouseEnter:f,onMouseLeave:g,onClick:v,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(EN,lj({key:"background-bar-".concat(y.index)},y))}))}function gj(e){var{showLabels:n,children:r,rects:i}=e,a=null===i||void 0===i?void 0:i.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return uj(uj({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(JM,{value:n?a:void 0},r)}function vj(e){var{shape:n,activeBar:r,baseProps:i,entry:a,index:o,dataKey:s}=e,l=ko(ov),c=ko(lv),u=r&&String(o)===l&&(null==c||s===c),d=u?r:n;return t.createElement(EN,lj({},i,a,{isActive:u,option:d,index:o,dataKey:s}))}function yj(e){var{shape:n,baseProps:r,entry:i,index:a,dataKey:o}=e;return t.createElement(EN,lj({},r,i,{isActive:!1,option:n,index:a,dataKey:o}))}function xj(e){var{data:n,props:r}=e,i=sx(r),{id:a}=i,o=hj(i,oj),{shape:s,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:h}=r,p=hj(r,sj),m=NN(u,l),f=jN(h),g=TN(d,l);return n?t.createElement(t.Fragment,null,n.map((e,n)=>t.createElement(Nb,lj({className:"recharts-bar-rectangle"},ix(p,e,n),{onMouseEnter:m(e,n),onMouseLeave:f(e,n),onClick:g(e,n),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),c?t.createElement(vj,{shape:s,activeBar:c,baseProps:o,entry:e,index:n,dataKey:l}):t.createElement(yj,{shape:s,baseProps:o,entry:e,index:n,dataKey:l})))):null}function bj(e){var{props:n,previousRectanglesRef:r}=e,{data:i,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,p=vE(n,"recharts-bar-"),[m,f]=(0,t.useState)(!1),g=!m,v=(0,t.useCallback)(()=>{"function"===typeof u&&u(),f(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),f(!0)},[d]);return t.createElement(gj,{showLabels:g,rects:i},t.createElement(gE,{animationId:p,begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:v,onAnimationStart:y,key:p},e=>{var o=1===e?i:null===i||void 0===i?void 0:i.map((t,n)=>{var r=h&&h[n];if(r)return uj(uj({},t),{},{x:Pn(r.x,t.x,e),y:Pn(r.y,t.y,e),width:Pn(r.width,t.width,e),height:Pn(r.height,t.height,e)});if("horizontal"===a){var i=Pn(0,t.height,e);return uj(uj({},t),{},{y:t.y+t.height-i,height:i})}var o=Pn(0,t.width,e);return uj(uj({},t),{},{width:o})});return e>0&&(r.current=null!==o&&void 0!==o?o:null),null==o?null:t.createElement(Nb,null,t.createElement(xj,{props:n,data:o}))}),t.createElement(eN,{label:n.label}),n.children)}function wj(e){var n=(0,t.useRef)(null);return t.createElement(bj,{previousRectanglesRef:n,props:e})}var _j=0,Sj=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:is(e,t)}};class Ej extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e||null==n)return null;var u=yn("recharts-bar",i),d=c;return t.createElement(Nb,{className:u,id:c},s&&t.createElement("defs",null,t.createElement(LN,{clipPathId:d,xAxisId:a,yAxisId:o})),t.createElement(Nb,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},t.createElement(fj,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(wj,this.props)))}}var Mj={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Gy,legendType:"rect",minPointSize:_j,xAxisId:0,yAxisId:0};function Nj(e){var n,{xAxisId:r,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:p}=ON(r,i),m=Hs(),f=Os(),g=hx(e.children,BM),v=ko(t=>YN(t,r,i,f,e.id,g));if("vertical"!==m&&"horizontal"!==m)return null;var y=null===v||void 0===v?void 0:v[0];return n=null==y||null==y.height||null==y.width?0:"vertical"===m?y.height/2:y.width/2,t.createElement(RN,{xAxisId:r,yAxisId:i,data:v,dataPointFormatter:Sj,errorBarOffset:n},t.createElement(Ej,lj({},e,{layout:m,needClip:p,data:v,xAxisId:r,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function jj(e){var n=Zx(e,Mj),r=Os();return t.createElement(tj,{id:n.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(ZN,{legendPayload:pj(n)}),t.createElement(AN,{fn:mj,args:n}),t.createElement(nj,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:(i=n.stackId,null==i?void 0:String(i)),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(Nj,lj({},n,{id:e})));var i})}var Tj=t.memo(jj);function Aj(e){var n=jo();return(0,t.useEffect)(()=>{n(Ty(e))},[n,e]),null}Tj.displayName="Bar";var Cj=["width","height","layout"];function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(null,arguments)}var Pj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Rj=(0,t.forwardRef)(function(e,n){var r,i=Zx(e.categoricalChartProps,Pj),{width:a,height:o,layout:s}=i,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,Cj);if(!ip(a)||!ip(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(Ky,{preloadedState:{options:p},reduxStoreName:null!==(r=i.id)&&void 0!==r?r:c},t.createElement(Xy,{chartData:i.data}),t.createElement(Yy,{width:a,height:o,layout:s,margin:i.margin}),t.createElement(Jy,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(Aj,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),t.createElement(Xx,kj({width:a,height:o},l,{ref:n})))}),Oj=["item"],Lj={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dj=(0,t.forwardRef)((e,n)=>{var r=Zx(e,Lj);return t.createElement(Rj,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Oj,tooltipPayloadSearcher:zi,categoricalChartProps:r,ref:n})}),Ij=e=>e.graphicalItems.polarItems,Fj=_o([$p,Qp],_m),Uj=_o([Ij,xm,Fj],Mm),zj=_o([Uj],Cm),Bj=_o([zj,tp],Pm),Vj=_o([Bj,xm,Uj],Om),Hj=_o([Bj,xm,Uj],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:is(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:is(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),Wj=()=>{},Gj=_o([xm,pf,Wj,Hj,Wj,Vs,$p],mf),qj=_o([xm,Vs,Bj,Vj,Ap,$p,Gj],vf),Kj=_o([qj,xm,bf],_f),Xj=_o([xm,qj,Kj,$p],Ef);function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(t){Zj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $j=_o([Ij,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),Qj=[],eT=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?Qj:n,tT=_o([tp,$j,eT],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>Jj(Jj({},t.presentationProps),e.props))),null!=r))return r}),nT=_o([tT,$j,eT],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,a,o=is(e,t.nameKey,t.name);return a=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ys(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),rT=_o([tT,$j,eT,Cs],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:p}=i,m=Math.abs(i.minAngle),f=fT(c,u),g=Math.abs(f),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==is(e,d,0)).length,x=g-y*m-(g>=360?y:y-1)*v,b=a.reduce((e,t)=>{var n=is(t,d,0);return e+(Nn(n)?n:0)},0);b>0&&(n=a.map((e,t)=>{var n,a=is(e,d,0),u=is(e,h,t),g=mT(i,s,e),y=(Nn(a)?a:0)/b,w=cT(cT({},e),o&&o[t]&&o[t].props),_=(n=t?r.endAngle+Sn(f)*v*(0!==a?1:0):c)+Sn(f)*((0!==a?m:0)+y*x),S=(n+_)/2,E=(g.innerRadius+g.outerRadius)/2,M=[{name:u,value:a,payload:w,dataKey:d,type:p}],N=Xo(g.cx,g.cy,E,S);return r=cT(cT(cT(cT({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:M,midAngle:S,middleRadius:E,tooltipPosition:N},w),g),{},{value:a,startAngle:n,endAngle:_,payload:w,paddingAngle:Sn(f)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),iT=["onMouseEnter","onClick","onMouseLeave"],aT=["id"],oT=["id"];function sT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(t){uT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dT(){return dT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dT.apply(null,arguments)}function hT(e){var n=(0,t.useMemo)(()=>hx(e.children,BM),[e.children]),r=ko(t=>nT(t,e.id,n));return null==r?null:t.createElement($N,{legendPayload:r})}function pT(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:ys(s,t),hide:l,type:c,color:o,unit:""}}}var mT=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,s=Yo(a,o),l=i+Cn(e.cx,a,a/2),c=r+Cn(e.cy,o,o/2),u=Cn(e.innerRadius,s,0),d=((e,t,n)=>Cn("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},fT=(e,t)=>Sn(t-e)*Math.min(Math.abs(t-e),360);function gT(e){var{sectors:n,props:r,showLabels:i}=e,{label:a,labelLine:o,dataKey:s}=r;if(!i||!a||!n)return null;var l=sx(r),c=mx(a,!1),u=mx(o,!1),d="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=n.map((e,n)=>{var r,i,h=(e.startAngle+e.endAngle)/2,p=Xo(e.cx,e.cy,e.outerRadius+d,h),m=cT(cT(cT(cT({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:(r=p.x,i=e.cx,r>i?"start":r<i?"end":"middle")},p),f=cT(cT(cT(cT({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[Xo(e.cx,e.cy,e.outerRadius,h),p],key:"line"});return t.createElement(Nb,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},o&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=yn("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(IS,dT({},n,{type:"linear",className:r}))})(o,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var i=r;if("function"===typeof e&&(i=e(n),t.isValidElement(i)))return i;var a,o=yn("recharts-pie-label-text",(a=e)&&"object"===typeof a&&"className"in a&&"string"===typeof a.className?a.className:"");return t.createElement(Xb,dT({},n,{alignmentBaseline:"middle",className:o}),i)})(a,m,is(e,s)))});return t.createElement(Nb,{className:"recharts-pie-labels"},h)}function vT(e){var{sectors:n,props:r,showLabels:i}=e,{label:a}=r;return"object"===typeof a&&null!=a&&"position"in a?t.createElement(eN,{label:a}):t.createElement(gT,{sectors:n,props:r,showLabels:i})}function yT(e){var{sectors:n,activeShape:r,inactiveShape:i,allOtherPieProps:a}=e,o=ko(ov),{onMouseEnter:s,onClick:l,onMouseLeave:c}=a,u=sT(a,iT),d=NN(s,a.dataKey),h=jN(c),p=TN(l,a.dataKey);return null==n||0===n.length?null:t.createElement(t.Fragment,null,n.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(s)===o,c=l?r:o?i:null,m=cT(cT({},e),{},{stroke:e.stroke,tabIndex:-1,[Ms]:s,[Ns]:a.dataKey});return t.createElement(Nb,dT({tabIndex:-1,className:"recharts-pie-sector"},ix(u,e,s),{onMouseEnter:d(e,s),onMouseLeave:h(e,s),onClick:p(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),t.createElement(vN,dT({option:c,isActive:l,shapeType:"sector"},m)))}))}function xT(e){var{showLabels:n,sectors:r,children:i}=e,a=(0,t.useMemo)(()=>n&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,n]);return t.createElement($M,{value:n?a:void 0},i)}function bT(e){var{props:n,previousSectorsRef:r}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,p=vE(n,"recharts-pie-"),m=r.current,[f,g]=(0,t.useState)(!1),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(xT,{showLabels:!f,sectors:i},t.createElement(gE,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:v,key:p},e=>{var a=[],o=i&&i[0],s=null===o||void 0===o?void 0:o.startAngle;return null===i||void 0===i||i.forEach((t,n)=>{var r=m&&m[n],i=n>0?_n()(t,"paddingAngle",0):0;if(r){var o=Pn(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=cT(cT({},t),{},{startAngle:s+i,endAngle:s+o+i});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=Pn(0,c-u,e),h=cT(cT({},t),{},{startAngle:s+i,endAngle:s+d+i});a.push(h),s=h.endAngle}}),r.current=a,t.createElement(Nb,null,t.createElement(yT,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:n}))}),t.createElement(vT,{showLabels:!f,sectors:i,props:n}),n.children)}var wT={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Gy,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function _T(e){var{id:n}=e,r=sT(e,aT),{hide:i,className:a,rootTabIndex:o}=e,s=(0,t.useMemo)(()=>hx(e.children,BM),[e.children]),l=ko(e=>rT(e,n,s)),c=(0,t.useRef)(null),u=yn("recharts-pie",a);return i||null==l?(c.current=null,t.createElement(Nb,{tabIndex:o,className:u})):t.createElement(t.Fragment,null,t.createElement(AN,{fn:pT,args:cT(cT({},e),{},{sectors:l})}),t.createElement(Nb,{tabIndex:o,className:u},t.createElement(bT,{props:cT(cT({},r),{},{sectors:l}),previousSectorsRef:c})))}function ST(e){var n=Zx(e,wT),{id:r}=n,i=sT(n,oT),a=sx(i);return t.createElement(tj,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(rj,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a,maxRadius:n.maxRadius}),t.createElement(hT,dT({},i,{id:e})),t.createElement(_T,dT({},i,{id:e}))))}ST.displayName="Pie";var ET=["axis"],MT=(0,t.forwardRef)((e,n)=>t.createElement(tb,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ET,tooltipPayloadSearcher:zi,categoricalChartProps:e,ref:n}));function NT(){return NT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NT.apply(null,arguments)}var jT=e=>{var{cx:n,cy:r,r:i,className:a}=e,o=yn("recharts-dot",a);return n===+n&&r===+r&&i===+i?t.createElement("circle",NT({},sx(e),rx(e),{className:o,cx:n,cy:r,r:i})):null};function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(t){CT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kT(e){var{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,o=ko(ov),s=ko(mv);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return On(l)?null:(e=>{var{point:n,childIndex:r,mainColor:i,activeDot:a,dataKey:o}=e;if(!1===a||null==n.x||null==n.y)return null;var s,l=AT(AT({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},mx(a,!1)),rx(a));return s=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,l):"function"===typeof a?a(l):t.createElement(jT,l),t.createElement(Nb,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}var PT=(e,t,n,r)=>rg(e,"xAxis",t,r),RT=(e,t,n,r)=>ng(e,"xAxis",t,r),OT=(e,t,n,r)=>rg(e,"yAxis",n,r),LT=(e,t,n,r)=>ng(e,"yAxis",n,r),DT=_o([Vs,PT,OT,RT,LT],(e,t,n,r,i)=>as(e,"xAxis")?gs(t,r,!1):gs(n,i,!1));function IT(e){return"line"===e.type}var FT=_o([Sm,(e,t,n,r,i)=>i],(e,t)=>e.filter(IT).find(e=>e.id===t)),UT=_o([Vs,PT,OT,RT,LT,FT,DT,np],(e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var d,{dataKey:h,data:p}=a;if(null!=(d=null!=p&&p.length>0?p:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=is(e,o);if("horizontal"===t)return{x:ds({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:On(c)?null:r.scale(c),value:c,payload:e};var u=On(c)?null:n.scale(c),d=ds({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}),zT=["id"],BT=["type","layout","connectNulls","needClip"],VT=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(t){GT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KT.apply(null,arguments)}var XT=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:ys(n,t),payload:e}]};function YT(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:ys(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var JT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ZT(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function $T(e){var{clipPathId:n,points:r,props:i}=e,{dot:a,dataKey:o,needClip:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,a))return null;var{id:l}=i,c=qT(i,zT),u=px(a),d=sx(c),h=mx(a,!0),p=r.map((e,n)=>{var i=WT(WT(WT({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var i=yn("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(jT,KT({},n,{className:i}))}return r}(a,i)}),m={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(Nb,KT({className:"recharts-line-dots",key:"dots"},m),p)}function QT(e){var{showLabels:n,children:r,points:i}=e,a=(0,t.useMemo)(()=>null===i||void 0===i?void 0:i.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return WT(WT({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[i]);return t.createElement(JM,{value:n?a:null},r)}function eA(e){var{clipPathId:n,pathRef:r,points:i,strokeDasharray:a,props:o}=e,{type:s,layout:l,connectNulls:c,needClip:u}=o,d=qT(o,BT),h=WT(WT({},mx(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(n,")"):void 0,points:i,type:s,layout:l,connectNulls:c,strokeDasharray:null!==a&&void 0!==a?a:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&t.createElement(IS,KT({},h,{pathRef:r})),t.createElement($T,{points:i,clipPathId:n,props:o}))}function tA(e){var{clipPathId:n,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:p,width:m,height:f,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=vE(r,"recharts-line-"),[b,w]=(0,t.useState)(!1),_=!b,S=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),E=(0,t.useCallback)(()=>{"function"===typeof v&&v(),w(!0)},[v]),M=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),N=o.current;return t.createElement(QT,{points:s,showLabels:_},r.children,t.createElement(gE,{animationId:x,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:S,onAnimationStart:E,key:x},e=>{var u,d=Pn(N,M+N,e),h=Math.min(d,M);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));u=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return JT(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...ZT(n,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(h,M,g)}else u=JT(M,h);else u=null==l?void 0:String(l);if(y){var v=y.length/s.length,x=1===e?s:s.map((t,n)=>{var r=Math.floor(n*v);if(y[r]){var i=y[r];return WT(WT({},t),{},{x:Pn(i.x,t.x,e),y:Pn(i.y,t.y,e)})}return WT(WT({},t),{},p?{x:Pn(2*m,t.x,e),y:Pn(f/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=x,t.createElement(eA,{props:r,points:x,clipPathId:n,pathRef:i,strokeDasharray:u})}return e>0&&M>0&&(a.current=s,o.current=h),t.createElement(eA,{props:r,points:s,clipPathId:n,pathRef:i,strokeDasharray:u})}),t.createElement(eN,{label:r.label}))}function nA(e){var{clipPathId:n,props:r}=e,i=(0,t.useRef)(null),a=(0,t.useRef)(0),o=(0,t.useRef)(null);return t.createElement(tA,{props:r,clipPathId:n,previousPointsRef:i,longestAnimatedLengthRef:a,pathRef:o})}var rA=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:is(e.payload,t)});class iA extends t.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:p}=this.props;if(n)return null;var m=yn("recharts-line",a),f=h,{r:g=3,strokeWidth:v=2}=null!==(e=mx(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=px(r),x=2*g+v;return t.createElement(t.Fragment,null,t.createElement(Nb,{className:m},p&&t.createElement("defs",null,t.createElement(LN,{clipPathId:f,xAxisId:o,yAxisId:s}),!y&&t.createElement("clipPath",{id:"clipPath-dots-".concat(f)},t.createElement("rect",{x:c-x/2,y:l-x/2,width:u+x,height:d+x}))),t.createElement(RN,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:rA,errorBarOffset:0},t.createElement(nA,{props:this.props,clipPathId:f}))),t.createElement(kT,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Gy,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function oA(e){var n=Zx(e,aA),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:p,xAxisId:m,yAxisId:f,id:g}=n,v=qT(n,VT),{needClip:y}=ON(m,f),x=Wx(),b=Hs(),w=Os(),_=ko(e=>UT(e,m,f,w,g));if("horizontal"!==b&&"vertical"!==b||null==_||null==x)return null;var{height:S,width:E,x:M,y:N}=x;return t.createElement(iA,KT({},v,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:p,xAxisId:m,yAxisId:f,points:_,layout:b,height:S,width:E,left:M,top:N,needClip:y}))}function sA(e){var n=Zx(e,aA),r=Os();return t.createElement(tj,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(ZN,{legendPayload:XT(n)}),t.createElement(AN,{fn:YT,args:n}),t.createElement(nj,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(oA,KT({},n,{id:e}))))}var lA=t.memo(sA);lA.displayName="Line";var cA=["axis"],uA={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dA=(0,t.forwardRef)((e,n)=>{var r=Zx(e,uA);return t.createElement(Rj,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cA,tooltipPayloadSearcher:zi,categoricalChartProps:r,ref:n})}),hA=(e,t,n)=>{switch(t){case"angleAxis":return Bp(e,n);case"radiusAxis":return Vp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pA=(e,t,n)=>{switch(t){case"angleAxis":return Xp(e,n);case"radiusAxis":return Jp(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mA=_o([hA,bf,Xj,pA],wf),fA=_o([Vs,Vj,bm,$p],Jf),gA=_o([Vs,hA,bf,mA,Kj,pA,Yf,fA,$p],Qf),vA=(_o([Vs,hA,mA,pA,Yf,fA,$p],tg),_o([(e,t)=>gA(e,"angleAxis",t,!1)],e=>{if(e)return e.map(e=>e.coordinate)})),yA=_o([(e,t)=>gA(e,"radiusAxis",t,!1)],e=>{if(e)return e.map(e=>e.coordinate)}),xA=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bA.apply(null,arguments)}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(t){SA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EA=(e,t,n,r)=>{var i="";return r.forEach((r,a)=>{var o=Xo(t,n,e,r);i+=a?"L ".concat(o.x,",").concat(o.y):"M ".concat(o.x,",").concat(o.y)}),i+="Z"},MA=e=>{var{cx:n,cy:r,innerRadius:i,outerRadius:a,polarAngles:o,radialLines:s}=e;if(!o||!o.length||!s)return null;var l=_A({stroke:"#ccc"},sx(e));return t.createElement("g",{className:"recharts-polar-grid-angle"},o.map(e=>{var o=Xo(n,r,i,e),s=Xo(n,r,a,e);return t.createElement("line",bA({},l,{key:"line-".concat(e),x1:o.x,y1:o.y,x2:s.x,y2:s.y}))}))},NA=e=>{var{cx:n,cy:r,radius:i}=e,a=_A({stroke:"#ccc",fill:"none"},sx(e));return t.createElement("circle",bA({},a,{className:yn("recharts-polar-grid-concentric-circle",e.className),cx:n,cy:r,r:i}))},jA=e=>{var{radius:n}=e,r=_A({stroke:"#ccc",fill:"none"},sx(e));return t.createElement("path",bA({},r,{className:yn("recharts-polar-grid-concentric-polygon",e.className),d:EA(n,e.cx,e.cy,e.polarAngles)}))},TA=e=>{var{polarRadius:n,gridType:r}=e;if(!n||!n.length)return null;var i=Math.max(...n),a=e.fill&&"none"!==e.fill;return t.createElement("g",{className:"recharts-polar-grid-concentric"},a&&"circle"===r&&t.createElement(NA,bA({},e,{radius:i})),a&&"circle"!==r&&t.createElement(jA,bA({},e,{radius:i})),n.map((n,i)=>{var a=i;return"circle"===r?t.createElement(NA,bA({key:a},e,{fill:"none",radius:n})):t.createElement(jA,bA({key:a},e,{fill:"none",radius:n}))}))},AA=e=>{var n,r,i,a,o,s,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:h=0,radiusAxisId:p=0,cx:m,cy:f,innerRadius:g,outerRadius:v}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xA),x=ko(Zp),b=_A({cx:null!==(n=null!==(r=null===x||void 0===x?void 0:x.cx)&&void 0!==r?r:m)&&void 0!==n?n:0,cy:null!==(i=null!==(a=null===x||void 0===x?void 0:x.cy)&&void 0!==a?a:f)&&void 0!==i?i:0,innerRadius:null!==(o=null!==(s=null===x||void 0===x?void 0:x.innerRadius)&&void 0!==s?s:g)&&void 0!==o?o:0,outerRadius:null!==(l=null!==(c=null===x||void 0===x?void 0:x.outerRadius)&&void 0!==c?c:v)&&void 0!==l?l:0},y),{polarAngles:w,polarRadius:_,outerRadius:S}=b,E=ko(e=>vA(e,h)),M=ko(e=>yA(e,p)),N=Array.isArray(w)?w:E,j=Array.isArray(_)?_:M;return S<=0||null==N||null==j?null:t.createElement("g",{className:"recharts-polar-grid"},t.createElement(TA,bA({gridType:u,radialLines:d},b,{polarAngles:N,polarRadius:j})),t.createElement(MA,bA({gridType:u,radialLines:d},b,{polarAngles:N,polarRadius:j})))};AA.displayName="PolarGrid";var CA=["points","className","baseLinePoints","connectNulls"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kA.apply(null,arguments)}var PA=e=>e&&e.x===+e.x&&e.y===+e.y,RA=(e,t)=>{var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(e=>{PA(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),PA(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((e,t)=>[...e,...t],[])]);var r=n.map(e=>e.reduce((e,t,n)=>"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y),"")).join("");return 1===n.length?"".concat(r,"Z"):r},OA=e=>{var{points:n,className:r,baseLinePoints:i,connectNulls:a}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CA);if(!n||!n.length)return null;var s=yn("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&"none"!==o.stroke,c=((e,t,n)=>{var r=RA(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(RA(Array.from(t).reverse(),n).slice(1))})(n,i,a);return t.createElement("g",{className:s},t.createElement("path",kA({},mx(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?t.createElement("path",kA({},mx(o,!0),{fill:"none",d:RA(n,a)})):null,l?t.createElement("path",kA({},mx(o,!0),{fill:"none",d:RA(i,a)})):null)}var u=RA(n,a);return t.createElement("path",kA({},mx(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:s,d:u}))},LA=["children"];function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DA.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(t){UA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zA=1e-5,BA=Math.cos(qo(45)),VA="angleAxis";function HA(e){var n=jo(),r=(0,t.useMemo)(()=>{var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,LA);return n},[e]),i=ko(e=>Bp(e,r.id)),a=r===i;return(0,t.useEffect)(()=>(n(Ey(r)),()=>{n(My(r))}),[n,r]),a?e.children:null}var WA=e=>{var{cx:n,cy:r,radius:i,axisLineType:a,axisLine:o,ticks:s}=e;if(!o)return null;var l=FA(FA({},sx(e)),{},{fill:"none"},mx(o,!1));if("circle"===a)return t.createElement(jT,DA({className:"recharts-polar-angle-axis-line"},l,{cx:n,cy:r,r:i}));var c=s.map(e=>Xo(n,r,i,e.coordinate));return t.createElement(OA,DA({className:"recharts-polar-angle-axis-line"},l,{points:c}))},GA=e=>{var{tick:n,tickProps:r,value:i}=e;return n?t.isValidElement(n)?t.cloneElement(n,r):"function"===typeof n?n(r):t.createElement(Xb,DA({},r,{className:"recharts-polar-angle-axis-tick-value"}),i):null},qA=e=>{var{tick:n,tickLine:r,tickFormatter:i,stroke:a,ticks:o}=e,s=sx(e),l=mx(n,!1),c=FA(FA({},s),{},{fill:"none"},mx(r,!1)),u=o.map((o,u)=>{var d=((e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=Xo(n,r,i,e.coordinate),c=Xo(n,r,i+("inner"===a?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}})(o,e),h=((e,t)=>{var n=Math.cos(qo(-e.coordinate));return n>zA?"outer"===t?"start":"end":n<-zA?"outer"===t?"end":"start":"middle"})(o,e.orientation),p=(e=>{var t=Math.cos(qo(-e.coordinate)),n=Math.sin(qo(-e.coordinate));return Math.abs(t)<=BA?n>0?"start":"end":"middle"})(o),m=FA(FA(FA({},s),{},{textAnchor:h,verticalAnchor:p,stroke:"none",fill:a},l),{},{index:u,payload:o,x:d.x2,y:d.y2});return t.createElement(Nb,DA({className:yn("recharts-polar-angle-axis-tick",Qo(n)),key:"tick-".concat(o.coordinate)},ix(e,o,u)),r&&t.createElement("line",DA({className:"recharts-polar-angle-axis-tick-line"},c,d)),t.createElement(GA,{tick:n,tickProps:m,value:i?i(o.value,u):o.value}))});return t.createElement(Nb,{className:"recharts-polar-angle-axis-ticks"},u)},KA=e=>{var{angleAxisId:n}=e,r=ko(Zp),i=ko(e=>mA(e,"angleAxis",n)),a=Os(),o=ko(e=>gA(e,"angleAxis",n,a));if(null==r||!o||!o.length)return null;var s=FA(FA(FA({},e),{},{scale:i},r),{},{radius:r.outerRadius});return t.createElement(Nb,{className:yn("recharts-polar-angle-axis",VA,s.className)},t.createElement(WA,DA({},s,{ticks:o})),t.createElement(qA,DA({},s,{ticks:o})))};class XA extends t.PureComponent{render(){return this.props.radius<=0?null:t.createElement(HA,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},t.createElement(KA,this.props))}}UA(XA,"displayName","PolarAngleAxis"),UA(XA,"axisType",VA),UA(XA,"defaultProps",Op);var YA=n(1805),JA=n.n(YA),ZA=n(8503),$A=n.n(ZA),QA=["cx","cy","angle","axisLine"],eC=["angle","tickFormatter","stroke","tick"];function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(t){iC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oC="radiusAxis";function sC(e){var n=jo();return(0,t.useEffect)(()=>(n(_y(e)),()=>{n(Sy(e))})),null}var lC=(e,n)=>{var{angle:r,tickFormatter:i,stroke:a,tick:o}=e,s=aC(e,eC),l=(e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle"}return t})(e.orientation),c=sx(s),u=mx(o,!1),d=n.map((n,s)=>{var d=((e,t,n,r)=>{var{coordinate:i}=e;return Xo(n,r,i,t)})(n,e.angle,e.cx,e.cy),h=rC(rC(rC(rC({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(d.x,", ").concat(d.y,")")},c),{},{stroke:"none",fill:a},u),{},{index:s},d),{},{payload:n});return t.createElement(Nb,tC({className:yn("recharts-polar-radius-axis-tick",Qo(o)),key:"tick-".concat(n.coordinate)},ix(e,n,s)),((e,n,r)=>t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?e(n):t.createElement(Xb,tC({},n,{className:"recharts-polar-radius-axis-tick-value"}),r))(o,h,i?i(n.value,s):n.value))});return t.createElement(Nb,{className:"recharts-polar-radius-axis-ticks"},d)},cC=e=>{var{radiusAxisId:n}=e,r=ko(Zp),i=ko(e=>mA(e,"radiusAxis",n)),a=ko(e=>gA(e,"radiusAxis",n,!1));if(null==r||!a||!a.length)return null;var o=rC(rC(rC({},e),{},{scale:i},r),{},{radius:r.outerRadius}),{tick:s,axisLine:l}=o;return t.createElement(Nb,{className:yn("recharts-polar-radius-axis",oC,o.className)},l&&((e,n)=>{var{cx:r,cy:i,angle:a,axisLine:o}=e,s=aC(e,QA),l=n.reduce((e,t)=>[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)],[1/0,-1/0]),c=Xo(r,i,l[0],a),u=Xo(r,i,l[1],a),d=rC(rC(rC({},sx(s)),{},{fill:"none"},mx(o,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return t.createElement("line",tC({className:"recharts-polar-radius-axis-line"},d))})(o,a),s&&lC(o,a),t.createElement(iw,((e,t,n,r)=>{var i=JA()(r,e=>e.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:$A()(r,e=>e.coordinate||0).coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}})(o.angle,o.cx,o.cy,a),t.createElement(pw,{label:o.label}),o.children))};class uC extends t.PureComponent{render(){return t.createElement(t.Fragment,null,t.createElement(sC,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),t.createElement(cC,this.props))}}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(t){pC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}iC(uC,"displayName","PolarRadiusAxis"),iC(uC,"axisType",oC),iC(uC,"defaultProps",Lp);var mC=(e,t)=>mA(e,"radiusAxis",t),fC=_o([mC],e=>{if(null!=e)return{scale:e}}),gC=_o([Vp,mC],(e,t)=>{if(null!=e&&null!=t)return hC(hC({},e),{},{scale:t})}),vC=(e,t,n)=>Bp(e,n),yC=(e,t,n)=>mA(e,"angleAxis",n),xC=_o([vC,yC],(e,t)=>{if(null!=e&&null!=t)return hC(hC({},e),{},{scale:t})}),bC=_o([vC,yC,Zp],(e,t,n)=>{if(null!=n&&null!=t)return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),wC=_o([Vs,gC,(e,t,n,r)=>gA(e,"radiusAxis",t,r),xC,(e,t,n,r)=>gA(e,"angleAxis",n,r)],(e,t,n,r,i)=>as(e,"radiusAxis")?gs(t,n,!1):gs(r,i,!1)),_C=_o([Ij,(e,t,n,r,i)=>i],(e,t)=>{if(null!=e){var n=e.find(e=>"radar"===e.type&&t===e.id);return null===n||void 0===n?void 0:n.dataKey}}),SC=_o([fC,bC,tp,_C,wC],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(null!=e&&null!=t&&null!=a&&null!=i&&null!=r)return function(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],u="number"!==n.type&&null!==a&&void 0!==a?a:0;r.forEach((e,r)=>{var a=is(e,n.dataKey,r),d=is(e,i),h=n.scale(a)+u,p=Array.isArray(d)?HM()(d):d,m=On(p)?void 0:t.scale(p);Array.isArray(d)&&d.length>=2&&(l=!0),c.push(NC(NC({},Xo(o,s,m,h)),{},{name:a,value:d,cx:o,cy:s,radius:m,angle:h,payload:e}))});var d=[];l&&c.forEach(e=>{if(Array.isArray(e.value)){var n=e.value[0],r=On(n)?void 0:t.scale(n);d.push(NC(NC({},e),{},{radius:r},Xo(o,s,r,e.angle)))}else d.push(e)});return{points:c,isRange:l,baseLinePoints:d}}({radiusAxis:e,angleAxis:t,displayedData:a.slice(o,s+1),dataKey:r,bandSize:i})}),EC=["id"];function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(t){jC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TC.apply(null,arguments)}function AC(e,t){return e&&"none"!==e?e:t}var CC=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:AC(r,i),value:ys(n,t),payload:e}]};function kC(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:ys(a,t),hide:o,type:s,color:AC(n,i),unit:""}}}function PC(e){var{points:n,props:r}=e,{dot:i,dataKey:a}=r;if(!i)return null;var{id:o}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,EC),l=sx(s),c=mx(i,!0),u=n.map((e,n)=>{var r=NC(NC(NC({key:"dot-".concat(n),r:3},l),c),{},{dataKey:a,cx:e.x,cy:e.y,index:n,payload:e});return function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?e(n):t.createElement(jT,TC({},n,{className:yn("recharts-radar-dot","boolean"!==typeof e?e.className:"")}))}(i,r)});return t.createElement(Nb,{className:"recharts-radar-dots"},u)}function RC(e){var{showLabels:n,points:r,children:i}=e,a=r.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return NC(NC({},t),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:t,fill:void 0})});return t.createElement(JM,{value:n?a:null},i)}function OC(e){var{points:n,baseLinePoints:r,props:i}=e;if(null==n)return null;var a,{shape:o,isRange:s,connectNulls:l}=i;return a=t.isValidElement(o)?t.cloneElement(o,NC(NC({},i),{},{points:n})):"function"===typeof o?o(NC(NC({},i),{},{points:n})):t.createElement(OA,TC({},mx(i,!0),{onMouseEnter:e=>{var{onMouseEnter:t}=i;t&&t(i,e)},onMouseLeave:e=>{var{onMouseLeave:t}=i;t&&t(i,e)},points:n,baseLinePoints:s?r:null,connectNulls:l})),t.createElement(Nb,{className:"recharts-radar-polygon"},a,t.createElement(PC,{props:i,points:n}))}var LC=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return NC(NC({},r),{},a?{x:Pn(a.x,r.x,n),y:Pn(a.y,r.y,n)}:{x:Pn(r.cx,r.x,n),y:Pn(r.cy,r.y,n)})};function DC(e){var{props:n,previousPointsRef:r,previousBaseLinePointsRef:i}=e,{points:a,baseLinePoints:o,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=n,p=r.current,m=i.current,f=p&&p.length/a.length,g=m&&m.length/o.length,v=vE(n,"recharts-radar-"),[y,x]=(0,t.useState)(!1),b=!y,w=(0,t.useCallback)(()=>{"function"===typeof d&&d(),x(!1)},[d]),_=(0,t.useCallback)(()=>{"function"===typeof h&&h(),x(!0)},[h]);return t.createElement(RC,{showLabels:b,points:a},t.createElement(gE,{animationId:v,begin:l,duration:c,isActive:s,easing:u,key:"radar-".concat(v),onAnimationEnd:w,onAnimationStart:_},e=>{var s=1===e?a:a.map(LC(p,f,e)),l=1===e?o:null===o||void 0===o?void 0:o.map(LC(m,g,e));return e>0&&(r.current=s,i.current=l),t.createElement(OC,{points:s,baseLinePoints:l,props:n})}),t.createElement(eN,{label:n.label}),n.children)}function IC(e){var n=(0,t.useRef)(void 0),r=(0,t.useRef)(void 0);return t.createElement(DC,{props:e,previousPointsRef:n,previousBaseLinePointsRef:r})}var FC={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Gy,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class UC extends t.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e||null==r)return null;var i=yn("recharts-radar",n);return t.createElement(t.Fragment,null,t.createElement(Nb,{className:i},t.createElement(IC,this.props)),t.createElement(kT,{points:r,mainColor:AC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function zC(e){var n=Os(),r=ko(t=>SC(t,e.radiusAxisId,e.angleAxisId,n,e.id));return t.createElement(UC,TC({},e,{points:null===r||void 0===r?void 0:r.points,baseLinePoints:null===r||void 0===r?void 0:r.baseLinePoints,isRange:null===r||void 0===r?void 0:r.isRange}))}class BC extends t.PureComponent{render(){return t.createElement(tj,{id:this.props.id,type:"radar"},e=>t.createElement(t.Fragment,null,t.createElement(rj,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),t.createElement($N,{legendPayload:CC(this.props)}),t.createElement(AN,{fn:kC,args:this.props}),t.createElement(zC,TC({},this.props,{id:e}))))}}jC(BC,"displayName","Radar"),jC(BC,"defaultProps",FC);const VC=()=>{var e;const{user:n}=Pt(),[r,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)("6M"),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,_]=(0,t.useState)(0),[S,E]=(0,t.useState)(0),[M,N]=(0,t.useState)(0),[j,T]=(0,t.useState)(0),[A,C]=(0,t.useState)(new Set);(0,t.useEffect)(()=>{(async()=>{try{i(!0);let e=[],t=null;if(n)try{const t=await(async()=>{try{const e=localStorage.getItem("token");if(!e){console.warn("No authentication token found, checking localStorage only");const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("scenario-progress-"))try{const t=JSON.parse(localStorage.getItem(n)||"{}");t.scenarioId&&e.push(t)}catch(yY){console.warn("Error parsing localStorage item:",n,yY)}}return e}const t=await fetch("".concat(pn,"/api/progress"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(401===t.status){console.warn("Authentication failed, checking localStorage only");const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("scenario-progress-"))try{const t=JSON.parse(localStorage.getItem(n)||"{}");t.scenarioId&&e.push(t)}catch(yY){console.warn("Error parsing localStorage item:",n,yY)}}return e}if(!t.ok){if(404===t.status){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("scenario-progress-"))try{const t=JSON.parse(localStorage.getItem(n)||"{}");t.scenarioId&&e.push(t)}catch(yY){console.warn("Error parsing localStorage item:",n,yY)}}return e}throw new Error("Failed to fetch progress")}return await t.json()}catch(a){console.warn("Error fetching all user progress, trying localStorage:",a);try{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("scenario-progress-"))try{const t=JSON.parse(localStorage.getItem(n)||"{}");t.scenarioId&&e.push(t)}catch(yY){console.warn("Error parsing localStorage item:",n,yY)}}return e}catch(e){return console.error("Error reading from localStorage:",e),[]}}})();e=(null===t||void 0===t?void 0:t.data)||[]}catch(a){console.error("Error fetching progress from backend:",a);const n=localStorage.getItem("user-progress-data");e=n?JSON.parse(n):[]}else{const t=localStorage.getItem("user-progress-data");e=t?JSON.parse(t):[]}t=localStorage.getItem("assessment_total_score");const r=new Set;let o=0,l=0;e.forEach(e=>{if(e&&"completed"===e.status){var t;const n=(null===(t=e.scenario)||void 0===t?void 0:t._id)||e.scenario;n&&!r.has(n)&&(r.add(n),o++,l+=e.timeSpent||0)}}),C(r);let c=0;t?c=parseInt(t.replace("%","")):o>0&&(c=Math.min(20+15*o,95));const d=[{name:"Legal Research",score:o>0?Math.min(30+12*o,90):0,target:90},{name:"Case Analysis",score:o>0?Math.min(25+10*o,80):0,target:85},{name:"Document Drafting",score:o>0?Math.min(20+8*o,75):0,target:80},{name:"Oral Advocacy",score:o>0?Math.min(15+8*o,70):0,target:80},{name:"Negotiation",score:o>0?Math.min(10+6*o,65):0,target:75}],p=[{date:"Week 1",score:o>=1?35:0},{date:"Week 2",score:o>=2?50:o>=1?35:0},{date:"Week 3",score:o>=3?60:o>=2?50:o>=1?35:0},{date:"Week 4",score:o>=4?70:o>=3?60:o>=2?50:o>=1?35:0},{date:"Week 5",score:o>=5?80:o>=4?70:o>=3?60:o>=2?50:o>=1?35:0},{date:"Week 6",score:t?c:o>=5?80:o>=4?70:o>=3?60:o>=2?50:o>=1?35:0}];let f=[...p];"6M"===s?f=p.slice(-26):"1Y"===s&&(f=p.slice(-52));const v=[{name:"Criminal Law",value:o>0?100:0},{name:"Civil Law",value:0},{name:"Corporate Law",value:0},{name:"Family Law",value:0},{name:"Constitutional Law",value:0}],x=[{subject:"Legal Research",A:d[0].score,B:d[0].target,fullMark:100},{subject:"Case Analysis",A:d[1].score,B:d[1].target,fullMark:100},{subject:"Document Drafting",A:d[2].score,B:d[2].target,fullMark:100},{subject:"Oral Advocacy",A:d[3].score,B:d[3].target,fullMark:100},{subject:"Negotiation",A:d[4].score,B:d[4].target,fullMark:100},{subject:"Legal Writing",A:o>0?Math.min(25+8*o,75):0,B:85,fullMark:100}],w=[{id:1,title:"First Scenario",description:"Complete your first legal scenario",earned:o>0,points:100},{id:2,title:"Speed Demon",description:"Complete a scenario in under 30 minutes",earned:l>0&&l<30,points:250},{id:3,title:"Research Master",description:"Score 90% or higher on legal research",earned:d[0].score>=90,points:150},{id:4,title:"Perfectionist",description:"Achieve 100% on three scenarios",earned:o>=3,points:300},{id:5,title:"Social Learner",description:"Participate in a multiplayer scenario",earned:!1,points:200},{id:6,title:"Jack of All Trades",description:"Complete scenarios in 5 different practice areas",earned:!1,points:400}],S=[];t&&S.push({id:1,title:"Completed Assessment",description:"Legal Competency Assessment",time:"Just now",type:"completed",points:200}),o>0&&(o>=5&&S.push({id:2,title:"Completed Scenario",description:"Fifth Scenario",time:t?"1 day ago":"Just now",type:"completed",points:150}),o>=4&&S.push({id:3,title:"Completed Scenario",description:"Fourth Scenario",time:o>=5?"2 days ago":"1 day ago",type:"completed",points:120}),o>=3&&S.push({id:4,title:"Completed Scenario",description:"Third Scenario",time:o>=4?"3 days ago":"2 days ago",type:"completed",points:100}),o>=2&&S.push({id:5,title:"Completed Scenario",description:"Second Scenario",time:o>=3?"4 days ago":"3 days ago",type:"completed",points:80}),o>=1&&S.push({id:6,title:"Completed Scenario",description:"First Scenario",time:o>=2?"5 days ago":"4 days ago",type:"completed",points:60}));const M=w.filter(e=>e.earned).length;if(M>0){const e=w.find(e=>e.earned);e&&S.unshift({id:7,title:"New Achievement",description:e.title,time:"Just now",type:"achievement",points:e.points})}0===S.length&&S.push({id:8,title:"Welcome!",description:"Start your first legal scenario",time:"Just now",type:"new"}),S.sort((e,t)=>t.id-e.id),u(d),h(f),m(v),g(x),y(w),b(S),_(c),E(o),N(100*M+50*o),T(M),i(!1)}catch(e){o("Error initializing dashboard data: "+e.message),console.error("Error initializing dashboard data:",e),i(!1)}})()},[n,s]),(0,t.useEffect)(()=>{const e=()=>{u(e=>[...e])};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]),(0,t.useEffect)(()=>{h(e=>[...e])},[s]);const k=["#4F46E5","#10B981","#F59E0B","#EF4444","#8B5CF6"],P=e=>{switch(e){case"completed":return(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center mr-4",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"achievement":return(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-4",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})});case"new":return(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-4",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"points":return(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-4",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});default:return(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-4",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}};return r?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):a?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:a}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance Dashboard"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Track your progress and skill development over time"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg p-6 text-white",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-indigo-100 text-sm",children:"Overall Score"}),(0,Nt.jsxs)("p",{className:"text-3xl font-bold",children:[w,"%"]})]}),(0,Nt.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),(0,Nt.jsxs)("div",{className:"mt-4",children:[(0,Nt.jsx)("div",{className:"w-full bg-white bg-opacity-30 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"bg-white h-2 rounded-full",style:{width:"".concat(w,"%")}})}),(0,Nt.jsxs)("p",{className:"text-indigo-100 text-xs mt-2",children:[Math.max(0,100-w),"% to next level"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl shadow-lg p-6 text-white",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-green-100 text-sm",children:"Scenarios Completed"}),(0,Nt.jsx)("p",{className:"text-3xl font-bold",children:S})]}),(0,Nt.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]}),(0,Nt.jsx)("div",{className:"mt-4",children:(0,Nt.jsxs)("p",{className:"text-green-100 text-sm",children:["+",S," completed"]})})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl shadow-lg p-6 text-white",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-blue-100 text-sm",children:"Bonus Points"}),(0,Nt.jsx)("p",{className:"text-3xl font-bold",children:M.toLocaleString()})]}),(0,Nt.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,Nt.jsx)("div",{className:"mt-4",children:(0,Nt.jsxs)("p",{className:"text-blue-100 text-sm",children:[Math.max(0,500-M%500)," pts to next reward"]})})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-purple-100 text-sm",children:"Achievements"}),(0,Nt.jsxs)("p",{className:"text-3xl font-bold",children:[j,"/6"]})]}),(0,Nt.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),(0,Nt.jsx)("div",{className:"mt-4",children:(0,Nt.jsxs)("p",{className:"text-purple-100 text-sm",children:["Next: ",(null===(e=v.find(e=>!e.earned))||void 0===e?void 0:e.title)||"All Achieved"]})})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 lg:col-span-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Skill Proficiency"}),(0,Nt.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View Details"})]}),(0,Nt.jsx)("div",{className:"h-80",children:(0,Nt.jsx)(zn,{width:"100%",height:"100%",children:(0,Nt.jsxs)(rb,{data:c,margin:{top:20,right:30,left:20,bottom:5},children:[(0,Nt.jsx)(Kw,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Nt.jsx)(a_,{dataKey:"name",stroke:"#6b7280"}),(0,Nt.jsx)(v_,{domain:[0,100],stroke:"#6b7280"}),(0,Nt.jsx)(XE,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}),(0,Nt.jsx)(zM,{}),(0,Nt.jsx)(Tj,{dataKey:"score",name:"Current Score",fill:"#4F46E5",radius:[4,4,0,0]}),(0,Nt.jsx)(Tj,{dataKey:"target",name:"Target Score",fill:"#10B981",radius:[4,4,0,0]})]})})})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Practice Areas"}),(0,Nt.jsx)("div",{className:"h-72",children:(0,Nt.jsx)(zn,{width:"100%",height:"100%",children:(0,Nt.jsxs)(Dj,{children:[(0,Nt.jsx)(ST,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(0),"%")},children:p.map((e,t)=>(0,Nt.jsx)(BM,{fill:k[t%k.length]},"cell-".concat(t)))}),(0,Nt.jsx)(XE,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}})]})})}),(0,Nt.jsx)("div",{className:"mt-4 space-y-2",children:p.map((e,t)=>(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:k[t]}}),(0,Nt.jsx)("span",{className:"text-sm text-gray-600",children:e.name}),(0,Nt.jsxs)("span",{className:"text-sm text-gray-900 ml-auto",children:[e.value,"%"]})]},e.name))})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Performance Trend"}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{className:"px-3 py-1 text-sm rounded-full ".concat("6M"===s?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"),onClick:()=>l("6M"),children:"6M"}),(0,Nt.jsx)("button",{className:"px-3 py-1 text-sm rounded-full ".concat("1Y"===s?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"),onClick:()=>l("1Y"),children:"1Y"}),(0,Nt.jsx)("button",{className:"px-3 py-1 text-sm rounded-full ".concat("All"===s?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"),onClick:()=>l("All"),children:"All"})]})]}),(0,Nt.jsx)("div",{className:"h-80",children:(0,Nt.jsx)(zn,{width:"100%",height:"100%",children:(0,Nt.jsxs)(MT,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[(0,Nt.jsx)(Kw,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Nt.jsx)(a_,{dataKey:"date",stroke:"#6b7280"}),(0,Nt.jsx)(v_,{domain:[0,100],stroke:"#6b7280"}),(0,Nt.jsx)(XE,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}),(0,Nt.jsx)(zM,{}),(0,Nt.jsx)(lA,{type:"monotone",dataKey:"score",name:"Performance Score",stroke:"#4F46E5",strokeWidth:3,activeDot:{r:8},dot:{r:4}})]})})})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Skill Radar"}),(0,Nt.jsx)("div",{className:"h-80",children:(0,Nt.jsx)(zn,{width:"100%",height:"100%",children:(0,Nt.jsxs)(dA,{cx:"50%",cy:"50%",outerRadius:"80%",data:f,children:[(0,Nt.jsx)(AA,{stroke:"#f0f0f0"}),(0,Nt.jsx)(XA,{dataKey:"subject",stroke:"#6b7280"}),(0,Nt.jsx)(uC,{angle:30,domain:[0,150],stroke:"#6b7280"}),(0,Nt.jsx)(BC,{name:"Current",dataKey:"A",stroke:"#4F46E5",fill:"#4F46E5",fillOpacity:.3}),(0,Nt.jsx)(BC,{name:"Target",dataKey:"B",stroke:"#10B981",fill:"#10B981",fillOpacity:.1}),(0,Nt.jsx)(zM,{}),(0,Nt.jsx)(XE,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}})]})})})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 lg:col-span-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),(0,Nt.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",onClick:()=>(e=>{window.location.hash=e})("/activity"),children:"View All"})]}),(0,Nt.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,Nt.jsxs)("div",{className:"flex items-center p-4 hover:bg-gray-50 rounded-lg transition duration-200",children:[P(e.type),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),(0,Nt.jsxs)("div",{className:"text-right",children:[e.points&&(0,Nt.jsxs)("div",{className:"text-sm font-bold text-indigo-600",children:["+",e.points," pts"]}),(0,Nt.jsx)("div",{className:"text-sm text-gray-500",children:e.time})]})]},e.id))})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements"}),(0,Nt.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"See All"})]}),(0,Nt.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,Nt.jsx)("div",{className:"border rounded-xl p-4 ".concat(e.earned?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 ".concat(e.earned?"bg-green-100":"bg-gray-200"),children:e.earned?(0,Nt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}):(0,Nt.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h4",{className:"font-medium ".concat(e.earned?"text-green-900":"text-gray-900"),children:e.title}),(0,Nt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,Nt.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Nt.jsxs)("span",{className:"text-xs font-medium bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:[e.points," pts"]}),e.earned&&(0,Nt.jsx)("span",{className:"ml-2 text-xs px-2 py-1 bg-green-100 text-green-800 font-medium rounded-full",children:"Earned"})]})]})]})},e.id))})]})]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl shadow-lg p-8 text-white mb-8",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Performance Insights"}),(0,Nt.jsx)("p",{className:"text-indigo-100 mb-6",children:"Personalized recommendations to improve your legal skills"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 rounded-xl p-5",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Nt.jsx)("h4",{className:"font-bold",children:"Strength"})]}),(0,Nt.jsx)("p",{className:"text-indigo-100 text-sm",children:c.length>0&&c[0].score>=80?"Your ".concat(c[0].name," skills are exceptional. Continue practicing to maintain this level."):c.length>0&&c[2].score>=70?"Your ".concat(c[2].name," skills are strong. Keep up the good work."):"You're building solid foundational skills. Keep practicing to develop your strengths."})]}),(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 rounded-xl p-5",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,Nt.jsx)("h4",{className:"font-bold",children:"Improvement"})]}),(0,Nt.jsx)("p",{className:"text-indigo-100 text-sm",children:c.length>0&&c[3].score<70?"Focus on ".concat(c[3].name," skills. Try scenarios that involve speaking and presenting to improve."):c.length>0&&c[1].score<75?"Work on ".concat(c[1].name," skills. Practice analyzing case details and evidence."):"You're making good progress. Try challenging scenarios to continue improving."})]}),(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 rounded-xl p-5",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3",children:(0,Nt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,Nt.jsx)("h4",{className:"font-bold",children:"Opportunity"})]}),(0,Nt.jsx)("p",{className:"text-indigo-100 text-sm",children:S>0?"Continue with the next stage in your current scenario to build on your progress.":"Start with the Client Counseling scenario to begin building your legal skills."})]})]})]})})]})},HC=()=>{const{user:e}=Pt();return(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)(VC,{})})},WC=zt("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),GC=zt("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),qC=zt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),KC=()=>{const[e,n]=(0,t.useState)("tournaments"),[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{h(!0),o([]),l([]),u([]),h(!1)}catch(e){m("Error fetching multiplayer data: "+e.message),console.error("Error fetching multiplayer data:",e),h(!1)}})()},[]);const f=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"upcoming":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},g=e=>{switch(e){case"online":return(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"});case"away":return(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"});default:return(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-500"})}},v=a.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()));return d?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading multiplayer data..."})]})}):p?(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Multiplayer Data"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:p}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Multiplayer Arena"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Compete with legal professionals worldwide in real-time scenarios"})]}),(0,Nt.jsxs)("div",{className:"flex border-b border-gray-200 mb-8",children:[(0,Nt.jsxs)("button",{className:"pb-3 px-6 font-medium ".concat("tournaments"===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500"),onClick:()=>n("tournaments"),children:[(0,Nt.jsx)(WC,{className:"w-5 h-5 inline mr-2"}),"Tournaments"]}),(0,Nt.jsxs)("button",{className:"pb-3 px-6 font-medium ".concat("leaderboard"===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500"),onClick:()=>n("leaderboard"),children:[(0,Nt.jsx)(Jt,{className:"w-5 h-5 inline mr-2"}),"Leaderboard"]}),(0,Nt.jsxs)("button",{className:"pb-3 px-6 font-medium ".concat("friends"===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500"),onClick:()=>n("friends"),children:[(0,Nt.jsx)(Jt,{className:"w-5 h-5 inline mr-2"}),"Friends"]}),(0,Nt.jsxs)("button",{className:"pb-3 px-6 font-medium ".concat("rules"===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500"),onClick:()=>n("rules"),children:[(0,Nt.jsx)(Qt,{className:"w-5 h-5 inline mr-2"}),"Rules"]})]}),"tournaments"===e&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"relative flex-1",children:[(0,Nt.jsx)(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Nt.jsx)("input",{type:"text",placeholder:"Search tournaments...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:r,onChange:e=>i(e.target.value)})]}),(0,Nt.jsxs)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium flex items-center",children:[(0,Nt.jsx)(on,{className:"w-5 h-5 mr-2"}),"Advanced Filters"]})]})}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.length>0?v.map(e=>(0,Nt.jsx)("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition duration-300 overflow-hidden border border-gray-100",children:(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat(f(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,Nt.jsx)("span",{className:"ml-2 inline-block px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e.difficulty})]}),(0,Nt.jsxs)("div",{className:"flex items-center text-yellow-500",children:[(0,Nt.jsx)(GC,{className:"w-4 h-4 mr-1"}),(0,Nt.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:e.points})]})]}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,Nt.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,Nt.jsx)(Jt,{className:"w-4 h-4 mr-1"}),e.participants,"/",e.maxParticipants]}),(0,Nt.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,Nt.jsx)(cn,{className:"w-4 h-4 mr-1"}),new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]}),(0,Nt.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Nt.jsx)("div",{className:"text-lg font-bold text-indigo-600",children:e.prize})}),(0,Nt.jsxs)("button",{className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium flex items-center justify-center",children:[(0,Nt.jsx)(qC,{className:"w-5 h-5 mr-2"}),"Join Tournament"]})]})},e._id)):(0,Nt.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)(WC,{className:"w-8 h-8 text-gray-400"})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No tournaments available yet"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Check back later for new tournaments"})]})})]}),"leaderboard"===e&&(0,Nt.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100",children:(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Global Leaderboard"}),s.length>0?(0,Nt.jsx)("div",{className:"overflow-x-auto",children:(0,Nt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Nt.jsx)("thead",{className:"bg-gray-50",children:(0,Nt.jsxs)("tr",{children:[(0,Nt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,Nt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,Nt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,Nt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scenarios"}),(0,Nt.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),(0,Nt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,Nt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Nt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold ".concat(1===e.rank?"bg-yellow-100 text-yellow-800":2===e.rank?"bg-gray-100 text-gray-800":3===e.rank?"bg-amber-100 text-amber-800":"bg-gray-50 text-gray-600"),children:e.rank})})}),(0,Nt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,Nt.jsx)("span",{className:"text-indigo-800 font-bold",children:e.username.charAt(0)})}),(0,Nt.jsxs)("div",{className:"ml-4",children:[(0,Nt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.username}),(0,Nt.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Nt.jsx)("span",{className:"fi fi-".concat(e.countryCode.toLowerCase()," mr-2")}),e.countryCode]})]})]})}),(0,Nt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold",children:e.score}),(0,Nt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.scenariosCompleted}),(0,Nt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold text-indigo-600",children:e.points.toLocaleString()})]},e._id))})]})}):(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)(Jt,{className:"w-8 h-8 text-gray-400"})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Leaderboard not available yet"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Participate in tournaments to see rankings"})]})]})}),"friends"===e&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Friends"}),c.length>0?(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>(0,Nt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition duration-200",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,Nt.jsx)("span",{className:"text-indigo-800 font-bold",children:e.username.charAt(0)})}),(0,Nt.jsxs)("div",{className:"ml-3",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900",children:e.username}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[g(e.status),(0,Nt.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:e.lastActive})]})]})]}),(0,Nt.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat("online"===e.status?"bg-green-100 text-green-800":"away"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-xs text-gray-500",children:"Score"}),(0,Nt.jsx)("p",{className:"font-bold text-gray-900",children:e.score})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-xs text-gray-500",children:"Points"}),(0,Nt.jsx)("p",{className:"font-bold text-indigo-600",children:e.points.toLocaleString()})]}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 transition duration-200",children:"Challenge"})]})]},e._id))}):(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)(Jt,{className:"w-8 h-8 text-gray-400"})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No friends in your list yet"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:"Add friends to compete with them"}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",children:"Add Friends"})]})]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-8",children:(0,Nt.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invite Friends"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Challenge your friends to legal scenarios and climb the leaderboard together"}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Nt.jsxs)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium flex items-center justify-center",children:[(0,Nt.jsx)(Jt,{className:"w-5 h-5 mr-2"}),"Invite Friends"]}),(0,Nt.jsxs)("button",{className:"border border-indigo-600 text-indigo-600 px-6 py-3 rounded-lg hover:bg-indigo-50 transition duration-300 font-medium flex items-center justify-center",children:[(0,Nt.jsx)(Zt,{className:"w-5 h-5 mr-2"}),"Quick Match"]})]})]})})]}),"rules"===e&&(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Multiplayer Rules"}),(0,Nt.jsxs)("div",{className:"prose max-w-none",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-3",children:"Tournament Rules"}),(0,Nt.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[(0,Nt.jsx)("li",{children:"All participants must be registered users of the platform"}),(0,Nt.jsx)("li",{children:"Tournaments are conducted in real-time with multiple participants"}),(0,Nt.jsx)("li",{children:"Each scenario has a specific time limit for completion"}),(0,Nt.jsx)("li",{children:"Scoring is based on accuracy, speed, and legal reasoning"}),(0,Nt.jsx)("li",{children:"Participants are ranked based on their total score at the end of the tournament"}),(0,Nt.jsx)("li",{children:"Prizes are awarded to top performers based on tournament rules"})]}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-3",children:"Scoring System"}),(0,Nt.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[(0,Nt.jsx)("li",{children:"Accuracy: 50% of total score (correct answers and legal reasoning)"}),(0,Nt.jsx)("li",{children:"Speed: 30% of total score (time taken to complete scenarios)"}),(0,Nt.jsx)("li",{children:"Creativity: 20% of total score (innovative approaches to legal problems)"}),(0,Nt.jsx)("li",{children:"Bonus points for perfect scores and early completion"})]}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-3",children:"Fair Play Policy"}),(0,Nt.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[(0,Nt.jsx)("li",{children:"No external assistance during tournaments"}),(0,Nt.jsx)("li",{children:"No sharing of answers or collaborating with other participants"}),(0,Nt.jsx)("li",{children:"Any violation of rules may result in disqualification"}),(0,Nt.jsx)("li",{children:"Decisions of the moderators are final"})]}),(0,Nt.jsxs)("div",{className:"mt-8 p-4 bg-indigo-50 rounded-lg",children:[(0,Nt.jsx)("h4",{className:"font-bold text-indigo-800 mb-2",children:"Note"}),(0,Nt.jsx)("p",{className:"text-indigo-700",children:"These rules are subject to change. Please check back regularly for updates. For any questions or concerns, please contact our support team."})]})]})]})]})},XC=()=>(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)(KC,{})}),YC=()=>(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 min-h-screen py-12",children:(0,Nt.jsx)("div",{className:"container mx-auto px-4",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"About DHARMASIKHARA"}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-12",children:[(0,Nt.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"DHARMASIKHARA is on a mission to transform legal education by providing law students and junior lawyers with unlimited access to realistic legal practice scenarios. Our platform bridges the critical gap between theoretical knowledge and practical skills that exists in traditional legal education."}),(0,Nt.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"Founded by legal experts and technologists, we believe that mastering the law requires more than just memorizing statutes and case precedents. It requires hands-on experience, critical thinking, and the ability to apply legal principles in real-world situations."}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Our Vision"}),(0,Nt.jsx)("p",{className:"text-lg",children:"To create a world where every legal professional has access to high-quality, practical training that prepares them for the challenges of real-world legal practice."})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Our Approach"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"We combine cutting-edge simulation technology with deep legal expertise to create immersive learning experiences that mirror real courtroom scenarios. Our AI-powered feedback system provides personalized guidance to accelerate your learning journey."})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Our Impact"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Since our inception, we've helped thousands of law students and junior lawyers develop critical practical skills that have enhanced their confidence and competence in real legal practice."})]})]})]})})})}),JC=zt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),ZC=zt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),$C=zt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),QC=()=>{const[e,n]=(0,t.useState)({name:"",email:"",subject:"",message:""}),r=e=>{const{name:t,value:r}=e.target;n(e=>u(u({},e),{},{[t]:r}))};return(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 min-h-screen py-12",children:(0,Nt.jsx)("div",{className:"container mx-auto px-4",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4 text-center",children:"Contact DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 text-center mb-12",children:"Have questions about DHARMASIKHARA? Want to learn more about our platform or partnership opportunities?"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),(0,Nt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Thank you for your message! We will get back to you soon."),n({name:"",email:"",subject:"",message:""})},children:[(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"Name"}),(0,Nt.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),(0,Nt.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",children:"Subject"}),(0,Nt.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{htmlFor:"message",className:"block text-gray-700 font-medium mb-2",children:"Message"}),(0,Nt.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:r,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Nt.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-bold",children:"Send Message"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),(0,Nt.jsxs)("div",{className:"space-y-6",children:[(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-lg",children:(0,Nt.jsx)(JC,{className:"w-6 h-6 text-indigo-600"})}),(0,Nt.jsxs)("div",{className:"ml-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Email"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"info@infernomach.in"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"dharma.sikhara@infernomach.in"})]})]}),(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-lg",children:(0,Nt.jsx)(ZC,{className:"w-6 h-6 text-indigo-600"})}),(0,Nt.jsxs)("div",{className:"ml-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Phone"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"+91 8088993690"})]})]}),(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-lg",children:(0,Nt.jsx)($C,{className:"w-6 h-6 text-indigo-600"})}),(0,Nt.jsxs)("div",{className:"ml-4",children:[(0,Nt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Office"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Bangalore, Karnataka"})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-8 text-white",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Join Our Community"}),(0,Nt.jsx)("p",{className:"mb-6",children:"Be part of the DHARMASIKHARA community and stay updated with the latest legal scenarios, platform updates, and educational resources."}),(0,Nt.jsx)("button",{className:"bg-white text-indigo-600 px-6 py-3 rounded-lg hover:bg-gray-100 transition duration-300 font-bold",children:"Subscribe to Newsletter"})]})]})]})]})})})})},ek=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),[w,_]=(0,t.useState)(!1),S=fe(),{login:E}=Pt();return(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Nt.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white rounded-2xl shadow-xl p-8",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"mx-auto h-20 w-20 rounded-full bg-indigo-100 flex items-center justify-center mb-4",children:(0,Nt.jsx)("div",{className:"h-12 w-12 rounded-lg bg-indigo-600 flex items-center justify-center",children:(0,Nt.jsx)("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:v?"Create Account":"Welcome Back"}),(0,Nt.jsx)("p",{className:"mt-2 text-gray-600",children:v?"Sign up to start your legal practice journey":"Sign in to continue your legal practice journey"})]}),x&&(0,Nt.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,Nt.jsxs)("div",{className:"flex",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0",children:(0,Nt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Nt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Nt.jsx)("div",{className:"ml-3",children:(0,Nt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:x})})]})}),(0,Nt.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),_(!0),b("");try{const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:5000":window.location.origin,n="".concat(t,v?"/api/auth/register":"/api/auth/login");let i;i=v?JSON.stringify({username:a,email:e,password:r,firstName:s,lastName:c,institution:d,year:p,specialization:f}):JSON.stringify({email:e,password:r});const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:i}),l=await o.json();l.success?(E(l.data.user,l.data.token),S("/")):l.message?b(l.message):400===o.status?b("User already exists. Please try a different email or username."):401===o.status?b("Invalid credentials. Please check your email and password."):b("Authentication failed. Please try again.")}catch(n){b("Network error. Please check your connection and try again."),console.error("Authentication error:",n)}finally{_(!1)}},children:[v&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,Nt.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s,onChange:e=>l(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,Nt.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:c,onChange:e=>u(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Nt.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:a,onChange:e=>o(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"institution",className:"block text-sm font-medium text-gray-700",children:"Institution"}),(0,Nt.jsx)("input",{id:"institution",name:"institution",type:"text",value:d,onChange:e=>h(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,Nt.jsxs)("select",{id:"year",name:"year",value:p,onChange:e=>m(e.target.value),className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,Nt.jsx)("option",{value:"",children:"Select Year"}),(0,Nt.jsx)("option",{value:"1st Year",children:"1st Year"}),(0,Nt.jsx)("option",{value:"2nd Year",children:"2nd Year"}),(0,Nt.jsx)("option",{value:"3rd Year",children:"3rd Year"}),(0,Nt.jsx)("option",{value:"4th Year",children:"4th Year"}),(0,Nt.jsx)("option",{value:"5th Year",children:"5th Year"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700",children:"Specialization"}),(0,Nt.jsxs)("select",{id:"specialization",name:"specialization",value:f,onChange:e=>g(e.target.value),className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,Nt.jsx)("option",{value:"",children:"Select Specialization"}),(0,Nt.jsx)("option",{value:"Criminal Law",children:"Criminal Law"}),(0,Nt.jsx)("option",{value:"Civil Law",children:"Civil Law"}),(0,Nt.jsx)("option",{value:"Corporate Law",children:"Corporate Law"}),(0,Nt.jsx)("option",{value:"Family Law",children:"Family Law"}),(0,Nt.jsx)("option",{value:"Constitutional Law",children:"Constitutional Law"}),(0,Nt.jsx)("option",{value:"Tax Law",children:"Tax Law"}),(0,Nt.jsx)("option",{value:"Intellectual Property",children:"Intellectual Property"})]})]})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,Nt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>n(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Nt.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>i(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),!v&&(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,Nt.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,Nt.jsx)("div",{className:"text-sm",children:(0,Nt.jsx)(ft,{to:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),(0,Nt.jsx)("div",{children:(0,Nt.jsx)("button",{type:"submit",disabled:w,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:w?(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v?"Signing up...":"Signing in..."]}):v?"Sign up":"Sign in"})})]}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsxs)("p",{className:"text-sm text-gray-600",children:[v?"Already have an account?":"Don't have an account?"," ",(0,Nt.jsx)("button",{onClick:()=>{y(!v),b(""),v||(o(""),l(""),u(""),h(""),m(""),g(""))},className:"font-medium text-indigo-600 hover:text-indigo-500",children:v?"Sign in":"Sign up"})]})})]})})})},tk=()=>(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Test Page"}),(0,Nt.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"If you can see this page, the routing is working correctly!"}),(0,Nt.jsxs)("div",{className:"bg-indigo-100 rounded-xl p-8 mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"CourtCraft Application"}),(0,Nt.jsx)("p",{className:"text-indigo-700",children:"This is a test page to verify that the application routing is working properly."})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-pink-100 to-purple-100 rounded-xl p-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Scenario Simulation Test"}),(0,Nt.jsx)("p",{className:"text-purple-700 mb-6",children:"Test the new legal scenario simulation with detailed case files."}),(0,Nt.jsx)(ft,{to:"/scenario-simulation",children:(0,Nt.jsx)("button",{className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:from-pink-600 hover:to-purple-700 transition duration-300",children:"Launch Scenario Simulation"})})]})]})})}),nk=()=>{const{user:e,token:n}=Pt(),r=fe(),i=he(),[a,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)("card"),[f,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,_]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[M,N]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=new URLSearchParams(i.search).get("plan");if(!e)return u("No plan selected"),void l(!1);(async()=>{try{const t="http://localhost:5000",n=await fetch("".concat(t,"/api/payments/plans")),r=await n.json();if(r.success){const t=r.data.find(t=>t.id===e);t?o(t):u("Selected plan not found")}else u("Failed to fetch plans");l(!1)}catch(t){u("Error fetching plan: "+t.message),console.error("Error fetching plan:",t),l(!1)}})()},[i.search]);return s?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading payment details..."})]})})}):c&&!a?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Payment"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:c}),(0,Nt.jsx)(ft,{to:"/account/subscription",children:(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",children:"Back to Plans"})})]})})}):(0,Nt.jsx)(Kt,{children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsxs)(ft,{to:"/account/subscription",className:"flex items-center text-indigo-600 hover:text-indigo-800 transition duration-300 mb-4",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Plans"]}),(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Payment"}),(0,Nt.jsxs)("p",{className:"text-gray-600",children:["Securely process your payment for the ",null===a||void 0===a?void 0:a.name]})]}),d?(0,Nt.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[(0,Nt.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Nt.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Payment Successful!"}),(0,Nt.jsxs)("p",{className:"text-green-700 mb-6",children:["Your payment of \u20b9",null===a||void 0===a?void 0:a.price," for the ",null===a||void 0===a?void 0:a.name," has been processed successfully."]}),(0,Nt.jsx)("p",{className:"text-green-700",children:"Redirecting to your profile..."})]})}):(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Payment Details"}),(0,Nt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N(!0),u("");try{if("card"===p){if(!f||!v||!x||!w)return u("Please fill in all card details"),void N(!1)}else if("upi"===p&&!S)return u("Please enter your UPI ID"),void N(!1);const e="http://localhost:5000",t=await fetch("".concat(e,"/api/payments/process"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({paymentMethod:p,cardNumber:f,expiry:v,cvv:x,name:w,upiId:S,plan:null===a||void 0===a?void 0:a.id,amount:null===a||void 0===a?void 0:a.price})}),i=await t.json();i.success?(h(!0),setTimeout(()=>{r("/account/profile")},3e3)):u(i.message||"Payment failed")}catch(t){u("Payment failed: "+t.message),console.error("Payment error:",t)}finally{N(!1)}},children:[(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Nt.jsx)("button",{type:"button",className:"py-3 px-4 rounded-lg border ".concat("card"===p?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"),onClick:()=>m("card"),children:(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center mr-3",children:"card"===p&&(0,Nt.jsx)("div",{className:"w-4 h-4 rounded-full bg-indigo-500"})}),(0,Nt.jsx)("span",{className:"font-medium",children:"Credit/Debit Card"})]})}),(0,Nt.jsx)("button",{type:"button",className:"py-3 px-4 rounded-lg border ".concat("upi"===p?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"),onClick:()=>m("upi"),children:(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center mr-3",children:"upi"===p&&(0,Nt.jsx)("div",{className:"w-4 h-4 rounded-full bg-indigo-500"})}),(0,Nt.jsx)("span",{className:"font-medium",children:"UPI"})]})})]})]}),"card"===p&&(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),(0,Nt.jsx)("input",{type:"text",id:"cardNumber",value:f,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"1234 5678 9012 3456",maxLength:19})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,Nt.jsx)("input",{type:"text",id:"expiry",value:v,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"MM/YY",maxLength:5})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),(0,Nt.jsx)("input",{type:"text",id:"cvv",value:x,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"123",maxLength:4})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),(0,Nt.jsx)("input",{type:"text",id:"name",value:w,onChange:e=>_(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Full name as on card"})]})]}),"upi"===p&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"upiId",className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID"}),(0,Nt.jsx)("input",{type:"text",id:"upiId",value:S,onChange:e=>E(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"yourname@upi"})]}),(0,Nt.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Nt.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"UPI Payment Instructions"}),(0,Nt.jsx)("p",{className:"text-blue-700 text-sm",children:"After submitting, you'll receive a payment request on your UPI app. Complete the payment there to finalize your subscription."})]})]}),c&&(0,Nt.jsx)("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Nt.jsx)("p",{className:"text-red-700 text-sm",children:c})}),(0,Nt.jsx)("div",{className:"mt-8",children:(0,Nt.jsx)("button",{type:"submit",disabled:M,className:"w-full py-3 px-4 rounded-lg font-medium text-white transition duration-300 ".concat(M?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"),children:M?(0,Nt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Nt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Payment..."]}):"Pay \u20b9".concat(null===a||void 0===a?void 0:a.price)})})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),a&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900",children:a.name}),(0,Nt.jsx)("p",{className:"text-gray-600 text-sm",children:a.description})]}),(0,Nt.jsxs)("div",{className:"text-right",children:[(0,Nt.jsxs)("p",{className:"font-bold text-gray-900",children:["\u20b9",a.price]}),(0,Nt.jsxs)("p",{className:"text-gray-600 text-sm",children:["per ",a.period]})]})]}),(0,Nt.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Nt.jsxs)("span",{className:"font-medium",children:["\u20b9",a.price]})]}),(0,Nt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,Nt.jsx)("span",{className:"font-medium",children:"N/A"})]}),(0,Nt.jsxs)("div",{className:"flex justify-between mt-4 pt-4 border-t border-gray-200",children:[(0,Nt.jsx)("span",{className:"font-bold text-gray-900",children:"Total"}),(0,Nt.jsxs)("span",{className:"font-bold text-gray-900",children:["\u20b9",a.price]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Nt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Plan Features"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Document Analysis"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[a.features.documentAnalysisLimit," Document Analysis"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat("0 GB"!==a.features.storage?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[a.features.storage," Storage"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[a.features.scenariosAccess," Scenarios/Month"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(a.features.multiplayerAccess?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Multiplayer Access"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(a.features.customScenarios>0?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[a.features.customScenarios," Custom Scenarios/Month"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(a.features.prioritySupport?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Priority Support"})]})]})]}),(0,Nt.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,Nt.jsx)("p",{children:"By completing this purchase, you agree to our Terms of Service and Privacy Policy."})})]})]})]})]})})},rk=zt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ik=zt("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),ak=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(""),s=fe(),{user:l,token:c}=Pt();(0,t.useEffect)(()=>{l&&c||s("/login")},[l,c,s]),(0,t.useEffect)(()=>{l&&c&&(async()=>{try{i(!0);const t=await fetch("http://localhost:5000/api/cart",{headers:{Authorization:"Bearer ".concat(c)}}),r=await t.json();if(r.success){var e;const t=(null===(e=r.data.items)||void 0===e?void 0:e.map(e=>{var t;return{id:e._id||e.id,title:e.name||e.title,creator:(null===(t=e.creator)||void 0===t?void 0:t.username)||e.creator||"Unknown Creator",points:e.points||0,price:e.price||0,difficulty:e.difficulty||"Intermediate",image:e.image||""}}))||[];n(t)}else o(r.message||"Failed to fetch cart items");i(!1)}catch(t){o("Error fetching cart items: "+t.message),console.error("Error fetching cart items:",t),i(!1)}})()},[l,c]);const u=e.reduce((e,t)=>e+t.price,0),d=Math.round(.18*u),h=u-65+d;return r?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading cart..."})]})})}):a?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Cart"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:a}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})})}):(0,Nt.jsx)(Kt,{children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,Nt.jsx)("div",{className:"mb-6",children:(0,Nt.jsxs)(ft,{to:"/marketplace",className:"flex items-center text-indigo-600 hover:text-indigo-800 transition duration-300",children:[(0,Nt.jsx)(rk,{className:"w-5 h-5 mr-2"}),"Back to Marketplace"]})}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Nt.jsx)("div",{className:"lg:col-span-2",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Your Cart (",e.length,")"]}),0===e.length?(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Nt.jsx)(ik,{className:"w-10 h-10 text-gray-400"})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Add some scenarios to your cart to get started"}),(0,Nt.jsx)(ft,{to:"/marketplace",children:(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",children:"Browse Scenarios"})})]}):(0,Nt.jsx)("div",{className:"space-y-6",children:e.map(t=>(0,Nt.jsxs)("div",{className:"flex items-center border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[(0,Nt.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-20 h-20"}),(0,Nt.jsxs)("div",{className:"ml-4 flex-1",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900",children:t.title}),(0,Nt.jsxs)("p",{className:"text-gray-600 text-sm",children:[t.creator," \u2022 ",t.difficulty]}),(0,Nt.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Nt.jsxs)("span",{className:"font-bold text-indigo-600",children:[t.points," points"]}),(0,Nt.jsx)("span",{className:"mx-2 text-gray-400",children:"\u2022"}),(0,Nt.jsxs)("span",{className:"font-bold",children:["\u20b9",t.price]})]})]}),(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsx)("button",{onClick:()=>(async t=>{try{const r=await fetch("http://localhost:5000/api/cart/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(c)}}),i=await r.json();i.success?n(e.filter(e=>e.id!==t)):o(i.message||"Failed to remove item from cart")}catch(r){o("Failed to remove item from cart"),console.error("Error removing item:",r)}})(t.id),className:"text-gray-400 hover:text-red-500 transition duration-300",children:(0,Nt.jsx)(Ht,{className:"w-5 h-5"})})})]},t.id))})]})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-24",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Order Summary"}),(0,Nt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Nt.jsxs)("span",{children:["\u20b9",u]})]}),(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Discount"}),(0,Nt.jsxs)("span",{className:"text-green-600",children:["-\u20b9",65]})]}),(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,Nt.jsxs)("span",{children:["\u20b9",d]})]}),(0,Nt.jsxs)("div",{className:"border-t border-gray-200 pt-4 flex justify-between font-bold text-lg",children:[(0,Nt.jsx)("span",{children:"Total"}),(0,Nt.jsxs)("span",{children:["\u20b9",h]})]})]}),(0,Nt.jsx)(ft,{to:"/payment",children:(0,Nt.jsx)("button",{disabled:0===e.length,className:"w-full py-3 rounded-lg font-medium text-white transition duration-300 ".concat(0===e.length?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"),children:"Proceed to Payment"})}),(0,Nt.jsx)("div",{className:"mt-4 text-center",children:(0,Nt.jsx)(ft,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800 transition duration-300 font-medium",children:"Continue Shopping"})})]}),(0,Nt.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900 mb-3",children:"Points Reward"}),(0,Nt.jsxs)("p",{className:"text-gray-600 text-sm mb-4",children:["You'll receive ",e.reduce((e,t)=>e+t.points,0)," points after purchase"]}),(0,Nt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full",style:{width:"75%"}})}),(0,Nt.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"75% of the way to your next reward tier"})]})]})]})]})})};if("undefined"!==typeof document){const e=document.createElement("style");e.innerText="\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .animate-fadeIn {\n    animation: fadeIn 0.3s ease-out;\n  }\n\n  @keyframes slideInFromLeft {\n    from {\n      transform: translateX(-100%);\n    }\n    to {\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n\n  /* Scrollbar styling */\n  .custom-scrollbar::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n\n  .custom-scrollbar::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 10px;\n  }\n\n  .custom-scrollbar::-webkit-scrollbar-thumb {\n    background: #cbd5e1;\n    border-radius: 10px;\n  }\n\n  .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n    background: #94a3b8;\n  }\n",document.head.querySelector("style[data-legal-assistant]")||(e.setAttribute("data-legal-assistant","true"),document.head.appendChild(e))}const ok=()=>{const{t:e,language:n}=At(),{token:r,isTokenExpired:i,logout:a,chatHistory:o,addChatHistory:s,updateChatHistory:l,deleteChatHistory:c}=Pt(),u=fe(),d=he().state,[h,p]=(0,t.useState)([{id:"1",text:"Hello! I am your AI Legal Assistant powered by DharmaSikhara. How can I help you with your legal questions today?",sender:"ai",timestamp:new Date}]),[m,f]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)((null===d||void 0===d?void 0:d.file)||null),[_,S]=(0,t.useState)((null===d||void 0===d?void 0:d.documentContext)||""),[E,M]=(0,t.useState)((null===d||void 0===d?void 0:d.analysisResult)||null),[N,j]=(0,t.useState)("chat"),[T,A]=(0,t.useState)(null),[C,k]=(0,t.useState)(!0),P=(0,t.useRef)(null),R=(0,t.useRef)(null),O=(0,t.useRef)(null);(0,t.useEffect)(()=>{var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[h,g]),(0,t.useEffect)(()=>{if(o.length>0){const e=o[o.length-1];p(e.messages),A(e.id)}},[]),(0,t.useEffect)(()=>{if(h.length>1&&r){var e;const t=(null===(e=h[1])||void 0===e?void 0:e.text.substring(0,40))+"..."||0;if(T)l(T,h);else{const e=Date.now().toString(),n={id:e,title:t,messages:h,createdAt:new Date,updatedAt:new Date};s(n),A(e)}}},[h,r,T,s,l]);const L=async e=>{if(e){v(!0),x("");try{const t={"Content-Type":"application/json"};r&&!i()&&(t.Authorization="Bearer ".concat(r));const n="/api/ai/analyze-document",a=await fetch(n,{method:"POST",headers:t,body:JSON.stringify({documentText:e})});if(!a.ok){if(413===a.status)throw new Error("Document too large. Maximum size is 50MB.");if(503===a.status)throw new Error("AI service unavailable. Please ensure Gemini API is configured.");{const e=await a.json().catch(()=>({}));throw new Error(e.message||"Analysis failed: ".concat(a.statusText))}}const o=await a.json();if(!o.success)throw new Error(o.message||"Analysis failed");M(o.data);const s={id:Date.now().toString(),text:"\u2705 Document analyzed successfully!\n\n\ud83d\udcc4 Type: ".concat(o.data.document_type,"\n\ud83d\udcdd Length: ").concat(o.data.document_length.toLocaleString()," characters\n\ud83d\udd11 Key Terms: ").concat(o.data.key_terms.length,"\n\nYou can now ask questions about this document."),sender:"ai",timestamp:new Date,legalCategory:o.data.document_type,relatedConcepts:o.data.key_terms.slice(0,5),confidence:o.data.confidence};p(e=>[...e,s]),u("/document-summary",{state:{analysisResult:o.data,documentContext:_,file:b,fromLegalAssistant:!0}})}catch(t){console.error("Analysis error:",t),x("Analysis error: "+t.message)}finally{v(!1)}}else v(!1)},D=async()=>{if(!m.trim()||g)return;const e={id:Date.now().toString(),text:m,sender:"user",timestamp:new Date};p(t=>[...t,e]),f(""),v(!0),x("");try{const e={query:m};_&&(e.documentContext=_,e.documentAnalysis=E);const t={"Content-Type":"application/json"};r&&!i()&&(t.Authorization="Bearer ".concat(r));const n=new AbortController,a=setTimeout(()=>n.abort(),12e4),o="/api/ai/legal-assistant",s=await fetch(o,{method:"POST",headers:t,body:JSON.stringify(e),signal:n.signal});if(clearTimeout(a),!s.ok){if(503===s.status)throw new Error("AI service unavailable. Please check Gemini API configuration.");const e=await s.json().catch(()=>({}));throw new Error(e.message||"Request failed: ".concat(s.statusText))}const l=await s.json();if(!l.success)throw new Error(l.message||"Failed to get AI response");const c={id:(Date.now()+1).toString(),text:l.data.response||l.data.answer||"No response generated.",sender:"ai",timestamp:new Date,legalCategory:l.data.legalCategory,relatedConcepts:l.data.relatedConcepts,confidence:l.data.confidence,sources:l.data.sources};p(e=>[...e,c])}catch(t){console.error("Send message error:",t),"AbortError"===t.name?x("Request timeout. Please try again."):x("Error: "+t.message)}finally{v(!1)}},I=()=>{p([{id:"1",text:"Hello! I am your AI Legal Assistant. How can I help you with your legal questions today?",sender:"ai",timestamp:new Date}]),A(null),S(""),M(null),w(null),j("chat"),x("")};return(0,Nt.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 overflow-hidden",children:[(0,Nt.jsx)("button",{onClick:()=>k(!C),className:"lg:hidden fixed top-4 left-4 z-50 p-3 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C?(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Nt.jsxs)("div",{className:"".concat(C?"translate-x-0":"-translate-x-full"," lg:translate-x-0 fixed lg:relative z-40 w-80 h-full bg-white shadow-2xl flex flex-col transition-transform duration-300 ease-in-out custom-scrollbar"),children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 p-6 bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white",children:(0,Nt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Nt.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:(0,Nt.jsx)("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:"DharmaSikhara"}),(0,Nt.jsx)("p",{className:"text-blue-100 text-sm",children:"AI Legal Assistant"})]})]})}),(0,Nt.jsxs)("div",{className:"flex-shrink-0 p-4 border-b border-gray-200",children:[(0,Nt.jsx)("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Quick Actions"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("button",{onClick:()=>{var e;null===(e=R.current)||void 0===e||e.click()},disabled:g,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02]",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Document"]}),(0,Nt.jsx)("input",{type:"file",ref:R,onChange:async e=>{const t=e.target.files;if(!t||0===t.length)return;const n=t[0];w(n),v(!0),x("");try{let e="";if(n.type.startsWith("text/")||n.name.toLowerCase().endsWith(".txt"))e=await new Promise((e,t)=>{const r=new FileReader;r.onload=t=>{var n;return e((null===(n=t.target)||void 0===n?void 0:n.result)||"")},r.onerror=()=>t(new Error("Failed to read file")),r.readAsText(n)});else if("application/pdf"===n.type||n.name.toLowerCase().endsWith(".pdf")){const t=new FormData;t.append("file",n);const r="/api/account/extract-text",i=await fetch(r,{method:"POST",body:t});if(!i.ok){const e=await i.json().catch(()=>({message:"Failed to extract text"}));throw new Error(e.message||"HTTP ".concat(i.status,": ").concat(i.statusText))}const a=await i.json();if(!a.success)throw new Error(a.message||"Failed to extract PDF text");e=a.text}else if("application/vnd.openxmlformats-officedocument.wordprocessingml.document"===n.type||n.name.toLowerCase().endsWith(".docx")||"application/msword"===n.type||n.name.toLowerCase().endsWith(".doc")){const t=new FormData;t.append("file",n);const r="/api/account/extract-text",i=await fetch(r,{method:"POST",body:t});if(!i.ok){const e=await i.json().catch(()=>({message:"Failed to extract text"}));throw new Error(e.message||"HTTP ".concat(i.status,": ").concat(i.statusText))}const a=await i.json();if(!a.success)throw new Error(a.message||"Failed to extract Word document text");e=a.text}else e=await new Promise((e,t)=>{const r=new FileReader;r.onload=t=>{var n;return e((null===(n=t.target)||void 0===n?void 0:n.result)||"")},r.onerror=()=>t(new Error("Unsupported file type. Please upload PDF, TXT, DOC, or DOCX files.")),r.readAsText(n)});if(!e||0===e.trim().length)throw new Error("No text content found in the file");S(e),await L(e)}catch(r){console.error("File processing error:",r),x("File upload error: "+r.message),v(!1),w(null)}},accept:".pdf,.txt,.doc,.docx",className:"hidden"}),(0,Nt.jsxs)("button",{onClick:I,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Conversation"]})]})]}),(0,Nt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[(0,Nt.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,Nt.jsx)("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recent Chats"})}),o.length>0?(0,Nt.jsx)("div",{className:"space-y-2",children:o.slice().reverse().map(e=>(0,Nt.jsxs)("div",{className:"group p-3 rounded-xl cursor-pointer text-sm transition-all ".concat(T===e.id?"bg-blue-50 border-2 border-blue-300 shadow-sm":"hover:bg-gray-50 border-2 border-transparent hover:border-gray-200"),onClick:()=>{p(e.messages),A(e.id),j("chat"),k(!1)},children:[(0,Nt.jsx)("div",{className:"font-medium text-gray-800 truncate",children:e.title}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,Nt.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.updatedAt).toLocaleDateString()}),(0,Nt.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e.id)},className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 p-1 transition-all",children:(0,Nt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id))}):(0,Nt.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-3 opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,Nt.jsx)("p",{className:"text-sm font-medium",children:"No conversations yet"}),(0,Nt.jsx)("p",{className:"text-xs mt-1",children:"Start chatting to build history"})]})]}),_&&E&&(0,Nt.jsxs)("div",{className:"flex-shrink-0 p-4 border-t-2 border-gray-200 bg-gray-50",children:[(0,Nt.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Document Insights"]}),(0,Nt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{tab:"summary",label:"Summary",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",route:"/document-summary"},{tab:"keypoints",label:"Key Points",icon:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z",route:"/document-key-points"},{tab:"sections",label:"Sections",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",route:"/document-sections"},{tab:"document",label:"Full Doc",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",route:"/document-full"},{tab:"docchat",label:"Document Chat",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",route:"/document-chat"}].map(e=>{let{tab:t,label:n,icon:r,route:i}=e;return(0,Nt.jsxs)("button",{className:"px-3 py-2 text-xs font-medium rounded-lg transition-all ".concat(N===t?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>{u(i,{state:{analysisResult:E,documentContext:_,file:b}}),k(!1)},children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r})}),n]},t)})})]}),(0,Nt.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 bg-white",children:(0,Nt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"AI Active"]}),(0,Nt.jsx)("span",{className:"font-medium",children:"v2.1"})]})})]}),(0,Nt.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>u("/"),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Home",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{className:"ml-14 lg:ml-0",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:["Legal Assistant",g&&(0,Nt.jsxs)("span",{className:"ml-3 flex items-center text-sm font-normal text-blue-600",children:[(0,Nt.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]})]}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:_?"\ud83d\udcc4 ".concat((null===b||void 0===b?void 0:b.name)||"Document Loaded"):"Indian Law Specialist"})]})]}),T&&(0,Nt.jsxs)("button",{onClick:()=>{T&&c(T),I()},className:"hidden lg:flex items-center px-4 py-2 text-sm bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all shadow-sm",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Chat"]})]})}),(0,Nt.jsx)("div",{ref:O,className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-4 custom-scrollbar",children:"chat"===N?(0,Nt.jsxs)(Nt.Fragment,{children:[h.map(e=>(0,Nt.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"," animate-fadeIn"),children:(0,Nt.jsxs)("div",{className:"max-w-[90%] lg:max-w-3xl ".concat("user"===e.sender?"bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl rounded-br-md shadow-lg":"bg-white text-gray-800 rounded-2xl rounded-bl-md shadow-lg border border-gray-100"," p-4 lg:p-5"),children:[(0,Nt.jsx)("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:e.text}),e.sources&&e.sources.length>0&&(0,Nt.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200/50",children:[(0,Nt.jsx)("div",{className:"text-xs font-semibold mb-1 opacity-75",children:"\ud83d\udcda Sources:"}),(0,Nt.jsx)("div",{className:"text-xs opacity-75",children:e.sources.slice(0,3).join(" \u2022 ")})]}),(0,Nt.jsx)("div",{className:"text-xs mt-2 ".concat("user"===e.sender?"text-blue-100":"text-gray-400"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),g&&(0,Nt.jsx)("div",{className:"flex justify-start animate-fadeIn",children:(0,Nt.jsx)("div",{className:"bg-white rounded-2xl rounded-bl-md p-5 shadow-lg border border-gray-100",children:(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce"}),(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),(0,Nt.jsx)("div",{ref:P})]}):(0,Nt.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Document Analysis Complete"}),(0,Nt.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Document insights are now available in separate pages. Click on the tabs in the sidebar or the buttons below to view them."}),(0,Nt.jsxs)("div",{className:"flex justify-center space-x-3 flex-wrap gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>u("/document-summary",{state:{analysisResult:E,documentContext:_,file:b}}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Summary"}),(0,Nt.jsx)("button",{onClick:()=>u("/document-key-points",{state:{analysisResult:E,documentContext:_,file:b}}),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Key Points"}),(0,Nt.jsx)("button",{onClick:()=>u("/document-sections",{state:{analysisResult:E,documentContext:_,file:b}}),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Sections"})]})]})}),(0,Nt.jsxs)("div",{className:"flex-shrink-0 border-t-2 border-gray-200 p-4 lg:p-6 bg-white/90 backdrop-blur-lg",children:[y&&(0,Nt.jsxs)("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-start border border-red-200 shadow-sm animate-fadeIn",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("div",{className:"font-semibold mb-1",children:"Error"}),(0,Nt.jsx)("div",{children:y})]}),(0,Nt.jsx)("button",{onClick:()=>x(""),className:"ml-3 text-red-400 hover:text-red-600 transition",children:(0,Nt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Nt.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,Nt.jsxs)("div",{className:"flex-1 relative",children:[(0,Nt.jsx)("textarea",{value:m,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),D())},placeholder:_?"Ask about the document...":"Ask a legal question...",className:"w-full p-4 pr-16 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm transition-all hover:border-gray-400 disabled:bg-gray-100 disabled:cursor-not-allowed",rows:2,maxLength:2e3,disabled:g}),(0,Nt.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400 font-medium",children:[m.length,"/2000"]})]}),(0,Nt.jsx)("button",{onClick:D,disabled:!m.trim()||g,className:"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none",title:"Send message",children:g?(0,Nt.jsxs)("svg",{className:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),(0,Nt.jsxs)("div",{className:"mt-3 flex flex-col sm:flex-row justify-between items-start sm:items-center text-xs text-gray-500 space-y-2 sm:space-y-0",children:[(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono mr-1",children:"Enter"}),"to send \u2022",(0,Nt.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono mx-1",children:"Shift + Enter"}),"for new line"]}),_&&(0,Nt.jsxs)("span",{className:"flex items-center text-green-600 font-medium",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Document loaded: ",null===b||void 0===b?void 0:b.name]})]})]})]}),C&&(0,Nt.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30 backdrop-blur-sm",onClick:()=>k(!1)})]})},sk=()=>(0,Nt.jsx)("div",{className:"h-screen overflow-hidden",children:(0,Nt.jsx)(ok,{})}),lk=()=>{var e,t;const n=fe(),r=he(),{analysisResult:i,documentContext:a,file:o}=r.state||{};return i?(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,Nt.jsx)("div",{className:"bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>n("/legal-assistant",{state:{analysisResult:i,documentContext:a,file:o}}),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Legal Assistant",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"Document Summary"}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(null===o||void 0===o?void 0:o.name)||"Document Analysis"})]})]}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{onClick:()=>n("/document-key-points",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Key Points"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-sections",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Sections"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-full",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Full Doc"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-chat",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Document Chat"})]})]})}),(0,Nt.jsx)("div",{className:"p-4 lg:p-6 max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Document Summary"]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:(0,Nt.jsx)("p",{className:"text-gray-700 leading-relaxed text-lg",children:i.summary})}),(0,Nt.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[(0,Nt.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Document Type"}),(0,Nt.jsx)("p",{className:"text-blue-700",children:i.document_type})]}),(0,Nt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[(0,Nt.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Document Length"}),(0,Nt.jsxs)("p",{className:"text-blue-700",children:[null===(e=i.document_length)||void 0===e?void 0:e.toLocaleString()," characters"]})]}),(0,Nt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[(0,Nt.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Key Terms"}),(0,Nt.jsxs)("p",{className:"text-blue-700",children:[(null===(t=i.key_terms)||void 0===t?void 0:t.length)||0," identified"]})]})]})]})})]}):(0,Nt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Document Loaded"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please upload a document first to view the summary."}),(0,Nt.jsx)("button",{onClick:()=>n("/legal-assistant"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Legal Assistant"})]})})},ck=()=>{var e,t,n,r;const i=fe(),a=he(),{analysisResult:o,documentContext:s,file:l}=a.state||{};return o?(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,Nt.jsx)("div",{className:"bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>i("/legal-assistant",{state:{analysisResult:o,documentContext:s,file:l}}),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Legal Assistant",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"Document Key Points"}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(null===l||void 0===l?void 0:l.name)||"Document Analysis"})]})]}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{onClick:()=>i("/document-summary",{state:{analysisResult:o,documentContext:s,file:l}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Summary"}),(0,Nt.jsx)("button",{onClick:()=>i("/document-sections",{state:{analysisResult:o,documentContext:s,file:l}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Sections"}),(0,Nt.jsx)("button",{onClick:()=>i("/document-full",{state:{analysisResult:o,documentContext:s,file:l}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Full Doc"}),(0,Nt.jsx)("button",{onClick:()=>i("/document-chat",{state:{analysisResult:o,documentContext:s,file:l}}),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Document Chat"})]})]})}),(0,Nt.jsx)("div",{className:"p-4 lg:p-6 max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Key Points"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Key Terms"]}),(0,Nt.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(e=o.key_terms)||void 0===e?void 0:e.slice(0,10).map((e,t)=>(0,Nt.jsx)("span",{className:"px-3 py-2 bg-white text-blue-700 rounded-lg text-sm font-medium border border-blue-200 shadow-sm",children:e},t))})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-green-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Parties Involved"]}),(0,Nt.jsx)("p",{className:"text-sm text-green-700 leading-relaxed",children:(null===(t=o.parties_involved)||void 0===t?void 0:t.length)>0?o.parties_involved.join(", "):"No parties identified"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-purple-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Key Dates"]}),(0,Nt.jsx)("p",{className:"text-sm text-purple-700 leading-relaxed",children:(null===(n=o.key_dates)||void 0===n?void 0:n.length)>0?o.key_dates.join(", "):"No dates identified"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Monetary Values"]}),(0,Nt.jsx)("p",{className:"text-sm text-amber-700 leading-relaxed",children:(null===(r=o.monetary_values)||void 0===r?void 0:r.length)>0?o.monetary_values.join(", "):"No values identified"})]})]})]})})]}):(0,Nt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Document Loaded"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please upload a document first to view key points."}),(0,Nt.jsx)("button",{onClick:()=>i("/legal-assistant"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Legal Assistant"})]})})},uk=()=>{var e,t;const n=fe(),r=he(),{analysisResult:i,documentContext:a,file:o}=r.state||{};return i?(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,Nt.jsx)("div",{className:"bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>n("/legal-assistant",{state:{analysisResult:i,documentContext:a,file:o}}),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Legal Assistant",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"Document Sections"}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(null===o||void 0===o?void 0:o.name)||"Document Analysis"})]})]}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{onClick:()=>n("/document-summary",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Summary"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-key-points",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Key Points"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-full",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Full Doc"}),(0,Nt.jsx)("button",{onClick:()=>n("/document-chat",{state:{analysisResult:i,documentContext:a,file:o}}),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Document Chat"})]})]})}),(0,Nt.jsx)("div",{className:"p-4 lg:p-6 max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Legal Sections"}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-blue-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),"Legal Provisions"]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(e=i.legal_provisions)||void 0===e?void 0:e.slice(0,12).map((e,t)=>(0,Nt.jsx)("span",{className:"px-3 py-2 bg-white text-blue-700 rounded-lg text-sm border border-blue-200",children:e},t)),(!i.legal_provisions||0===i.legal_provisions.length)&&(0,Nt.jsx)("p",{className:"text-sm text-blue-600",children:"No legal provisions identified"})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-5 border border-red-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-red-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Risk Assessment"]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(t=i.risk_assessment)||void 0===t?void 0:t.slice(0,8).map((e,t)=>(0,Nt.jsx)("span",{className:"px-3 py-2 bg-white text-red-700 rounded-lg text-sm border border-red-200",children:e},t)),(!i.risk_assessment||0===i.risk_assessment.length)&&(0,Nt.jsx)("p",{className:"text-sm text-red-600",children:"No risks identified"})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-5 border border-indigo-200",children:[(0,Nt.jsxs)("h4",{className:"text-sm font-bold text-indigo-800 mb-3 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Document Type"]}),(0,Nt.jsx)("p",{className:"text-lg text-indigo-700 font-medium",children:i.document_type})]})]})]})})]}):(0,Nt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Document Loaded"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please upload a document first to view sections."}),(0,Nt.jsx)("button",{onClick:()=>n("/legal-assistant"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Legal Assistant"})]})})},dk=()=>{var e;const t=fe(),n=he(),{analysisResult:r,documentContext:i,file:a}=n.state||{};return i?(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,Nt.jsx)("div",{className:"bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>t("/legal-assistant",{state:{analysisResult:r,documentContext:i,file:a}}),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Legal Assistant",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"Full Document"}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(null===a||void 0===a?void 0:a.name)||"Document Content"})]})]}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{onClick:()=>t("/document-summary",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Summary"}),(0,Nt.jsx)("button",{onClick:()=>t("/document-key-points",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Key Points"}),(0,Nt.jsx)("button",{onClick:()=>t("/document-sections",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Sections"}),(0,Nt.jsx)("button",{onClick:()=>t("/document-chat",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Document Chat"})]})]})}),(0,Nt.jsx)("div",{className:"p-4 lg:p-6 max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,Nt.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Full Document Content"]}),(0,Nt.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 max-h-[70vh] overflow-y-auto custom-scrollbar",children:(0,Nt.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono leading-relaxed",children:i})}),(0,Nt.jsxs)("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[(0,Nt.jsxs)("div",{children:["Document Length: ",null===(e=i.length)||void 0===e?void 0:e.toLocaleString()," characters"]}),(0,Nt.jsxs)("div",{children:["Type: ",(null===r||void 0===r?void 0:r.document_type)||"Unknown"]})]})]})})]}):(0,Nt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Document Loaded"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please upload a document first to view the full content."}),(0,Nt.jsx)("button",{onClick:()=>t("/legal-assistant"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Legal Assistant"})]})})},hk=()=>{const e=fe(),n=he(),{analysisResult:r,documentContext:i,file:a}=n.state||{},[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),m=(0,t.useRef)(null);if((0,t.useEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[o]),!i)return(0,Nt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Document Loaded"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please upload a document first to chat about it."}),(0,Nt.jsx)("button",{onClick:()=>e("/legal-assistant"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Legal Assistant"})]})});const f=async()=>{if(!l.trim()||u)return;const e={id:Date.now().toString(),text:l,sender:"user",timestamp:new Date};s(t=>[...t,e]),c(""),d(!0),p("");try{const e={query:l,documentContext:i,documentAnalysis:r},t=await fetch("/api/ai/legal-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Request failed: ".concat(t.statusText));const n=await t.json();if(!n.success)throw new Error(n.message||"Failed to get AI response");const a={id:(Date.now()+1).toString(),text:n.data.response||n.data.answer||"No response generated.",sender:"ai",timestamp:new Date};s(e=>[...e,a])}catch(t){console.error("Send message error:",t),p("Error: "+t.message),s(e=>[...e,{id:(Date.now()+2).toString(),text:"Error: "+t.message,sender:"ai",timestamp:new Date}])}finally{d(!1)}};return(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,Nt.jsx)("div",{className:"bg-white/80 backdrop-blur-lg shadow-sm p-4 lg:p-6 border-b border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("button",{onClick:()=>e("/legal-assistant",{state:{analysisResult:r,documentContext:i,file:a}}),className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Legal Assistant",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"Document Chat"}),(0,Nt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(null===a||void 0===a?void 0:a.name)||"Document Analysis"})]})]}),(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("button",{onClick:()=>e("/document-summary",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Summary"}),(0,Nt.jsx)("button",{onClick:()=>e("/document-key-points",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Key Points"}),(0,Nt.jsx)("button",{onClick:()=>e("/document-sections",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Sections"}),(0,Nt.jsx)("button",{onClick:()=>e("/document-full",{state:{analysisResult:r,documentContext:i,file:a}}),className:"px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Full Doc"})]})]})}),(0,Nt.jsxs)("div",{className:"flex-1 flex flex-col h-[calc(100vh-140px)]",children:[(0,Nt.jsx)("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-4 custom-scrollbar",children:0===o.length?(0,Nt.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Nt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,Nt.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Document Chat"}),(0,Nt.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Ask questions about this document and the AI will answer based on its content."})]}):(0,Nt.jsxs)(Nt.Fragment,{children:[o.map(e=>(0,Nt.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,Nt.jsxs)("div",{className:"max-w-[85%] lg:max-w-3xl rounded-2xl p-4 lg:p-5 ".concat("user"===e.sender?"bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md border border-gray-200"),children:[(0,Nt.jsx)("div",{className:"whitespace-pre-wrap break-words",children:e.text}),(0,Nt.jsx)("div",{className:"text-xs mt-2 ".concat("user"===e.sender?"text-blue-100":"text-gray-400"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),u&&(0,Nt.jsx)("div",{className:"flex justify-start",children:(0,Nt.jsx)("div",{className:"bg-white rounded-2xl rounded-bl-md p-5 border border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex space-x-2",children:[(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce"}),(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,Nt.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),(0,Nt.jsx)("div",{ref:m})]})}),(0,Nt.jsxs)("div",{className:"flex-shrink-0 border-t-2 border-gray-200 p-4 lg:p-6 bg-white/90 backdrop-blur-lg",children:[h&&(0,Nt.jsxs)("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-start border border-red-200",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("div",{className:"font-semibold mb-1",children:"Error"}),(0,Nt.jsx)("div",{children:h})]}),(0,Nt.jsx)("button",{onClick:()=>p(""),className:"ml-3 text-red-400 hover:text-red-600 transition",children:(0,Nt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Nt.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,Nt.jsxs)("div",{className:"flex-1 relative",children:[(0,Nt.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Ask a question about the document...",className:"w-full p-4 pr-16 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm transition-all hover:border-gray-400 disabled:bg-gray-100 disabled:cursor-not-allowed",rows:2,maxLength:2e3,disabled:u}),(0,Nt.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400 font-medium",children:[l.length,"/2000"]})]}),(0,Nt.jsx)("button",{onClick:f,disabled:!l.trim()||u,className:"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl",title:"Send message",children:u?(0,Nt.jsxs)("svg",{className:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),(0,Nt.jsxs)("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-500",children:[(0,Nt.jsxs)("span",{children:[(0,Nt.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono",children:"Enter"}),"to send \u2022",(0,Nt.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono ml-1",children:"Shift + Enter"}),"for new line"]}),(0,Nt.jsxs)("span",{className:"text-green-600 font-medium",children:["Document loaded: ",null===a||void 0===a?void 0:a.name]})]})]})]})]})},pk=()=>{const{user:e,token:n}=Pt(),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!0),[s,l]=(0,t.useState)(""),c=fe();(0,t.useEffect)(()=>{e&&n&&(async()=>{try{o(!0);const e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:5000":window.location.origin,t=await fetch("".concat(e,"/api/account/subscription"),{headers:{Authorization:"Bearer ".concat(n)}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const r=await t.json();r.success&&i(r.data),o(!1)}catch(e){l("Error fetching profile data: "+e.message),console.error("Error fetching profile data:",e),o(!1)}})()},[e,n]);return a?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):s?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Profile"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:s}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})})}):(0,Nt.jsx)(Kt,{children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Profile"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Manage your account information and view your activity"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Nt.jsxs)("div",{className:"lg:col-span-1",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Personal Information"}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:null===e||void 0===e?void 0:e.username})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:null===e||void 0===e?void 0:e.email})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:null!==e&&void 0!==e&&e.firstName&&null!==e&&void 0!==e&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):"Not provided"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:(null===e||void 0===e?void 0:e.institution)||"Not provided"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year of Study"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:(null===e||void 0===e?void 0:e.year)||"Not provided"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:(null===e||void 0===e?void 0:e.specialization)||"Not provided"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),(0,Nt.jsx)("p",{className:"text-gray-900",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"})]})]}),(0,Nt.jsx)("div",{className:"mt-6",children:(0,Nt.jsx)("button",{className:"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>c("/account/edit-profile"),children:"Edit Profile"})})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Subscription Status"}),r?(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Nt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"free":default:return"bg-gray-100 text-gray-800";case"pro":return"bg-blue-100 text-blue-800";case"advanced":return"bg-purple-100 text-purple-800";case"premium":return"bg-yellow-100 text-yellow-800"}})(r.plan)),children:(e=>{switch(e){case"free":return"Basic Free Plan";case"pro":return"Pro Plan";case"advanced":return"Advanced Plan";case"premium":return"Premium Plan";default:return"Unknown Plan"}})(r.plan)}),(0,Nt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat("active"===r.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"Start Date"}),(0,Nt.jsx)("span",{className:"font-medium",children:new Date(r.startDate).toLocaleDateString()})]}),(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{className:"text-gray-600",children:"End Date"}),(0,Nt.jsx)("span",{className:"font-medium",children:new Date(r.endDate).toLocaleDateString()})]}),(0,Nt.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,Nt.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Plan Features"}),(0,Nt.jsxs)("ul",{className:"space-y-2",children:[(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.documentAnalysis?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Document Analysis"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.scenariosAccess>0?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[r.features.scenariosAccess," Scenarios/Month"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.documentAnalysisLimit&&"0 per week"!==r.features.documentAnalysisLimit&&"0 per month"!==r.features.documentAnalysisLimit?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[r.features.documentAnalysisLimit," Document Analysis"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.storage&&"0 GB"!==r.features.storage?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[r.features.storage," Storage"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.multiplayerAccess?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Multiplayer Access"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.customScenarios>0?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[r.features.customScenarios," Custom Scenarios/Month"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(r.features.legalAssistantTokens&&"Limited"!==r.features.legalAssistantTokens?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[r.features.legalAssistantTokens," Legal Assistant Tokens"]})]})]})]})]}),(0,Nt.jsx)("div",{className:"mt-6",children:(0,Nt.jsx)(ft,{to:"/account/subscription",children:(0,Nt.jsx)("button",{className:"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",children:"Manage Subscription"})})})]}):(0,Nt.jsx)("div",{className:"text-center py-4",children:(0,Nt.jsx)("p",{className:"text-gray-600",children:"No subscription found"})})]})]}),(0,Nt.jsx)("div",{className:"lg:col-span-2",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recent Activity"}),(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No recent activity"}),(0,Nt.jsx)("p",{className:"text-gray-500",children:"Your recent actions will appear here"})]})]})})]})]})})},mk=()=>{const{user:e,token:n}=Pt(),r=fe(),[i,a]=(0,t.useState)([]),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)("");(0,t.useEffect)(()=>{e&&n&&(async()=>{try{c(!0),d("");const e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:5000":window.location.origin,t=await fetch("".concat(e,"/api/payments/plans"),{headers:{Authorization:"Bearer ".concat(n)}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const r=await t.json();r.success&&a(r.data);const i=await fetch("".concat(e,"/api/account/subscription"),{headers:{Authorization:"Bearer ".concat(n)}});if(!i.ok)throw new Error("HTTP error! status: ".concat(i.status));const o=await i.json();o.success&&s(o.data),c(!1)}catch(e){d("Error fetching data: "+e.message),console.error("Error fetching data:",e),c(!1)}})()},[e,n]);const m=e=>{switch(e){case"free":default:return"border-gray-200";case"basic":return"border-blue-200 bg-blue-50";case"standard":return"border-purple-200 bg-purple-50";case"premium":return"border-yellow-200 bg-yellow-50"}},f=e=>{switch(e){case"free":default:return"bg-gray-600 hover:bg-gray-700";case"basic":return"bg-blue-600 hover:bg-blue-700";case"standard":return"bg-purple-600 hover:bg-purple-700";case"premium":return"bg-yellow-500 hover:bg-yellow-600"}},g=e=>(null===o||void 0===o?void 0:o.plan)===e;return l?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Loading subscription plans..."})]})})}):u?(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Nt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Plans"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-4",children:u}),(0,Nt.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-medium",onClick:()=>window.location.reload(),children:"Try Again"})]})})}):(0,Nt.jsx)(Kt,{children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsxs)(ft,{to:"/account/profile",className:"flex items-center text-indigo-600 hover:text-indigo-800 transition duration-300 mb-4",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Profile"]}),(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Plans"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Choose the plan that best fits your needs"})]}),h&&(0,Nt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,Nt.jsx)("p",{className:"text-green-700",children:h})}),u&&(0,Nt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,Nt.jsx)("p",{className:"text-red-700",children:u})}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:i.map(e=>(0,Nt.jsxs)("div",{className:"rounded-xl shadow-lg p-6 border-2 ".concat(m(e.id)," ").concat(g(e.id)?"ring-2 ring-indigo-500":""),children:[g(e.id)&&(0,Nt.jsx)("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-bold px-3 py-1 rounded-full inline-block mb-3",children:"CURRENT PLAN"}),(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),(0,Nt.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["\u20b9",e.price]}),(0,Nt.jsxs)("span",{className:"text-gray-600",children:["/",e.period]})]}),(0,Nt.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(e.features.documentAnalysis?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Document Analysis"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(e.features.scenariosAccess>0?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[e.features.scenariosAccess," Scenarios/Month"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(e.features.documentAnalysisLimit&&"0 per week"!==e.features.documentAnalysisLimit&&"0 per month"!==e.features.documentAnalysisLimit?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[e.features.documentAnalysisLimit," Document Analysis"]})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(e.features.multiplayerAccess?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsx)("span",{children:"Multiplayer Access"})]}),(0,Nt.jsxs)("li",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 ".concat(e.features.legalAssistantTokens&&"Limited"!==e.features.legalAssistantTokens?"text-green-500":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Nt.jsxs)("span",{children:[e.features.legalAssistantTokens," Legal Assistant Tokens"]})]})]}),g(e.id)?(0,Nt.jsx)("button",{disabled:!0,className:"w-full py-3 rounded-lg font-medium text-white bg-gray-400 cursor-not-allowed",children:"Current Plan"}):(0,Nt.jsx)("button",{onClick:()=>r("/account/payment?plan=".concat(e.id)),className:"w-full py-3 rounded-lg font-medium text-white transition duration-300 ".concat(f(e.id)),children:"free"===e.id?"Select Plan":"Upgrade"})]},e.id))}),o&&(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Current Subscription"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Nt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Nt.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Plan"}),(0,Nt.jsx)("p",{className:"text-gray-600 capitalize",children:o.plan})]}),(0,Nt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Nt.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Status"}),(0,Nt.jsx)("p",{className:"text-gray-600 capitalize",children:o.status})]}),(0,Nt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Nt.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Renewal Date"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:new Date(o.endDate).toLocaleDateString()})]})]})]})]})})},fk=()=>{const{user:e,token:n,login:r}=Pt(),i=fe(),[a,o]=(0,t.useState)({firstName:"",lastName:"",institution:"",year:"",specialization:""}),[s,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e&&o({firstName:e.firstName||"",lastName:e.lastName||"",institution:e.institution||"",year:e.year||"",specialization:e.specialization||""})},[e]);const m=e=>{o(u(u({},a),{},{[e.target.name]:e.target.value}))};return(0,Nt.jsx)(Kt,{children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsx)("div",{className:"mb-6",children:(0,Nt.jsxs)(ft,{to:"/account/profile",className:"flex items-center text-indigo-600 hover:text-indigo-800 transition duration-300",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Profile"]})}),(0,Nt.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,Nt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Edit Profile"}),(0,Nt.jsx)("p",{className:"text-gray-600 mb-6",children:"Update your personal information"}),h?(0,Nt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Nt.jsx)("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"Profile Updated Successfully!"}),(0,Nt.jsx)("p",{className:"text-green-700",children:"Redirecting to your profile..."})]}):(0,Nt.jsx)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),d(""),p(!1);try{const t="http://localhost:5000",o=await fetch("".concat(t,"/api/account/profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(a)}),s=await o.json();if(s.success){if(p(!0),e){const t=u(u({},e),s.data);r(t,n||"")}setTimeout(()=>{i("/account/profile")},2e3)}else d(s.message||"Failed to update profile")}catch(o){d("Failed to update profile: "+o.message),console.error("Update error:",o)}finally{l(!1)}},children:(0,Nt.jsxs)("div",{className:"space-y-6",children:[(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,Nt.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:a.firstName,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your first name"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,Nt.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:a.lastName,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your last name"})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"institution",className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution"}),(0,Nt.jsx)("input",{type:"text",id:"institution",name:"institution",value:a.institution,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your institution name"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year of Study"}),(0,Nt.jsx)("input",{type:"text",id:"year",name:"year",value:a.year,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your year of study"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization"}),(0,Nt.jsx)("input",{type:"text",id:"specialization",name:"specialization",value:a.specialization,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your specialization"})]}),c&&(0,Nt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Nt.jsx)("p",{className:"text-red-700 text-sm",children:c})}),(0,Nt.jsxs)("div",{className:"flex space-x-4",children:[(0,Nt.jsx)(ft,{to:"/account/profile",children:(0,Nt.jsx)("button",{type:"button",className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-300 font-medium",children:"Cancel"})}),(0,Nt.jsx)("button",{type:"submit",disabled:s,className:"flex-1 py-3 px-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-300 font-medium disabled:opacity-50",children:s?"Updating...":"Update Profile"})]})]})})]})})]})})},gk=zt("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),vk=zt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yk=zt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),xk=zt("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),bk=zt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),wk=zt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),_k=zt("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Sk=zt("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ek=zt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Mk=zt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Nk=zt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),jk=zt("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Tk=zt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ak=()=>{const e=fe(),{user:n}=Pt(),[r,i]=(0,t.useState)({caseOverview:!0,characters:!1,evidence:!1,timeline:!1}),[a,o]=(0,t.useState)({started:!1,currentStage:null,completedStages:[],lastAccessed:null});(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await fn("the-inventory-that-changed-everything");e&&t&&o({started:!0,currentStage:t.currentStage||null,completedStages:t.completedStages||[],lastAccessed:t.lastAccessed||null})}catch(t){if(e){console.error("Error fetching progress:",t);const e=localStorage.getItem("scenario-progress-the-inventory-that-changed-everything");if(e)try{const t=JSON.parse(e);o(t)}catch(n){console.error("Error parsing saved progress:",n)}}}})(),()=>{e=!1}},[]);const s=e=>{i(t=>u(u({},t),{},{[e]:!t[e]}))},l={id:"the-inventory-that-changed-everything",title:"The Inventory That Changed Everything",subtitle:"A Criminal Law Case Study",description:"A warehouse manager is accused of stealing a company laptop. As his defense attorney, you must investigate the inconsistencies in the evidence and build a compelling case for bail.",difficulty:"Intermediate",duration:"45-60 min",category:"Criminal Law",image:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",rating:4.8,reviewCount:127,completionRate:76,tags:["Criminal Law","Evidence Analysis","Bail Application","Cross-examination"],learningObjectives:["Develop client interviewing techniques","Analyze digital evidence and CCTV footage","Draft compelling bail applications","Understand inventory management legal issues"],skillsPracticed:["Client Counseling","Evidence Review","Legal Writing","Case Strategy"],stages:[{id:1,icon:"\ud83d\udc64",name:"Client Counseling",duration:"10-15 min",description:"Meet Rajesh Kumar in custody and gather his version of events",skills:["Active Listening","Rapport Building","Fact Gathering"],completed:a.completedStages.includes("client-interview")},{id:2,icon:"\ud83d\udd0d",name:"Evidence Analysis",duration:"8-12 min",description:"Review CCTV footage, inventory logs, and digital records",skills:["Critical Thinking","Pattern Recognition","Legal Research"],completed:a.completedStages.includes("digital-evidence")},{id:3,icon:"\ud83d\udcdd",name:"Bail Application Draft",duration:"5-8 min",description:"Prepare written bail application citing relevant precedents",skills:["Legal Writing","Precedent Citation","Argumentation"],completed:a.completedStages.includes("bail-draft")},{id:4,icon:"\u2696\ufe0f",name:"Court Hearing",duration:"12-18 min",description:"Present oral arguments before the magistrate",skills:["Oral Advocacy","Quick Thinking","Professional Conduct"],completed:a.completedStages.includes("court-hearing")},{id:5,icon:"\ud83c\udf93",name:"Legal Assessment",duration:"20-30 min",description:"Complete competency assessment to evaluate legal knowledge and skills",skills:["Legal Knowledge","Case Analysis","Ethical Judgment","Argumentation"],completed:!1}],characters:[{name:"Rajesh Kumar",role:"Defendant",age:32,avatar:"\ud83d\udc64",personality:"Sales executive accused of theft. Claims innocence and proper procedure.",keyFacts:["Warehouse supervisor at TechDistributors","Wife and 2-year-old daughter","No criminal record","Claims he properly locked warehouse"],interactionType:"AI Conversation",voiceEnabled:!0},{name:"Defense Attorney",role:"You",age:35,avatar:"\ud83d\udc64\u2696\ufe0f",personality:"Assigned to represent the defendant and uncover the truth.",keyFacts:["Criminal defense specialist","Experienced in circumstantial evidence cases","Dedicated to client advocacy"],interactionType:"AI Conversation",voiceEnabled:!0},{name:"State Prosecutor",role:"Prosecutor",age:45,avatar:"\ud83d\udc68\u200d\u2696\ufe0f",personality:"Representing the state with circumstantial evidence against Rajesh.",keyArguments:["CCTV shows accused with object","High-value theft (\u20b92,50,000)","Investigation ongoing","Employee breach of trust"],interactionType:"AI Conversation",voiceEnabled:!0},{name:"Prakash Mehta",role:"Key Witness",age:34,avatar:"\ud83d\udc64\u2753",personality:"Colleague who was present during the inventory check.",testimony:"Was present during inventory but didn't see what went into bag",interactionType:"Optional Interview",voiceEnabled:!0},{name:"Mr. Desai",role:"Complainant",age:50,avatar:"\ud83d\udc64\u2013\ud83d\udcbc",personality:"Store manager who reported the incident.",keyFacts:["Reports the missing inventory","Has access to storage room","Key figure in investigation"],interactionType:"AI Conversation",voiceEnabled:!0},{name:"Ramesh Kumar",role:"Surety",age:58,avatar:"\ud83d\udc64\u2013\ud83d\udc74",personality:"Rajesh's father who offers to be a surety.",keyFacts:["Retired government employee","Willing to provide financial guarantee","Strong family values"],interactionType:"Optional Interview",voiceEnabled:!1},{name:"Arjun Rao",role:"Surety",age:38,avatar:"\ud83d\udc64\u2013\ud83d\udc68",personality:"Rajesh's brother-in-law who offers to be a surety.",keyFacts:["Business owner","Willing to provide financial guarantee","Close family connection"],interactionType:"Optional Interview",voiceEnabled:!1}],evidenceItems:[{id:1,name:"CCTV Footage",type:"video",icon:"\ud83d\udcfa",description:"Hallway camera shows Rajesh placing rectangular object in bag",quality:"Low resolution, high angle",available:!0,critical:!0},{id:2,name:"Digital Inventory Log",type:"document",icon:"\ud83d\udcc4",description:'Laptop marked "dispatched to service center" at 9:47 AM',anomaly:"No service ticket exists",available:!0,critical:!0},{id:3,name:"Access Records",type:"document",icon:"\ud83d\udd11",description:"Employee entry/exit logs for storage room",available:!0,critical:!1},{id:4,name:"Phone Charger",type:"physical",icon:"\ud83d\udd0c",description:"Rajesh's black charger in hard plastic case",available:!1,critical:!0}],caseFile:{title:"The Inventory That Changed Everything",chapters:[{id:1,title:"A Routine Morning",content:'October 15, 2025, began like any other for Rajesh Kumar. He woke at 6:00 a.m. in his small but tidy apartment in Basavanagudi, Bangalore. His two-year-old daughter, Ananya, was already babbling in her crib. His wife, Priya, handed him a steaming cup of tea and reminded him: "Don\'t forget\u2014inventory day today."\n          \n          Rajesh smiled. "I\'ve done it a dozen times. Nothing to worry about."\n          \n          For four years, Rajesh had worked as a sales executive at Vijay Electronics, a well-known local chain that sold everything from smartphones to home appliances. He wasn\'t management, but he was trusted\u2014punctual, honest, and always willing to help during audits. His boss often said, "If Rajesh says it\'s there, it\'s there."\n          \n          That morning, he wore his usual attire: pressed trousers, a light blue shirt, and his company ID clipped to his pocket. Slung over his shoulder was a dark navy fabric bag\u2014a gift from Priya on their wedding anniversary. Inside: his lunchbox, a water bottle, and a slim black mobile charger in a hard plastic case.'},{id:2,title:"The Inventory Room",content:'At 10:45 a.m., Rajesh reported to the first-floor storage room. The monthly inventory had begun. This month, the focus was on high-value IT assets, including five new laptops purchased for the marketing team. One of them\u2014a Dell Inspiron valued at \u20b945,000\u2014had just been unboxed the day before.\n          \n          Rajesh was paired with Prakash Mehta, a colleague of six years. They worked in comfortable silence, scanning barcodes and ticking off items on a printed sheet. At 11:02 a.m., Rajesh bent down to pick up his charger, which had slipped from his bag when he set it on the floor.\n          \n          "Careful," Prakash joked. "Don\'t lose your lifeline!"\n          \n          Rajesh chuckled and dropped the charger back into his bag. The entire motion took less than three seconds.\n          \n          Unbeknownst to them, a ceiling-mounted CCTV camera in the hallway\u2014meant to monitor access to the storage room\u2014captured the moment. Due to its high angle and low resolution, the charger\'s hard case appeared rectangular and substantial, almost like a slim laptop.'}]},timeline:[{time:"9:12 AM",event:"Manager Desai enters storage room alone",suspicious:!0},{time:"9:47 AM",event:'Laptop marked "dispatched" in digital log',suspicious:!0},{time:"10:45 AM",event:"Inventory check begins",suspicious:!1},{time:"11:03 AM",event:"Rajesh enters storage with Prakash",suspicious:!1},{time:"11:17 AM",event:"Rajesh exits (CCTV captures bag incident)",suspicious:!1},{time:"2:00 PM",event:"Laptop reported missing",suspicious:!1},{time:"Oct 16, 7:30 AM",event:"Rajesh arrested at home",suspicious:!1}]},c=()=>{o(e=>u(u({},e),{},{started:!0,currentStage:"simulation-entrance",lastAccessed:(new Date).toISOString()})),e("/simulation-entrance")},d=()=>{e("/simulation-entrance")},h=()=>{if(window.confirm("Are you sure you want to reset your progress for this scenario?")){const e={started:!1,currentStage:null,completedStages:[],lastAccessed:null},t={currentStage:"",progress:0,completedStages:[],lastUpdated:(new Date).toISOString(),totalTimeSpent:0,assessmentScore:null,feedback:""};o(e),mn("the-inventory-that-changed-everything",t).catch(e=>{console.error("Error saving reset progress to backend:",e)})}},p=e=>{let t={scenarioId:"the-inventory-that-changed-everything",currentStage:e,completedStages:[]};switch(e){case"client-interview":t.completedStages=[];break;case"digital-evidence":t.completedStages=["client-interview"];break;case"bail-draft":t.completedStages=["client-interview","digital-evidence"];break;case"court-hearing":t.completedStages=["client-interview","digital-evidence","bail-draft"]}localStorage.setItem("scenario-progress-the-inventory-that-changed-everything",JSON.stringify(t)),alert("Progress simulated for: ".concat(e))};return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:(0,Nt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Nt.jsxs)("button",{onClick:()=>e("/scenarios"),className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 mb-6 transition group",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Scenarios"]}),(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl overflow-hidden mb-8",children:(0,Nt.jsx)("div",{className:"p-8 md:p-12",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Nt.jsxs)("span",{className:"inline-flex items-center bg-white bg-opacity-20 text-white text-sm font-medium px-3 py-1 rounded-full",children:[(0,Nt.jsx)($t,{className:"w-4 h-4 mr-2"}),"Featured Scenario"]}),(0,Nt.jsxs)("span",{className:"inline-flex items-center bg-green-500 bg-opacity-90 text-white text-sm font-medium px-3 py-1 rounded-full",children:[(0,Nt.jsx)(gk,{className:"w-4 h-4 mr-2"}),"Voice Enabled"]})]}),(0,Nt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-3",children:l.title}),(0,Nt.jsx)("h2",{className:"text-xl text-indigo-100 mb-4",children:l.subtitle}),(0,Nt.jsx)("p",{className:"text-indigo-100 text-lg leading-relaxed mb-6",children:l.description}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-6 text-white",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(cn,{className:"w-5 h-5 mr-2"}),(0,Nt.jsx)("span",{className:"font-semibold",children:l.duration})]}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(un,{className:"w-5 h-5 mr-2 fill-yellow-300 text-yellow-300"}),(0,Nt.jsxs)("span",{className:"font-semibold",children:[l.rating," (",l.reviewCount," reviews)"]})]}),(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(vk,{className:"w-5 h-5 mr-2"}),(0,Nt.jsxs)("span",{className:"font-semibold",children:[l.completionRate,"% completion rate"]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20 min-w-[280px]",children:[(0,Nt.jsxs)("div",{className:"text-white text-center mb-4",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfad"}),(0,Nt.jsx)("div",{className:"text-2xl font-bold mb-1",children:"Ready to Begin?"}),(0,Nt.jsx)("div",{className:"text-sm opacity-90",children:"Interactive AI Simulation"})]}),a.started?(0,Nt.jsxs)("button",{onClick:d,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4 rounded-xl font-bold text-lg hover:from-amber-600 hover:to-orange-600 transition duration-300 flex items-center justify-center shadow-xl hover:shadow-2xl transform hover:-translate-y-1 mb-3",children:[(0,Nt.jsx)(yk,{className:"w-6 h-6 mr-2"}),"Continue Progress"]}):(0,Nt.jsxs)("button",{onClick:c,className:"w-full bg-white text-indigo-600 px-6 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition duration-300 flex items-center justify-center shadow-xl hover:shadow-2xl transform hover:-translate-y-1 mb-3",children:[(0,Nt.jsx)(xk,{className:"w-6 h-6 mr-2"}),"Start Simulation"]}),(0,Nt.jsx)(ft,{to:"/scenario-simulation",children:(0,Nt.jsxs)("button",{className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-4 rounded-xl font-bold text-lg hover:from-pink-600 hover:to-purple-700 transition duration-300 flex items-center justify-center shadow-xl hover:shadow-2xl transform hover:-translate-y-1 mb-3",children:[(0,Nt.jsx)(Yt,{className:"w-6 h-6 mr-2"}),"View Detailed Case Files"]})}),(0,Nt.jsx)("div",{className:"text-center text-white text-xs opacity-75",children:"\u26a1 Instant access \u2022 No downloads required"})]})]})})}),a.started&&(0,Nt.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)(bk,{className:"w-5 h-5 text-amber-600 mr-2"}),(0,Nt.jsxs)("span",{className:"font-medium text-amber-800",children:["Progress saved: ",a.lastAccessed?"Last accessed ".concat(new Date(a.lastAccessed).toLocaleDateString()):"Started recently"]})]}),(0,Nt.jsxs)("button",{onClick:h,className:"text-amber-700 hover:text-amber-900 text-sm flex items-center",children:[(0,Nt.jsx)(yk,{className:"w-4 h-4 mr-1"}),"Reset Progress"]})]}),(0,Nt.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>p("client-interview"),className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Simulate Client Counseling"}),(0,Nt.jsx)("button",{onClick:()=>p("digital-evidence"),className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Simulate Digital Evidence"}),(0,Nt.jsx)("button",{onClick:()=>p("bail-draft"),className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Simulate Bail Draft"})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[(0,Nt.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,Nt.jsx)(wk,{className:"w-8 h-8 text-indigo-600 mr-3"}),"Simulation Stages"]}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.stages.map((e,t)=>(0,Nt.jsxs)("div",{className:"relative bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border-2 border-indigo-200 hover:border-indigo-400 transition-all hover:shadow-lg group",children:[(0,Nt.jsx)("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:e.id}),e.completed?(0,Nt.jsx)("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center",children:(0,Nt.jsx)(vk,{className:"w-5 h-5"})}):(0,Nt.jsx)("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-gray-300 text-white rounded-full flex items-center justify-center",children:(0,Nt.jsx)(ln,{className:"w-4 h-4"})}),(0,Nt.jsx)("div",{className:"text-5xl mb-4 text-center group-hover:scale-110 transition-transform",children:e.icon}),(0,Nt.jsx)("h3",{className:"font-bold text-gray-900 text-lg mb-2 text-center",children:e.name}),(0,Nt.jsxs)("div",{className:"text-indigo-600 text-sm font-medium mb-3 text-center flex items-center justify-center",children:[(0,Nt.jsx)(cn,{className:"w-4 h-4 mr-1"}),e.duration]}),(0,Nt.jsx)("p",{className:"text-gray-700 text-sm mb-4 text-center",children:e.description}),(0,Nt.jsx)("div",{className:"space-y-1",children:e.skills.map((e,t)=>(0,Nt.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-indigo-400 text-indigo-400 mr-2"}),e]},t))}),(0,Nt.jsx)("div",{className:"mt-4 pt-4 border-t border-indigo-200",children:(0,Nt.jsx)("span",{className:"inline-flex items-center text-xs bg-white px-3 py-1 rounded-full border border-indigo-200",children:e.completed?"\u2713 Completed":"Unlocks in sequence"})})]},e.id))})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Nt.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsxs)("button",{onClick:()=>s("characters"),className:"w-full flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Nt.jsx)(Sk,{className:"w-6 h-6 text-indigo-600 mr-3"}),"AI Characters You'll Interact With"]}),r.characters?(0,Nt.jsx)(Ek,{className:"w-6 h-6 text-gray-400"}):(0,Nt.jsx)(Mk,{className:"w-6 h-6 text-gray-400"})]}),r.characters&&(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.characters.map((e,t)=>(0,Nt.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-5 hover:border-indigo-300 transition-all hover:shadow-md",children:[(0,Nt.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Nt.jsx)("div",{className:"text-4xl",children:e.avatar}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),(0,Nt.jsx)("div",{className:"text-indigo-600 text-sm font-medium",children:e.role}),e.age&&(0,Nt.jsxs)("div",{className:"text-gray-500 text-xs",children:["Age: ",e.age]})]}),e.voiceEnabled&&(0,Nt.jsxs)("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full flex items-center",children:[(0,Nt.jsx)(gk,{className:"w-3 h-3 mr-1"}),"Voice"]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[(0,Nt.jsx)("div",{className:"text-xs text-gray-600 font-medium mb-2",children:"Personality:"}),(0,Nt.jsx)("div",{className:"text-sm text-gray-800",children:e.personality})]}),e.keyFacts&&(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Key Facts:"}),e.keyFacts.map((e,t)=>(0,Nt.jsxs)("div",{className:"flex items-start text-xs text-gray-700",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-indigo-400 text-indigo-400 mr-2 mt-1 flex-shrink-0"}),e]},t))]}),e.keyArguments&&(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Will Argue:"}),e.keyArguments.map((e,t)=>(0,Nt.jsxs)("div",{className:"flex items-start text-xs text-gray-700",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-red-400 text-red-400 mr-2 mt-1 flex-shrink-0"}),e]},t))]}),(0,Nt.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,Nt.jsx)("span",{className:"inline-flex items-center text-xs bg-indigo-50 text-indigo-700 px-2 py-1 rounded",children:e.interactionType})})]},t))})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsxs)("button",{onClick:()=>s("evidence"),className:"w-full flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Nt.jsx)(sn,{className:"w-6 h-6 text-indigo-600 mr-3"}),"Evidence to Analyze"]}),r.evidence?(0,Nt.jsx)(Ek,{className:"w-6 h-6 text-gray-400"}):(0,Nt.jsx)(Mk,{className:"w-6 h-6 text-gray-400"})]}),r.evidence&&(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.evidenceItems.map(e=>(0,Nt.jsxs)("div",{className:"border-2 rounded-xl p-4 ".concat(e.critical?"border-amber-300 bg-amber-50":"border-gray-200 bg-gray-50"),children:[(0,Nt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Nt.jsx)("div",{className:"text-3xl",children:e.icon}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,Nt.jsx)("div",{className:"text-gray-600 text-xs",children:e.type})]}),e.critical&&(0,Nt.jsx)("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"CRITICAL"})]}),(0,Nt.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),e.anomaly&&(0,Nt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 mb-2",children:(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)(Nk,{className:"w-4 h-4 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),(0,Nt.jsx)("span",{className:"text-xs text-red-700",children:e.anomaly})]})}),(0,Nt.jsx)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-300",children:(0,Nt.jsx)("span",{className:"text-xs text-gray-600",children:e.available?"\u2713 Available to review":"\u2717 Not yet available"})})]},e.id))})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsxs)("button",{onClick:()=>s("caseOverview"),className:"w-full flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Nt.jsx)(Qt,{className:"w-6 h-6 text-indigo-600 mr-3"}),"Case File: ",l.caseFile.title]}),r.caseOverview?(0,Nt.jsx)(Ek,{className:"w-6 h-6 text-gray-400"}):(0,Nt.jsx)(Mk,{className:"w-6 h-6 text-gray-400"})]}),r.caseOverview&&(0,Nt.jsxs)("div",{className:"space-y-6",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-l-4 border-indigo-500 p-5 rounded-r-xl",children:[(0,Nt.jsx)("h3",{className:"font-bold text-lg text-indigo-900 mb-2",children:"Case Summary"}),(0,Nt.jsx)("p",{className:"text-gray-700",children:l.description})]}),(0,Nt.jsxs)("div",{className:"border-2 border-amber-200 rounded-xl overflow-hidden",children:[(0,Nt.jsxs)("div",{className:"bg-amber-500 text-white p-4 flex items-center",children:[(0,Nt.jsx)(jk,{className:"w-5 h-5 mr-2"}),(0,Nt.jsx)("h3",{className:"font-bold text-lg",children:"Confidential Case File"}),(0,Nt.jsx)("span",{className:"ml-auto bg-white bg-opacity-20 px-2 py-1 rounded text-sm",children:"CLASSIFIED"})]}),(0,Nt.jsxs)("div",{className:"p-5 bg-gradient-to-b from-amber-50 to-white",children:[(0,Nt.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:l.caseFile.chapters.map((e,t)=>(0,Nt.jsxs)("button",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm hover:bg-indigo-200 transition",children:["Chapter ",e.id,": ",e.title]},e.id))}),(0,Nt.jsxs)("div",{className:"prose max-w-none",children:[(0,Nt.jsxs)("h4",{className:"text-indigo-800 border-b border-indigo-200 pb-2 mb-4",children:["Chapter 1: ",l.caseFile.chapters[0].title]}),(0,Nt.jsx)("p",{className:"text-gray-700 mb-4",children:l.caseFile.chapters[0].content.split("\n")[0]}),(0,Nt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[(0,Nt.jsx)("p",{className:"text-blue-800 italic",children:'"I\'ve done it a dozen times. Nothing to worry about."'}),(0,Nt.jsx)("p",{className:"text-blue-700 text-sm mt-2",children:"\u2014 Rajesh Kumar's response to his wife"})]}),(0,Nt.jsx)("p",{className:"text-gray-700 mb-4",children:l.caseFile.chapters[0].content.split("\n")[4]}),(0,Nt.jsxs)("div",{className:"flex items-center justify-center my-6",children:[(0,Nt.jsx)("div",{className:"border-t border-gray-300 flex-grow"}),(0,Nt.jsx)("span",{className:"mx-4 text-gray-500 italic",children:"Continued in Simulation..."}),(0,Nt.jsx)("div",{className:"border-t border-gray-300 flex-grow"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,Nt.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,Nt.jsxs)("h5",{className:"font-bold text-indigo-800 mb-2 flex items-center",children:[(0,Nt.jsx)(Tk,{className:"w-4 h-4 mr-2"}),"Key Facts"]}),(0,Nt.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-indigo-500 text-indigo-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"Rajesh has 4 years clean record"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-indigo-500 text-indigo-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"\u20b945,000 laptop went missing"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-indigo-500 text-indigo-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"CCTV shows bag incident at 11:03 AM"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[(0,Nt.jsxs)("h5",{className:"font-bold text-amber-800 mb-2 flex items-center",children:[(0,Nt.jsx)(Nk,{className:"w-4 h-4 mr-2"}),"Suspicious Points"]}),(0,Nt.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-amber-500 text-amber-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:'Laptop marked "dispatched" at 9:47 AM'})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-amber-500 text-amber-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"No service center record exists"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-amber-500 text-amber-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"Charger mistaken for laptop?"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,Nt.jsxs)("h5",{className:"font-bold text-green-800 mb-2 flex items-center",children:[(0,Nt.jsx)($t,{className:"w-4 h-4 mr-2"}),"Defense Opportunities"]}),(0,Nt.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-green-500 text-green-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"Strong family ties, no flight risk"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-green-500 text-green-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"Passport surrendered voluntarily"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)(_k,{className:"w-2 h-2 fill-green-500 text-green-500 mr-2 mt-1.5"}),(0,Nt.jsx)("span",{children:"Colleague supports his innocence"})]})]})]})]})]})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center border border-gray-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:"001"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-600",children:"Case ID"})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center border border-gray-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:"IPC 379"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-600",children:"Section"})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center border border-gray-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:"\u20b945,000"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-600",children:"Value"})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center border border-gray-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:"Oct 16"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-600",children:"Arrest Date"})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsxs)("button",{onClick:()=>s("timeline"),className:"w-full flex items-center justify-between mb-4",children:[(0,Nt.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Nt.jsx)(cn,{className:"w-6 h-6 text-indigo-600 mr-3"}),"Case Timeline"]}),r.timeline?(0,Nt.jsx)(Ek,{className:"w-6 h-6 text-gray-400"}):(0,Nt.jsx)(Mk,{className:"w-6 h-6 text-gray-400"})]}),r.timeline&&(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("div",{className:"absolute left-5 top-3 bottom-3 w-0.5 bg-gradient-to-b from-indigo-400 via-purple-400 to-pink-400"}),l.timeline.map((e,t)=>(0,Nt.jsxs)("div",{className:"relative flex items-start gap-4 mb-8 last:mb-0",children:[(0,Nt.jsx)("div",{className:"relative z-10 w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 border-4 ".concat(e.suspicious?"bg-red-100 border-red-500 text-red-700":"bg-indigo-100 border-indigo-500 text-indigo-700"," font-bold"),children:t+1}),(0,Nt.jsxs)("div",{className:"flex-1 rounded-xl p-5 shadow-sm ".concat(e.suspicious?"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200":"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200"),children:[(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[(0,Nt.jsx)("span",{className:"font-bold text-lg",children:e.time}),e.suspicious&&(0,Nt.jsx)("span",{className:"bg-red-500 text-white text-xs px-3 py-1 rounded-full",children:"SUSPICIOUS"})]}),(0,Nt.jsx)("p",{className:"text-gray-800",children:e.event})]})]},t))]})]})]}),(0,Nt.jsxs)("div",{className:"space-y-6",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:[(0,Nt.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Scenario at a Glance"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsx)("span",{className:"text-indigo-100",children:"Difficulty"}),(0,Nt.jsx)("span",{className:"font-bold",children:l.difficulty})]}),(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsx)("span",{className:"text-indigo-100",children:"Duration"}),(0,Nt.jsx)("span",{className:"font-bold",children:l.duration})]}),(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsx)("span",{className:"text-indigo-100",children:"Stages"}),(0,Nt.jsxs)("span",{className:"font-bold",children:[l.stages.length," Interactive"]})]}),(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsx)("span",{className:"text-indigo-100",children:"AI Characters"}),(0,Nt.jsx)("span",{className:"font-bold",children:l.characters.filter(e=>e.interactionType.includes("AI")).length})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Nt.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[a.started?(0,Nt.jsxs)("button",{onClick:d,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition flex items-center justify-center",children:[(0,Nt.jsx)(yk,{className:"w-5 h-5 mr-2"}),"Continue Progress"]}):(0,Nt.jsxs)("button",{onClick:c,className:"w-full bg-indigo-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center justify-center",children:[(0,Nt.jsx)(qC,{className:"w-5 h-5 mr-2"}),"Start Now"]}),(0,Nt.jsxs)("button",{onClick:h,className:"w-full border-2 border-gray-300 text-gray-700 px-4 py-3 rounded-lg font-medium hover:bg-gray-50 transition flex items-center justify-center",children:[(0,Nt.jsx)(yk,{className:"w-5 h-5 mr-2"}),"Reset Progress"]}),(0,Nt.jsxs)("button",{className:"w-full border-2 border-gray-300 text-gray-700 px-4 py-3 rounded-lg font-medium hover:bg-gray-50 transition flex items-center justify-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-6",children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-900 mb-3 flex items-center",children:"\ud83d\udca1 Success Tips"}),(0,Nt.jsxs)("ul",{className:"space-y-2 text-sm text-amber-900",children:[(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Nt.jsx)("span",{children:"Build rapport with client first"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Nt.jsx)("span",{children:"Look for timeline inconsistencies"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Nt.jsx)("span",{children:"The truth is in the details"})]}),(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Nt.jsx)("span",{children:"Address judge respectfully"})]})]})]})]})]})]})})},Ck=zt("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),kk=zt("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Pk=zt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Rk=zt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function Ok(){const{user:e}=Pt(),[n,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(0),[o,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)({x:0,y:0}),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)(0),y=(0,t.useRef)(null),x=(0,t.useRef)(null);(0,t.useEffect)(()=>()=>{x.current&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()},[]);const b=null!==e&&void 0!==e&&e.firstName&&null!==e&&void 0!==e&&e.lastName?"Adv. "+e.firstName+" "+e.lastName:"Adv. Aditi Rao",w=[...[{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCASE FILE #001 - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCase Number: RK-2025-001\nDate Filed: October 15, 2025\nStatus: ACTIVE\n\nBETWEEN:\n    Rajesh Kumar (Petitioner)\n                    vs.\n    State of Karnataka (Respondent)\n\nPrepared by:\n    "+b+"\n    B.A. LL.B (Hons.)\n\nContact Information:\n    Address: Rao & Associates\n             3rd Floor, Justice Complex\n             Brigade Road, Bangalore - 560001\n    \n    Phone: 080-25598745\n    Mobile: 9845012345\n    Email: aditi.rao@raolaw.com\n\nCASE DETAILS:\nThis legal proceeding pertains to a criminal \nmatter under the jurisdiction of the Magistrate \nCourt, Bangalore. The petitioner has been \nwrongfully accused of theft of a laptop from \nVijay Electronics where he works.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCASE FILE #001 - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCOURT INFORMATION:\n    Court: Magistrate Court\n    Judge: Hon'ble Justice Priya Menon\n    Court Hall: 2B\n    Hearing Date: October 20, 2025\n\nCASE SUMMARY:\nThe petitioner, Rajesh Kumar (28 years), was \narrested on October 16, 2025, for alleged theft \nof a Dell Inspiron laptop worth \u20b945,000 from \nVijay Electronics where he works as a sales \nexecutive. The petitioner maintains his \ninnocence and claims CCTV footage was \nmisinterpreted.\n\nPREVIOUS PROCEEDINGS:\n    Date: October 16, 2025\n    \u2022 Arrest and first appearance\n    \u2022 Bail application filed\n    \n    Date: October 17, 2025\n    \u2022 Bail hearing scheduled\n    \u2022 Defense evidence prepared\n\nNEXT HEARING:\n    Date: October 20, 2025\n    Time: 10:30 AM\n    Location: Court Hall 2B\n\nSTATUS: Active Proceedings\nCOUNSEL: "+b+"\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nPLEADING MEMORANDUM - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nReference: Case #RK-2025-001\nPrepared by: "+b+'\nDate: October 16, 2025\n\nFACTS OF THE CASE:\n\n1. The petitioner, Rajesh Kumar, is a 28-year-\n   old sales executive at Vijay Electronics.\n\n2. Has worked at Vijay Electronics for 4 years\n   with excellent record and no prior incidents.\n\n3. On October 15, 2025, during routine inventory,\n   a Dell Inspiron laptop (\u20b945,000) went missing.\n\n4. At 11:02 AM, CCTV captured Rajesh picking up\n   his mobile charger from the floor.\n\n5. Due to high camera angle and low resolution,\n   the charger\'s hard case appeared laptop-sized.\n\n6. Junior clerk discovered falsified digital log:\n   laptop marked "dispatched to Service Center"\n   at 9:47 AM - before inventory began.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550',rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nPLEADING MEMORANDUM - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n7. No service ticket, technician signature, or\n   service center record exists.\n\n8. Laptop never recovered from petitioner's\n   possession, home, or anywhere.\n\n9. Colleague Prakash Mehta witnessed the charger\n   incident and supports petitioner's account.\n\n10. Manager Mr. Desai was under pressure and\n    rushed to conclusions based on ambiguous\n    CCTV footage.\n\nRELIEF SOUGHT:\n\n1. Grant of bail on personal bond\n\n2. Investigation of falsified digital log\n\n3. Proper forensic analysis of CCTV footage\n\n4. Investigation of actual perpetrator\n\n5. Protection of petitioner's reputation\n\nSUPPORTING DOCUMENTS:\n    \u2022 Employment records (Exhibit A)\n    \u2022 CCTV footage analysis (Exhibit B)\n    \u2022 Digital log evidence (Exhibit C)\n    \u2022 Witness statements (Exhibit D)\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nAFFIDAVIT - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nIN THE MAGISTRATE COURT\n\nIn the matter of: Case #RK-2025-001\nDeponent: Rajesh Kumar\nDate: October 16, 2025\n\nI, Rajesh Kumar, son of Ramesh Kumar, \naged 28 years, resident of Flat No. 202, \nSai Apartments, Basavanagudi, Bangalore - \n560004, do hereby solemnly affirm and state \nas follows:\n\n1. That I am the petitioner in this case and \n   am competent to make this affidavit.\n\n2. That I work as sales executive at Vijay \n   Electronics for the past 4 years.\n\n3. That on October 15, 2025, I was conducting\n   inventory with colleague Prakash Mehta.\n\n4. That at 11:02 AM, my mobile charger fell\n   from my bag and I picked it up immediately.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nAFFIDAVIT - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n5. That what appeared on CCTV was my charger\n   in its hard plastic case, not a laptop.\n\n6. That the laptop was never in my possession\n   and has not been recovered from me.\n\n7. That I earn \u20b942,000/month, have no debts,\n   and was recently considered for promotion.\n\n8. That I have strong family ties: wife Priya,\n   daughter Ananya (2 years), father (grocer),\n   and brother-in-law (teacher).\n\n9. That I am willing to surrender my passport\n   and provide two sureties for bail.\n\nDECLARATION:\nI hereby declare that what is stated above is \ntrue and correct to the best of my knowledge \nand belief.\n\nSigned and sworn before me at Bangalore\nthis 16th day of October, 2025.\n\n_______________________________\nSignature of Deponent\n(Rajesh Kumar)\n\n_______________________________\nSignature of Notary Public\nDate: October 16, 2025\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nWITNESS STATEMENT - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nSTATEMENT OF: Prakash Mehta\nOCCUPATION: Sales Executive, Vijay Electronics\nDATE RECORDED: October 16, 2025\nRECORDED BY: "+b+'\n\nEXAMINATION:\n\nQ: How long have you known Rajesh Kumar?\nA: We have been colleagues for 6 years at\n   Vijay Electronics.\n\nQ: Were you present during the inventory on\n   October 15, 2025?\nA: Yes, Rajesh and I were paired together\n   for the inventory check.\n\nQ: Can you describe what happened at 11:02 AM?\nA: Rajesh\'s charger fell from his bag when he\n   set it down. He bent down and picked it up.\n   I even joked with him about not losing his\n   "lifeline."\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550',rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nWITNESS STATEMENT - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nQ: Did you see what he picked up?\nA: Yes, it was his mobile charger in a hard\n   plastic case. It took less than three\n   seconds.\n\nQ: Did Rajesh take anything else?\nA: No, absolutely not. He only picked up his\n   charger that had fallen.\n\nQ: What is Rajesh's reputation at work?\nA: Excellent. He's punctual, honest, and\n   trusted. Our boss always says \"If Rajesh\n   says it's there, it's there.\"\n\nQ: Have you noticed anything suspicious about\n   the digital inventory logs?\nA: A junior clerk mentioned the laptop was\n   marked \"dispatched\" before we even started\n   inventory. That doesn't make sense.\n\nSTATEMENT SIGNED:\n_______________________________\nPrakash Mehta\nDate: October 16, 2025\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nEVIDENCE ANALYSIS - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCase File: RK-2025-001\nPrepared by: "+b+"\nDate: October 17, 2025\n\nCCTV FOOTAGE ANALYSIS:\n\n1. Camera Position:\n   \u2022 Ceiling-mounted in hallway\n   \u2022 High angle, low resolution\n   \u2022 Monitors access to storage room\n\n2. Incident at 11:02 AM:\n   \u2022 Rajesh enters storage room at 11:03 AM\n   \u2022 Stays for 14 minutes\n   \u2022 Places object in bag upon exit\n   \u2022 Object appears rectangular and substantial\n\n3. Technical Limitations:\n   \u2022 Low resolution cannot distinguish details\n   \u2022 High angle creates optical illusion\n   \u2022 Charger in hard case appears laptop-sized\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nEVIDENCE ANALYSIS - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nDIGITAL LOG ANALYSIS:\n\n1. Falsified Entry:\n   \u2022 Laptop marked "dispatched to Service\n     Center" at 9:47 AM\n   \u2022 Inventory began at 10:45 AM\n   \u2022 Entry made before theft discovered\n\n2. Missing Documentation:\n   \u2022 No service ticket exists\n   \u2022 No technician signature\n   \u2022 No record at service center\n   \u2022 Suggests internal fraud\n\n3. Physical Evidence:\n   \u2022 Laptop not recovered from petitioner\n   \u2022 Not found in home, bag, or vehicle\n   \u2022 No evidence of sale or disposal\n\nEMPLOYMENT RECORDS:\n   \u2022 4 years at Vijay Electronics\n   \u2022 Excellent performance reviews\n   \u2022 No prior incidents\n   \u2022 Recently considered for promotion\n   \u2022 Earns \u20b942,000/month, no financial motive\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550'},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nLEGAL ARGUMENTS - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nBAIL APPLICATION ARGUMENTS:\nPrepared by: "+b+"\nDate: October 17, 2025\n\nI. GROUNDS FOR BAIL:\n\n1. INSUFFICIENT EVIDENCE:\n   \u2022 Only evidence is ambiguous CCTV footage\n   \u2022 Eyewitness confirms it was a charger\n   \u2022 Laptop never recovered from petitioner\n   \u2022 No forensic evidence linking petitioner\n\n2. ALTERNATIVE EXPLANATION:\n   \u2022 Falsified digital log indicates fraud\n   \u2022 Entry made before inventory began\n   \u2022 No documentation supports service dispatch\n   \u2022 Suggests involvement of other parties\n\n3. NO FLIGHT RISK:\n   \u2022 Strong family ties in Bangalore\n   \u2022 Stable employment for 4 years\n   \u2022 Willing to surrender passport\n   \u2022 Offers two sureties (father and brother-in-law)\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nLEGAL ARGUMENTS - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n4. NO TAMPERING RISK:\n   \u2022 All evidence already documented\n   \u2022 CCTV footage secured\n   \u2022 Digital logs preserved\n   \u2022 Witnesses already recorded statements\n\n5. CLEAN RECORD:\n   \u2022 No criminal history\n   \u2022 Excellent employment record\n   \u2022 Respected in community\n   \u2022 First-time accused\n\nII. PRECEDENTS:\n\n1. Bail is the rule, jail is the exception\n   (Gudikanti Narasimhulu v. Public Prosecutor)\n\n2. Presumption of innocence until proven guilty\n   (Constitution of India, Article 21)\n\n3. Circumstantial evidence must be conclusive\n   (Sharad Birdhichand Sarda v. State of MH)\n\nIII. CONCLUSION:\nThe petitioner respectfully submits that all\nconditions for grant of bail are satisfied.\nJustice demands his release pending trial.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE FILE #001",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCOURT ORDER - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nIN THE MAGISTRATE COURT\n[Court Address, Bangalore]\n\nCase No.: RK-2025-001\nDate: October 17, 2025\n\nHon'ble Justice Priya Menon\nPresiding Officer\n\nBETWEEN:\nRajesh Kumar ........................ Petitioner\n                    and\nState of Karnataka ............. Respondent\n\nORDER ON BAIL APPLICATION:\n\nUpon hearing the counsel for petitioner and\nperusing the documents on record, this Court\nmakes the following observations:\n\n1. The evidence against petitioner is primarily\n   circumstantial and based on CCTV footage of\n   questionable clarity.\n\n2. Petitioner has strong roots in the community\n   and poses no flight risk.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nCOURT ORDER - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n3. The falsified digital log entry raises\n   serious questions about the investigation.\n\n4. Petitioner has clean record and offers\n   passport surrender with sureties.\n\nTHEREFORE, the bail application is ALLOWED\nsubject to the following conditions:\n\n1. Petitioner shall execute personal bond of\n   \u20b950,000/- with two sureties.\n\n2. Petitioner shall surrender passport to the\n   Court and report to police station weekly.\n\n3. Petitioner shall not leave Bangalore without\n   prior permission of the Court.\n\n4. Petitioner shall not tamper with evidence\n   or influence witnesses.\n\n5. Next hearing: October 20, 2025 at 10:30 AM.\n\nIt is so ordered.\n\n                    _______________________________\n                    (Signature)\n                    Hon'ble Justice Priya Menon\nDate: October 17, 2025\nSeal of Court: _______________\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"CASE NARRATIVE",caseNumber:"RK-2025-001",leftPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCHAPTER 1: A ROUTINE MORNING\n\nOctober 15, 2025, began like any other for\nRajesh Kumar. He woke at 6:00 AM in his small\nbut tidy apartment in Basavanagudi, Bangalore.\nHis two-year-old daughter, Ananya, was already\nbabbling in her crib.\n\nHis wife, Priya, handed him a steaming cup of\ntea and reminded him: "Don\'t forget\u2014inventory\nday today."\n\nRajesh smiled. "I\'ve done it a dozen times.\nNothing to worry about."\n\nFor four years, Rajesh had worked as a sales\nexecutive at Vijay Electronics, a well-known\nlocal chain that sold everything from\nsmartphones to home appliances.\n\nThat morning, he wore his usual attire: pressed\ntrousers, a light blue shirt, and his company\nID clipped to his pocket. Slung over his\nshoulder was a dark navy fabric bag\u2014a gift\nfrom Priya on their wedding anniversary.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550',rightPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nInside his bag: his lunchbox, a water bottle,\nand a slim black mobile charger in a hard\nplastic case.\n\nCHAPTER 2: THE INVENTORY ROOM\n\nAt 10:45 AM, Rajesh reported to the first-\nfloor storage room. The monthly inventory had\nbegun. This month, the focus was on high-value\nIT assets, including five new laptops purchased\nfor the marketing team.\n\nOne of them\u2014a Dell Inspiron valued at \u20b945,000\u2014\nhad just been unboxed the day before.\n\nRajesh was paired with Prakash Mehta, a\ncolleague of six years. They worked in\ncomfortable silence, scanning barcodes and\nticking off items on a printed sheet.\n\nAt 11:02 AM, Rajesh bent down to pick up his\ncharger, which had slipped from his bag when\nhe set it on the floor.\n\n"Careful," Prakash joked. "Don\'t lose your\nlifeline!"\n\nRajesh chuckled and dropped the charger back\ninto his bag. The entire motion took less than\nthree seconds.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550'},{title:"CASE NARRATIVE",caseNumber:"RK-2025-001",leftPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nUnbeknownst to them, a ceiling-mounted CCTV\ncamera in the hallway\u2014meant to monitor access\nto the storage room\u2014captured the moment.\n\nDue to its high angle and low resolution, the\ncharger\'s hard case appeared rectangular and\nsubstantial, almost like a slim laptop.\n\nCHAPTER 3: THE DISAPPEARANCE\n\nBy 2:00 PM, the inventory team hit a snag.\nFour laptops were accounted for. The fifth\u2014\nthe \u20b945,000 Dell\u2014was nowhere to be found.\n\nPanic rippled through the office. The store\nmanager, Mr. Desai, immediately locked the\nstorage room and pulled up the CCTV footage.\n\nHe watched as Rajesh entered at 11:03 AM,\nstayed for 14 minutes, and exited\u2014placing\nsomething into his bag.\n\n"No one else went in," Desai muttered. "It has\nto be him."\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550',rightPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nWhen confronted, Rajesh turned pale. "That\nwasn\'t the laptop! It was my charger\u2014I swear!"\n\nPrakash backed him up: "He\'s telling the truth.\nI was right there."\n\nBut Desai was under pressure. The laptop hadn\'t\nbeen logged out to anyone. And the footage\u2026\nit looked damning.\n\nCHAPTER 4: THE TWIST - A HIDDEN DETAIL\n\nLater that evening, while reviewing the digital\ninventory log, a junior clerk noticed something\nodd:\n\nThe missing laptop had been marked "dispatched\nto Service Center" at 9:47 AM\u2014before the\ninventory even began.\n\nBut there was no service ticket, no technician\nsignature, and no record at the service center.\n\nSomeone had falsified the digital log.\n\nWas Rajesh being framed? Or was this a red\nherring?\n\nThe police, however, weren\'t swayed. "The CCTV\nshows him taking something," the investigating\nofficer said. "Until we find that laptop\u2014or\nprove it was never there\u2014your client is our\nprime suspect."\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550'},{title:"CASE NARRATIVE",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCHAPTER 5: ARREST AND AFTERMATH\n\nAt 7:30 AM on October 16, two officers knocked\non Rajesh's door. Priya burst into tears.\nAnanya clung to her father's leg.\n\nRajesh didn't resist. \"I'll go peacefully.\nBut I didn't do this.\"\n\nAt the police station, he was calm but shaken.\nWhen asked if he had a passport, he pulled it\nfrom his wallet without hesitation.\n\n\"Take it. I'm not running. I have a daughter\nwho needs me.\"\n\nHe named his father, Ramesh Kumar\u2014a respected\ngrocer in Shankarapuram\u2014and his brother-in-law,\nArjun Rao, a school teacher, as sureties.\n\nBoth arrived within the hour, offering whatever\nit took to bring Rajesh home.\n\nBut the law was clear: theft of property valued\nover \u20b95,000 is non-bailable under BNS 303(1).\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nRajesh would have to apply for bail in court.\n\nCHAPTER 6: THE UNANSWERED QUESTIONS\n\nAs of October 17, the morning of the bail\nhearing, several facts remained unresolved:\n\n\u2022 The laptop had not been recovered\u2014not in\n  Rajesh\'s home, not in his bag, not anywhere.\n\n\u2022 Prakash stood by Rajesh, but admitted he\n  never saw what was placed in the bag.\n\n\u2022 The falsified inventory log suggested possible\n  internal fraud\u2014but no other employee had been\n  investigated.\n\n\u2022 Rajesh had no motive: he earned \u20b942,000/month,\n  had no debts, and had recently been considered\n  for a promotion.\n\n\u2022 His passport surrender, family ties, job\n  stability, and clean record all pointed to\n  low flight risk.\n\nYet the prosecution would argue:\n"An employee stole a high-value asset. The\nevidence is on camera. Bail would undermine\nthe investigation."\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550'},{title:"CASE NARRATIVE",caseNumber:"RK-2025-001",leftPage:'\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCHAPTER 7: ON THE EVE OF JUSTICE\n\nRajesh sat in his cell that night, staring at\na photo of Ananya on his phone (confiscated but\nbriefly returned for a call).\n\nHe whispered, "I just want to be there for her\nbirthday next week."\n\nThe story does not end with a verdict\u2014because\nthis is where the legal process begins.\n\nRajesh Kumar\'s fate now rests not on guilt or\ninnocence, but on a fundamental legal principle:\n\n"Bail is the rule; jail is the exception."\n\nWhether he walks out of court tomorrow\u2014or\nremains behind bars while the truth is\nuncovered\u2014depends on how well his lawyer can\ntranslate his human story into legal grounds\nfor liberty.\n\nBut one thing is certain:\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550',rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nTHE INVENTORY THAT CHANGED EVERYTHING\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nIn a system where a three-second gesture can\nlook like a crime...\n\nPresumption of innocence isn't just a right\u2014\nit's a lifeline.\n\nFACTUAL ANCHORS:\n\n\u2022 Accused: Rajesh Kumar, 28 years\n\u2022 Position: Sales executive, 4 years at\n  Vijay Electronics\n\u2022 Offense: BNS 303(1) (Theft) of \u20b945,000 laptop\n\u2022 Claims: CCTV misinterpreted, was his charger\n\u2022 Witness: Colleague Prakash Mehta\n\u2022 Criminal history: None\n\u2022 Family: Wife Priya, daughter Ananya (2 years),\n  father Ramesh (grocer), brother-in-law Arjun\n  (teacher)\n\u2022 Community ties: Strong, stable residence\n\u2022 Offers: Passport surrender + two sureties\n\u2022 Status: Laptop not recovered, investigation\n  ongoing\n\u2022 Offense type: Non-bailable (value > \u20b95,000)\n\u2022 Co-accused: None\n\u2022 Recovered property: None\n\u2022 Prior cases: None\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nEND OF CASE NARRATIVE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"},{title:"ATTORNEY PROFILE",caseNumber:"RK-2025-001",leftPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nATTORNEY PROFILE - LEFT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nLEGAL COUNSEL:\n"+b+"\n\nEDUCATION:\n\u2022 Bachelor of Arts (B.A.)\n\u2022 Bachelor of Laws (LL.B) Honors\n\u2022 Bar Council of Karnataka enrollment\n\nPROFESSIONAL QUALIFICATIONS:\n\u2022 Enrolled with Bar Council of Karnataka\n\u2022 Practicing since 2018\n\u2022 Specialization in Criminal Defense\n\u2022 Certified Legal Researcher\n\nPRACTICE AREAS:\n\u2022 Criminal Law\n\u2022 Constitutional Law\n\u2022 Cyber Crime\n\u2022 White Collar Crime\n\u2022 Human Rights Law\n\nBAR ASSOCIATION MEMBERSHIPS:\n\u2022 Karnataka State Bar Council\n\u2022 Bangalore District Bar Association\n\u2022 Indian Bar Association\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550",rightPage:"\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nATTORNEY PROFILE - RIGHT PAGE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nCONTACT INFORMATION:\nOffice Address:\nRao & Associates\n3rd Floor, Justice Complex\nBrigade Road, Bangalore - 560001\n\nPhone: 080-25598745\nMobile: 9845012345\nEmail: aditi.rao@raolaw.com\n\nOFFICE HOURS:\nMonday to Friday: 9:30 AM - 6:30 PM\nSaturday: 9:30 AM - 1:30 PM\nEmergency Contact: Available on request\n\nCASE HANDLING CAPACITY:\n\u2022 Maximum 20 active cases at a time\n\u2022 Priority given to criminal defense\n\u2022 Emergency matters handled promptly\n\u2022 Pro bono work for deserving cases\n\nFEES STRUCTURE:\n\u2022 Consultation: Rs. 1,500/- per hour\n\u2022 Appearance: Rs. 7,500/- per hearing\n\u2022 Drafting: Rs. 3,000/- per document\n\u2022 Retainership: Rs. 35,000/- per month\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nEND OF CASE FILE\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"}]],_=e=>{if(!y.current)return;const t=y.current.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,i=e.clientX-n,a=e.clientY-r,o=i/t.width*40,s=-a/t.height*40;c({x:s,y:o})},S=e=>{if(!y.current||0===e.touches.length)return;const t=y.current.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,i=e.touches[0].clientX-n,a=e.touches[0].clientY-r,o=i/t.width*40,s=-a/t.height*40;c({x:s,y:o})},E=()=>{c({x:0,y:0})},M=e=>{window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),d(!1),p(null)),o||(s(!0),setTimeout(()=>{"next"===e&&i<w.length-1?a(i+1):"prev"===e&&i>0&&a(i-1),s(!1)},400))},N=(e,t)=>{if(window.speechSynthesis.speaking&&window.speechSynthesis.cancel(),u&&h===t)return window.speechSynthesis.cancel(),d(!1),void p(null);const n=new SpeechSynthesisUtterance(e);n.rate=1,n.pitch=1,n.volume=1,n.onstart=()=>{d(!0),p(t)},n.onend=()=>{d(!1),p(null)},n.onerror=()=>{d(!1),p(null)},x.current=n,window.speechSynthesis.speak(n)},j="speechSynthesis"in window;return(0,t.useEffect)(()=>{if(!m)return;const e=setTimeout(()=>{g<4?v(g+1):f(!1)},1500);return()=>clearTimeout(e)},[m,g]),m?(0,Nt.jsxs)("div",{className:"w-full h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center overflow-hidden relative",children:[(0,Nt.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Nt.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 "+(g>=1?"animate-blob":"")}),(0,Nt.jsx)("div",{className:"absolute top-1/3 right-1/4 w-64 h-64 bg-purple-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 animation-delay-2000 "+(g>=1?"animate-blob":"")}),(0,Nt.jsx)("div",{className:"absolute bottom-1/4 left-1/2 w-64 h-64 bg-indigo-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 animation-delay-4000 "+(g>=1?"animate-blob":"")})]}),0===g&&(0,Nt.jsxs)("div",{className:"text-center z-10 animate-fade-in",children:[(0,Nt.jsx)("div",{className:"animate-pulse mb-8",children:(0,Nt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto flex items-center justify-center shadow-2xl",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})})}),(0,Nt.jsx)("h1",{className:"text-6xl font-bold text-white mb-4 tracking-wider",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("p",{className:"text-3xl text-amber-200 font-semibold",children:"DHARMASIKHARA"})]}),1===g&&(0,Nt.jsxs)("div",{className:"text-center z-10 animate-fade-in",children:[(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto flex items-center justify-center shadow-2xl animate-bounce",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})})}),(0,Nt.jsx)("h1",{className:"text-6xl font-bold text-white mb-4 tracking-wider animate-pulse",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("p",{className:"text-3xl text-amber-200 font-semibold animate-pulse",children:"DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-2xl text-amber-100 mt-6 animate-fade-in",children:"The Pinnacle of Law"})]}),2===g&&(0,Nt.jsxs)("div",{className:"text-center z-10 animate-fade-in",children:[(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto flex items-center justify-center shadow-2xl",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})})}),(0,Nt.jsx)("h1",{className:"text-6xl font-bold text-white mb-4 tracking-wider",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("p",{className:"text-3xl text-amber-200 font-semibold",children:"DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-2xl text-amber-100 mt-6",children:"Legal Practice Simulator"})]}),3===g&&(0,Nt.jsxs)("div",{className:"text-center z-10 animate-fade-in",children:[(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto flex items-center justify-center shadow-2xl animate-bounce",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})})}),(0,Nt.jsx)("h1",{className:"text-6xl font-bold text-white mb-4 tracking-wider",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("p",{className:"text-3xl text-amber-200 font-semibold mb-8",children:"DHARMASIKHARA"}),(0,Nt.jsxs)("div",{className:"border-t border-b border-amber-300 py-4 mb-5",children:[(0,Nt.jsx)("p",{className:"text-amber-100 text-xl font-medium",children:b}),(0,Nt.jsx)("p",{className:"text-amber-200 text-lg",children:"B.A. LL.B (Hons.)"})]}),(0,Nt.jsx)("p",{className:"text-amber-200 text-base",children:"2025-2026"})]}),4===g&&(0,Nt.jsxs)("div",{className:"text-center z-10 animate-fade-in",children:[(0,Nt.jsx)("div",{className:"mb-8 animate-bounce",children:(0,Nt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full mx-auto flex items-center justify-center shadow-2xl",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7"})})})}),(0,Nt.jsx)("h1",{className:"text-6xl font-bold text-white mb-4 tracking-wider",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("p",{className:"text-3xl text-amber-200 font-semibold mb-8",children:"DHARMASIKHARA"}),(0,Nt.jsx)("p",{className:"text-2xl text-amber-100",children:"Ready to Open Case Files"}),(0,Nt.jsx)("button",{onClick:()=>f(!1),className:"mt-10 px-8 py-4 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg transition transform hover:scale-105 shadow-lg text-xl",children:"ENTER SIMULATION"})]})]}):n?(0,Nt.jsxs)("div",{className:"w-full h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col p-2",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-amber-700 to-amber-600 text-white p-3 rounded-t-lg flex items-center justify-between mb-0",children:[(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h1",{className:"text-xl font-bold",children:w[i].title}),(0,Nt.jsxs)("p",{className:"text-amber-100 text-xs",children:["Case #",w[i].caseNumber]})]}),(0,Nt.jsx)("button",{onClick:()=>r(!1),className:"p-2 hover:bg-amber-700 rounded-lg transition transform hover:scale-105",children:(0,Nt.jsx)(Ht,{size:24})})]}),(0,Nt.jsxs)("div",{className:"flex-1 bg-gradient-to-b from-gray-800 to-gray-900 flex items-center justify-center px-4 py-3 gap-4 overflow-y-auto",style:{maxHeight:"calc(100vh - 120px)"},children:[(0,Nt.jsxs)("div",{className:"w-1/2 bg-yellow-50 rounded-lg shadow-xl p-6 overflow-y-auto transition-all duration-500 transform ".concat(o?"opacity-50 -translate-x-8 rotate-y-30":"opacity-100 translate-x-0"," hover:shadow-amber-500/30 relative"),style:{maxHeight:"75vh"},children:[(0,Nt.jsx)("div",{className:"text-gray-800 text-lg leading-relaxed font-mono whitespace-pre-wrap select-text",children:w[i].leftPage}),(0,Nt.jsx)("div",{className:"mt-4 pt-2 border-t border-gray-300 text-center",children:(0,Nt.jsxs)("span",{className:"text-base text-gray-500 font-mono",children:["Page ",2*i+1]})}),j&&(0,Nt.jsx)("div",{className:"absolute top-2 right-2",children:(0,Nt.jsx)("button",{onClick:()=>N(w[i].leftPage,"left"),disabled:u&&"left"!==h,className:"p-1 rounded-full ".concat(u&&"left"===h?"bg-red-500 text-white":"bg-gray-200 text-gray-800"," hover:bg-gray-300 transition"),title:u&&"left"===h?"Stop speaking":"Read aloud",children:u&&"left"===h?(0,Nt.jsx)(Ck,{size:16}):(0,Nt.jsx)(kk,{size:16})})})]}),(0,Nt.jsxs)("div",{className:"w-1/2 bg-yellow-50 rounded-lg shadow-xl p-6 overflow-y-auto transition-all duration-500 transform ".concat(o?"opacity-50 translate-x-8 -rotate-y-30":"opacity-100 translate-x-0"," hover:shadow-amber-500/30 relative"),style:{maxHeight:"75vh"},children:[(0,Nt.jsx)("div",{className:"text-gray-800 text-lg leading-relaxed font-mono whitespace-pre-wrap select-text",children:w[i].rightPage}),(0,Nt.jsx)("div",{className:"mt-4 pt-2 border-t border-gray-300 text-center",children:(0,Nt.jsxs)("span",{className:"text-base text-gray-500 font-mono",children:["Page ",2*i+2]})}),j&&(0,Nt.jsx)("div",{className:"absolute top-2 right-2",children:(0,Nt.jsx)("button",{onClick:()=>N(w[i].rightPage,"right"),disabled:u&&"right"!==h,className:"p-1 rounded-full ".concat(u&&"right"===h?"bg-red-500 text-white":"bg-gray-200 text-gray-800"," hover:bg-gray-300 transition"),title:u&&"right"===h?"Stop speaking":"Read aloud",children:u&&"right"===h?(0,Nt.jsx)(Ck,{size:16}):(0,Nt.jsx)(kk,{size:16})})})]})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-700 p-3 rounded-b-lg flex items-center justify-between border-t-2 border-amber-600",children:[(0,Nt.jsxs)("button",{onClick:()=>M("prev"),disabled:0===i||o,className:"flex items-center gap-1 px-4 py-2 bg-amber-500 hover:bg-amber-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-md transition font-medium transform hover:scale-105 text-sm",children:[(0,Nt.jsx)(Pk,{size:16}),"Previous"]}),(0,Nt.jsxs)("div",{className:"text-center text-white",children:[(0,Nt.jsxs)("p",{className:"font-bold text-sm",children:["File ",i+1," of ",w.length]}),(0,Nt.jsxs)("p",{className:"text-base text-gray-400",children:["Pages ",2*i+1,"-",2*i+2]})]}),(0,Nt.jsxs)("button",{onClick:()=>M("next"),disabled:i===w.length-1||o,className:"flex items-center gap-1 px-4 py-2 bg-amber-500 hover:bg-amber-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-md transition font-medium transform hover:scale-105 text-sm",children:["Next",(0,Nt.jsx)(Rk,{size:16})]})]})]}):(0,Nt.jsxs)("div",{ref:y,className:"w-full h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center overflow-hidden",onMouseMove:_,onMouseLeave:E,onTouchMove:S,onTouchEnd:E,children:[(0,Nt.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Nt.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 animate-blob"}),(0,Nt.jsx)("div",{className:"absolute top-1/3 right-1/4 w-64 h-64 bg-purple-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),(0,Nt.jsx)("div",{className:"absolute bottom-1/4 left-1/2 w-64 h-64 bg-indigo-500 rounded-full mix-blend-soft-light filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),(0,Nt.jsx)("div",{className:"relative z-10",children:(0,Nt.jsxs)("div",{className:"relative w-96 h-[580px] bg-gradient-to-br from-amber-800 via-amber-700 to-amber-900 rounded-xl shadow-2xl p-10 flex flex-col items-center justify-center border-4 border-amber-600 cursor-pointer transform transition-all duration-300 hover:scale-105",onClick:()=>r(!0),style:{transform:"perspective(1200px) rotateX(".concat(l.x,"deg) rotateY(").concat(l.y,"deg) translateZ(20px)"),transition:"transform 0.1s ease-out",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 30px rgba(251, 191, 36, 0.3)"},children:[(0,Nt.jsx)("div",{className:"mb-8 text-amber-100 transform transition-transform duration-300 hover:scale-110",children:(0,Nt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})}),(0,Nt.jsxs)("div",{className:"text-center mb-10",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold text-amber-100 mb-3 tracking-wider",children:"DHARMASIKHARA"}),(0,Nt.jsx)("div",{className:"w-32 h-1 bg-amber-200 mx-auto mb-4 rounded-full"}),(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-amber-200 tracking-widest",children:"LEGAL SIMULATION"})]}),(0,Nt.jsxs)("div",{className:"text-center mb-10",children:[(0,Nt.jsxs)("div",{className:"border-t border-b border-amber-300 py-4 mb-5",children:[(0,Nt.jsx)("p",{className:"text-amber-100 text-xl font-medium",children:b}),(0,Nt.jsx)("p",{className:"text-amber-200 text-lg",children:"B.A. LL.B (Hons.)"})]}),(0,Nt.jsx)("p",{className:"text-amber-200 text-base",children:"2025-2026"})]}),(0,Nt.jsx)("div",{className:"absolute top-6 left-6 w-10 h-10 border-t-2 border-l-2 border-amber-300 rounded-tl-lg"}),(0,Nt.jsx)("div",{className:"absolute top-6 right-6 w-10 h-10 border-t-2 border-r-2 border-amber-300 rounded-tr-lg"}),(0,Nt.jsx)("div",{className:"absolute bottom-6 left-6 w-10 h-10 border-b-2 border-l-2 border-amber-300 rounded-bl-lg"}),(0,Nt.jsx)("div",{className:"absolute bottom-6 right-6 w-10 h-10 border-b-2 border-r-2 border-amber-300 rounded-br-lg"}),(0,Nt.jsxs)("div",{className:"absolute bottom-8 text-center w-full",children:[(0,Nt.jsx)("p",{className:"text-amber-200 font-bold text-xl animate-pulse transform transition-all duration-300 hover:scale-110 hover:text-amber-100",children:"CLICK TO OPEN CASE FILES"}),(0,Nt.jsx)("div",{className:"mt-3 w-10 h-1.5 bg-amber-400 mx-auto rounded-full animate-pulse"})]})]})})]})}const Lk=()=>(0,Nt.jsx)("div",{className:"h-screen w-screen overflow-hidden",children:(0,Nt.jsx)(Ok,{})}),Dk="180",Ik=0,Fk=1,Uk=2,zk=100,Bk=101,Vk=102,Hk=200,Wk=201,Gk=202,qk=203,Kk=204,Xk=205,Yk=206,Jk=207,Zk=208,$k=209,Qk=210,eP=211,tP=212,nP=213,rP=214,iP=0,aP=1,oP=2,sP=3,lP=4,cP=5,uP=6,dP=7,hP=301,pP=302,mP=303,fP=304,gP=306,vP=1e3,yP=1001,xP=1002,bP=1003,wP=1004,_P=1005,SP=1006,EP=1007,MP=1008,NP=1009,jP=1010,TP=1011,AP=1012,CP=1013,kP=1014,PP=1015,RP=1016,OP=1017,LP=1018,DP=1020,IP=35902,FP=35899,UP=1023,zP=1026,BP=1027,VP=1028,HP=1029,WP=1031,GP=1033,qP=33776,KP=33777,XP=33778,YP=33779,JP=35840,ZP=35841,$P=35842,QP=35843,eR=36196,tR=37492,nR=37496,rR=37808,iR=37809,aR=37810,oR=37811,sR=37812,lR=37813,cR=37814,uR=37815,dR=37816,hR=37817,pR=37818,mR=37819,fR=37820,gR=37821,vR=36492,yR=36494,xR=36495,bR=36283,wR=36284,_R=36285,SR=36286,ER=2300,MR=2301,NR=2302,jR=2400,TR=2401,AR=2402,CR="",kR="srgb",PR="srgb-linear",RR="linear",OR="srgb",LR=7680,DR=512,IR=513,FR=514,UR=515,zR=516,BR=517,VR=518,HR=519,WR=35044,GR="300 es",qR=2e3,KR=2001;class XR{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const YR=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const JR=Math.PI/180,ZR=180/Math.PI;function $R(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(YR[255&e]+YR[e>>8&255]+YR[e>>16&255]+YR[e>>24&255]+"-"+YR[255&t]+YR[t>>8&255]+"-"+YR[t>>16&15|64]+YR[t>>24&255]+"-"+YR[63&n|128]+YR[n>>8&255]+"-"+YR[n>>16&255]+YR[n>>24&255]+YR[255&r]+YR[r>>8&255]+YR[r>>16&255]+YR[r>>24&255]).toLowerCase()}function QR(e,t,n){return Math.max(t,Math.min(n,e))}function eO(e,t){return(e%t+t)%t}function tO(e,t,n){return(1-n)*e+n*t}function nO(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function rO(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}class iO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;iO.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=QR(this.x,e.x,t.x),this.y=QR(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=QR(this.x,e,t),this.y=QR(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(QR(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(QR(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class aO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[a+0],h=i[a+1],p=i[a+2],m=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=m);if(u!==m||s!==d||l!==h||c!==p){let e=1-o;const t=s*d+l*h+c*p+u*m,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+p*i,u=u*e+m*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],p=i[a+3];return e[t]=o*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-o*h,e[t+2]=l*p+c*h+o*d-s*u,e[t+3]=c*p-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),p=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(QR(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;oO.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(lO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(lO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),c=2*(o*t-i*r),u=2*(i*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-i*u,this.z=r+s*u+i*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=QR(this.x,e.x,t.x),this.y=QR(this.y,e.y,t.y),this.z=QR(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=QR(this.x,e,t),this.y=QR(this.y,e,t),this.z=QR(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(QR(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return sO.copy(this).projectOnVector(e),this.sub(sO)}reflect(e){return this.sub(sO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(QR(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sO=new oO,lO=new aO;class cO{constructor(e,t,n,r,i,a,o,s,l){cO.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],m=r[0],f=r[3],g=r[6],v=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=a*m+o*v+s*b,i[3]=a*f+o*y+s*w,i[6]=a*g+o*x+s*_,i[1]=l*m+c*v+u*b,i[4]=l*f+c*y+u*w,i[7]=l*g+c*x+u*_,i[2]=d*m+h*v+p*b,i[5]=d*f+h*y+p*w,i[8]=d*g+h*x+p*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,p=t*u+n*d+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(r*l-c*n)*m,e[2]=(o*n-r*a)*m,e[3]=d*m,e[4]=(c*t-r*s)*m,e[5]=(r*i-o*t)*m,e[6]=h*m,e[7]=(n*s-l*t)*m,e[8]=(a*t-n*i)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(uO.makeScale(e,t)),this}rotate(e){return this.premultiply(uO.makeRotation(-e)),this}translate(e,t){return this.premultiply(uO.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const uO=new cO;function dO(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function hO(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function pO(){const e=hO("canvas");return e.style.display="block",e}const mO={};function fO(e){e in mO||(mO[e]=!0,console.warn(e))}const gO=(new cO).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vO=(new cO).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yO(){const e={enabled:!0,workingColorSpace:PR,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===OR&&(e.r=bO(e.r),e.g=bO(e.g),e.b=bO(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===OR&&(e.r=wO(e.r),e.g=wO(e.g),e.b=wO(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===CR?RR:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return fO("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return fO("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[PR]:{primaries:t,whitePoint:r,transfer:RR,toXYZ:gO,fromXYZ:vO,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:kR},outputColorSpaceConfig:{drawingBufferColorSpace:kR}},[kR]:{primaries:t,whitePoint:r,transfer:OR,toXYZ:gO,fromXYZ:vO,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:kR}}}),e}const xO=yO();function bO(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function wO(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let _O;class SO{static getDataURL(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png";if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===_O&&(_O=hO("canvas")),_O.width=e.width,_O.height=e.height;const n=_O.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=_O}return t.toDataURL(n)}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=hO("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*bO(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*bO(t[e]/255)):t[e]=bO(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let EO=0;class MO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:EO++}),this.uuid=$R(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return"undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(NO(r[t].image)):e.push(NO(r[t]))}else e=NO(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function NO(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?SO.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jO=0;const TO=new oO;class AO extends XR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AO.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AO.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yP,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yP,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SP,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:MP,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:UP,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:NP,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:AO.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:CR;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jO++}),this.uuid=$R(),this.name="",this.source=new MO(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new iO(0,0),this.repeat=new iO(1,1),this.center=new iO(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cO,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(TO).x}get height(){return this.source.getSize(TO).y}get depth(){return this.source.getSize(TO).z}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Texture.setValues(): parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n:console.warn("THREE.Texture.setValues(): property '".concat(t,"' does not exist."))}}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vP:e.x=e.x-Math.floor(e.x);break;case yP:e.x=e.x<0?0:1;break;case xP:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case vP:e.y=e.y-Math.floor(e.y);break;case yP:e.y=e.y<0?0:1;break;case xP:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}AO.DEFAULT_IMAGE=null,AO.DEFAULT_MAPPING=300,AO.DEFAULT_ANISOTROPY=1;class CO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;CO.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],m=s[2],f=s[6],g=s[10];if(Math.abs(c-d)<a&&Math.abs(u-m)<a&&Math.abs(p-f)<a){if(Math.abs(c+d)<o&&Math.abs(u+m)<o&&Math.abs(p+f)<o&&Math.abs(l+h+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,x=(u+m)/4,b=(p+f)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=x/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=b/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=x/i,r=b/i),this.set(n,r,i,t),this}let v=Math.sqrt((f-p)*(f-p)+(u-m)*(u-m)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(f-p)/v,this.y=(u-m)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=QR(this.x,e.x,t.x),this.y=QR(this.y,e.y,t.y),this.z=QR(this.z,e.z,t.z),this.w=QR(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=QR(this.x,e,t),this.y=QR(this.y,e,t),this.z=QR(this.z,e,t),this.w=QR(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(QR(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kO extends XR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:SP,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new CO(0,0,e,t),this.scissorTest=!1,this.viewport=new CO(0,0,e,t);const r={width:e,height:t,depth:n.depth},i=new AO(r);this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=i.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={minFilter:SP,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++){this.textures[n].setValues(t)}}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new MO(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class PO extends kO{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class RO extends AO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=bP,this.minFilter=bP,this.wrapR=yP,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class OO extends AO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=bP,this.minFilter=bP,this.wrapR=yP,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class LO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oO(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oO(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(IO.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(IO.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=IO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,IO):IO.fromBufferAttribute(r,t),IO.applyMatrix4(e.matrixWorld),this.expandByPoint(IO);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),FO.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),FO.copy(n.boundingBox)),FO.applyMatrix4(e.matrixWorld),this.union(FO)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,IO),IO.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(GO),qO.subVectors(this.max,GO),UO.subVectors(e.a,GO),zO.subVectors(e.b,GO),BO.subVectors(e.c,GO),VO.subVectors(zO,UO),HO.subVectors(BO,zO),WO.subVectors(UO,BO);let t=[0,-VO.z,VO.y,0,-HO.z,HO.y,0,-WO.z,WO.y,VO.z,0,-VO.x,HO.z,0,-HO.x,WO.z,0,-WO.x,-VO.y,VO.x,0,-HO.y,HO.x,0,-WO.y,WO.x,0];return!!YO(t,UO,zO,BO,qO)&&(t=[1,0,0,0,1,0,0,0,1],!!YO(t,UO,zO,BO,qO)&&(KO.crossVectors(VO,HO),t=[KO.x,KO.y,KO.z],YO(t,UO,zO,BO,qO)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,IO).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(IO).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(DO[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),DO[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),DO[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),DO[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),DO[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),DO[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),DO[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),DO[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(DO)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const DO=[new oO,new oO,new oO,new oO,new oO,new oO,new oO,new oO],IO=new oO,FO=new LO,UO=new oO,zO=new oO,BO=new oO,VO=new oO,HO=new oO,WO=new oO,GO=new oO,qO=new oO,KO=new oO,XO=new oO;function YO(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){XO.fromArray(e,a);const o=i.x*Math.abs(XO.x)+i.y*Math.abs(XO.y)+i.z*Math.abs(XO.z),s=t.dot(XO),l=n.dot(XO),c=r.dot(XO);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const JO=new LO,ZO=new oO,$O=new oO;class QO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):JO.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ZO.subVectors(e,this.center);const t=ZO.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(ZO,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):($O.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ZO.copy(e.center).add($O)),this.expandByPoint(ZO.copy(e.center).sub($O))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const eL=new oO,tL=new oO,nL=new oO,rL=new oO,iL=new oO,aL=new oO,oL=new oO;class sL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oO(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eL)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=eL.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(eL.copy(this.origin).addScaledVector(this.direction,t),eL.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){tL.copy(e).add(t).multiplyScalar(.5),nL.copy(t).sub(e).normalize(),rL.copy(this.origin).sub(tL);const i=.5*e.distanceTo(t),a=-this.direction.dot(nL),o=rL.dot(this.direction),s=-rL.dot(nL),l=rL.lengthSq(),c=Math.abs(1-a*a);let u,d,h,p;if(c>0)if(u=a*s-o,d=a*o-s,p=i*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(tL).addScaledVector(nL,d),h}intersectSphere(e,t){eL.subVectors(e.center,this.origin);const n=eL.dot(this.direction),r=eL.dot(eL)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,eL)}intersectTriangle(e,t,n,r,i){iL.subVectors(t,e),aL.subVectors(n,e),oL.crossVectors(iL,aL);let a,o=this.direction.dot(oL);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}rL.subVectors(this.origin,e);const s=a*this.direction.dot(aL.crossVectors(rL,aL));if(s<0)return null;const l=a*this.direction.dot(iL.cross(rL));if(l<0)return null;if(s+l>o)return null;const c=-a*rL.dot(oL);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class lL{constructor(e,t,n,r,i,a,o,s,l,c,u,d,h,p,m,f){lL.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,c,u,d,h,p,m,f)}set(e,t,n,r,i,a,o,s,l,c,u,d,h,p,m,f){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new lL).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/cL.setFromMatrixColumn(e,0).length(),i=1/cL.setFromMatrixColumn(e,1).length(),a=1/cL.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dL,e,hL)}lookAt(e,t,n){const r=this.elements;return fL.subVectors(e,t),0===fL.lengthSq()&&(fL.z=1),fL.normalize(),pL.crossVectors(n,fL),0===pL.lengthSq()&&(1===Math.abs(n.z)?fL.x+=1e-4:fL.z+=1e-4,fL.normalize(),pL.crossVectors(n,fL)),pL.normalize(),mL.crossVectors(fL,pL),r[0]=pL.x,r[4]=mL.x,r[8]=fL.x,r[1]=pL.y,r[5]=mL.y,r[9]=fL.y,r[2]=pL.z,r[6]=mL.z,r[10]=fL.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],S=r[8],E=r[12],M=r[1],N=r[5],j=r[9],T=r[13],A=r[2],C=r[6],k=r[10],P=r[14],R=r[3],O=r[7],L=r[11],D=r[15];return i[0]=a*w+o*M+s*A+l*R,i[4]=a*_+o*N+s*C+l*O,i[8]=a*S+o*j+s*k+l*L,i[12]=a*E+o*T+s*P+l*D,i[1]=c*w+u*M+d*A+h*R,i[5]=c*_+u*N+d*C+h*O,i[9]=c*S+u*j+d*k+h*L,i[13]=c*E+u*T+d*P+h*D,i[2]=p*w+m*M+f*A+g*R,i[6]=p*_+m*N+f*C+g*O,i[10]=p*S+m*j+f*k+g*L,i[14]=p*E+m*T+f*P+g*D,i[3]=v*w+y*M+x*A+b*R,i[7]=v*_+y*N+x*C+b*O,i[11]=v*S+y*j+x*k+b*L,i[15]=v*E+y*T+x*P+b*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*h-i*a*u+n*a*h+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],m=e[13],f=e[14],g=e[15],v=u*f*l-m*d*l+m*s*h-o*f*h-u*s*g+o*d*g,y=p*d*l-c*f*l-p*s*h+a*f*h+c*s*g-a*d*g,x=c*m*l-p*u*l+p*o*h-a*m*h-c*o*g+a*u*g,b=p*u*s-c*m*s-p*o*d+a*m*d+c*o*f-a*u*f,w=t*v+n*y+r*x+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=v*_,e[1]=(m*d*i-u*f*i-m*r*h+n*f*h+u*r*g-n*d*g)*_,e[2]=(o*f*i-m*s*i+m*r*l-n*f*l-o*r*g+n*s*g)*_,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*_,e[4]=y*_,e[5]=(c*f*i-p*d*i+p*r*h-t*f*h-c*r*g+t*d*g)*_,e[6]=(p*s*i-a*f*i-p*r*l+t*f*l+a*r*g-t*s*g)*_,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*_,e[8]=x*_,e[9]=(p*u*i-c*m*i-p*n*h+t*m*h+c*n*g-t*u*g)*_,e[10]=(a*m*i-p*o*i+p*n*l-t*m*l-a*n*g+t*o*g)*_,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*_,e[12]=b*_,e[13]=(c*m*r-p*u*r+p*n*d-t*m*d-c*n*f+t*u*f)*_,e[14]=(p*o*r-a*m*r-p*n*s+t*m*s+a*n*f-t*o*f)*_,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,p=i*u,m=a*c,f=a*u,g=o*u,v=s*l,y=s*c,x=s*u,b=n.x,w=n.y,_=n.z;return r[0]=(1-(m+g))*b,r[1]=(h+x)*b,r[2]=(p-y)*b,r[3]=0,r[4]=(h-x)*w,r[5]=(1-(d+g))*w,r[6]=(f+v)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(f-v)*_,r[10]=(1-(d+m))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=cL.set(r[0],r[1],r[2]).length();const a=cL.set(r[4],r[5],r[6]).length(),o=cL.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],uL.copy(this);const s=1/i,l=1/a,c=1/o;return uL.elements[0]*=s,uL.elements[1]*=s,uL.elements[2]*=s,uL.elements[4]*=l,uL.elements[5]*=l,uL.elements[6]*=l,uL.elements[8]*=c,uL.elements[9]*=c,uL.elements[10]*=c,t.setFromRotationMatrix(uL),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qR,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2*i/(t-e),u=2*i/(n-r),d=(t+e)/(t-e),h=(n+r)/(n-r);let p,m;if(s)p=i/(a-i),m=a*i/(a-i);else if(o===qR)p=-(a+i)/(a-i),m=-2*a*i/(a-i);else{if(o!==KR)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);p=-a/(a-i),m=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qR,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2/(t-e),u=2/(n-r),d=-(t+e)/(t-e),h=-(n+r)/(n-r);let p,m;if(s)p=1/(a-i),m=a/(a-i);else if(o===qR)p=-2/(a-i),m=-(a+i)/(a-i);else{if(o!==KR)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=-1/(a-i),m=-i/(a-i)}return l[0]=c,l[4]=0,l[8]=0,l[12]=d,l[1]=0,l[5]=u,l[9]=0,l[13]=h,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const cL=new oO,uL=new lL,dL=new oO(0,0,0),hL=new oO(1,1,1),pL=new oO,mL=new oO,fL=new oO,gL=new lL,vL=new aO;class yL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yL.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(QR(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-QR(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(QR(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-QR(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(QR(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-QR(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return gL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gL,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return vL.setFromEuler(this),this.setFromQuaternion(vL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}yL.DEFAULT_ORDER="XYZ";class xL{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let bL=0;const wL=new oO,_L=new aO,SL=new lL,EL=new oO,ML=new oO,NL=new oO,jL=new aO,TL=new oO(1,0,0),AL=new oO(0,1,0),CL=new oO(0,0,1),kL={type:"added"},PL={type:"removed"},RL={type:"childadded",child:null},OL={type:"childremoved",child:null};class LL extends XR{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bL++}),this.uuid=$R(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=LL.DEFAULT_UP.clone();const e=new oO,t=new yL,n=new aO,r=new oO(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new lL},normalMatrix:{value:new cO}}),this.matrix=new lL,this.matrixWorld=new lL,this.matrixAutoUpdate=LL.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=LL.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new xL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _L.setFromAxisAngle(e,t),this.quaternion.multiply(_L),this}rotateOnWorldAxis(e,t){return _L.setFromAxisAngle(e,t),this.quaternion.premultiply(_L),this}rotateX(e){return this.rotateOnAxis(TL,e)}rotateY(e){return this.rotateOnAxis(AL,e)}rotateZ(e){return this.rotateOnAxis(CL,e)}translateOnAxis(e,t){return wL.copy(e).applyQuaternion(this.quaternion),this.position.add(wL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(TL,e)}translateY(e){return this.translateOnAxis(AL,e)}translateZ(e){return this.translateOnAxis(CL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(SL.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?EL.copy(e):EL.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ML.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?SL.lookAt(ML,EL,this.up):SL.lookAt(EL,ML,this.up),this.quaternion.setFromRotationMatrix(SL),r&&(SL.extractRotation(r.matrixWorld),_L.setFromRotationMatrix(SL),this.quaternion.premultiply(_L.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(kL),RL.child=e,this.dispatchEvent(RL),RL.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(PL),OL.child=e,this.dispatchEvent(OL),OL.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),SL.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),SL.multiply(e.parent.matrixWorld)),e.applyMatrix4(SL),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(kL),RL.child=e,this.dispatchEvent(RL),RL.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ML,e,NL),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ML,jL,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(e=>u(u({},e),{},{boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(e=>u({},e)),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}LL.DEFAULT_UP=new oO(0,1,0),LL.DEFAULT_MATRIX_AUTO_UPDATE=!0,LL.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const DL=new oO,IL=new oO,FL=new oO,UL=new oO,zL=new oO,BL=new oO,VL=new oO,HL=new oO,WL=new oO,GL=new oO,qL=new CO,KL=new CO,XL=new CO;class YL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oO,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new oO;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),DL.subVectors(e,t),r.cross(DL);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){DL.subVectors(r,t),IL.subVectors(n,t),FL.subVectors(e,t);const a=DL.dot(DL),o=DL.dot(IL),s=DL.dot(FL),l=IL.dot(IL),c=IL.dot(FL),u=a*l-o*o;if(0===u)return i.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,p=(a*c-o*s)*d;return i.set(1-h-p,p,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,UL)&&(UL.x>=0&&UL.y>=0&&UL.x+UL.y<=1)}static getInterpolation(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,UL)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,UL.x),s.addScaledVector(a,UL.y),s.addScaledVector(o,UL.z),s)}static getInterpolatedAttribute(e,t,n,r,i,a){return qL.setScalar(0),KL.setScalar(0),XL.setScalar(0),qL.fromBufferAttribute(e,t),KL.fromBufferAttribute(e,n),XL.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(qL,i.x),a.addScaledVector(KL,i.y),a.addScaledVector(XL,i.z),a}static isFrontFacing(e,t,n,r){return DL.subVectors(n,t),IL.subVectors(e,t),DL.cross(IL).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return DL.subVectors(this.c,this.b),IL.subVectors(this.a,this.b),.5*DL.cross(IL).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return YL.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return YL.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return YL.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return YL.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return YL.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;zL.subVectors(r,n),BL.subVectors(i,n),HL.subVectors(e,n);const s=zL.dot(HL),l=BL.dot(HL);if(s<=0&&l<=0)return t.copy(n);WL.subVectors(e,r);const c=zL.dot(WL),u=BL.dot(WL);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(zL,a);GL.subVectors(e,i);const h=zL.dot(GL),p=BL.dot(GL);if(p>=0&&h<=p)return t.copy(i);const m=h*l-s*p;if(m<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(n).addScaledVector(BL,o);const f=c*p-h*u;if(f<=0&&u-c>=0&&h-p>=0)return VL.subVectors(i,r),o=(u-c)/(u-c+(h-p)),t.copy(r).addScaledVector(VL,o);const g=1/(f+m+d);return a=m*g,o=d*g,t.copy(n).addScaledVector(zL,a).addScaledVector(BL,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const JL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ZL={h:0,s:0,l:0},$L={h:0,s:0,l:0};function QL(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class eD{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,xO.colorSpaceToWorking(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xO.workingColorSpace;return this.r=e,this.g=t,this.b=n,xO.colorSpaceToWorking(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xO.workingColorSpace;if(e=eO(e,1),t=QR(t,0,1),n=QR(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=QL(i,r,e+1/3),this.g=QL(i,r,e),this.b=QL(i,r,e-1/3)}return xO.colorSpaceToWorking(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR;const n=JL[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bO(e.r),this.g=bO(e.g),this.b=bO(e.b),this}copyLinearToSRGB(e){return this.r=wO(e.r),this.g=wO(e.g),this.b=wO(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kR;return xO.workingToColorSpace(tD.copy(this),e),65536*Math.round(QR(255*tD.r,0,255))+256*Math.round(QR(255*tD.g,0,255))+Math.round(QR(255*tD.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kR;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xO.workingColorSpace;xO.workingToColorSpace(tD.copy(this),t);const n=tD.r,r=tD.g,i=tD.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xO.workingColorSpace;return xO.workingToColorSpace(tD.copy(this),t),e.r=tD.r,e.g=tD.g,e.b=tD.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kR;xO.workingToColorSpace(tD.copy(this),e);const t=tD.r,n=tD.g,r=tD.b;return e!==kR?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL(ZL),this.setHSL(ZL.h+e,ZL.s+t,ZL.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ZL),e.getHSL($L);const n=tO(ZL.h,$L.h,t),r=tO(ZL.s,$L.s,t),i=tO(ZL.l,$L.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const tD=new eD;eD.NAMES=JL;let nD=0;class rD extends XR{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:nD++}),this.uuid=$R(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=zk,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new eD(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=LR,this.stencilZFail=LR,this.stencilZPass=LR,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==zk&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==LR&&(n.stencilFail=this.stencilFail),this.stencilZFail!==LR&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==LR&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class iD extends rD{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new eD(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yL,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const aD=new oO,oD=new iO;let sD=0;class lD{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:sD++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=WR,this.updateRanges=[],this.gpuType=PP,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)oD.fromBufferAttribute(this,t),oD.applyMatrix3(e),this.setXY(t,oD.x,oD.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)aD.fromBufferAttribute(this,t),aD.applyMatrix3(e),this.setXYZ(t,aD.x,aD.y,aD.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)aD.fromBufferAttribute(this,t),aD.applyMatrix4(e),this.setXYZ(t,aD.x,aD.y,aD.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)aD.fromBufferAttribute(this,t),aD.applyNormalMatrix(e),this.setXYZ(t,aD.x,aD.y,aD.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)aD.fromBufferAttribute(this,t),aD.transformDirection(e),this.setXYZ(t,aD.x,aD.y,aD.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=nO(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rO(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=nO(t,this.array)),t}setX(e,t){return this.normalized&&(t=rO(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=nO(t,this.array)),t}setY(e,t){return this.normalized&&(t=rO(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=nO(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rO(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=nO(t,this.array)),t}setW(e,t){return this.normalized&&(t=rO(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rO(t,this.array),n=rO(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=rO(t,this.array),n=rO(n,this.array),r=rO(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=rO(t,this.array),n=rO(n,this.array),r=rO(r,this.array),i=rO(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==WR&&(e.usage=this.usage),e}}class cD extends lD{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class uD extends lD{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class dD extends lD{constructor(e,t,n){super(new Float32Array(e),t,n)}}let hD=0;const pD=new lL,mD=new LL,fD=new oO,gD=new LO,vD=new LO,yD=new oO;class xD extends XR{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hD++}),this.uuid=$R(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dO(e)?uD:cD)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new cO).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return pD.makeRotationFromQuaternion(e),this.applyMatrix4(pD),this}rotateX(e){return pD.makeRotationX(e),this.applyMatrix4(pD),this}rotateY(e){return pD.makeRotationY(e),this.applyMatrix4(pD),this}rotateZ(e){return pD.makeRotationZ(e),this.applyMatrix4(pD),this}translate(e,t,n){return pD.makeTranslation(e,t,n),this.applyMatrix4(pD),this}scale(e,t,n){return pD.makeScale(e,t,n),this.applyMatrix4(pD),this}lookAt(e){return mD.lookAt(e),mD.updateMatrix(),this.applyMatrix4(mD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fD).negate(),this.translate(fD.x,fD.y,fD.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new dD(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new LO);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new oO(-1/0,-1/0,-1/0),new oO(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];gD.setFromBufferAttribute(e),this.morphTargetsRelative?(yD.addVectors(this.boundingBox.min,gD.min),this.boundingBox.expandByPoint(yD),yD.addVectors(this.boundingBox.max,gD.max),this.boundingBox.expandByPoint(yD)):(this.boundingBox.expandByPoint(gD.min),this.boundingBox.expandByPoint(gD.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new QO);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new oO,1/0);if(e){const n=this.boundingSphere.center;if(gD.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];vD.setFromBufferAttribute(n),this.morphTargetsRelative?(yD.addVectors(gD.min,vD.min),gD.expandByPoint(yD),yD.addVectors(gD.max,vD.max),gD.expandByPoint(yD)):(gD.expandByPoint(vD.min),gD.expandByPoint(vD.max))}gD.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)yD.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(yD));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)yD.fromBufferAttribute(a,t),o&&(fD.fromBufferAttribute(e,t),yD.add(fD)),r=Math.max(r,n.distanceToSquared(yD))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new lD(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new oO,s[S]=new oO;const l=new oO,c=new oO,u=new oO,d=new iO,h=new iO,p=new iO,m=new oO,f=new oO;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,r),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(m.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(a),f.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(a),o[e].add(m),o[t].add(m),o[r].add(m),s[e].add(f),s[t].add(f),s[r].add(f))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new oO,x=new oO,b=new oO,w=new oO;function _(e){b.fromBufferAttribute(r,e),w.copy(b);const t=o[e];y.copy(t),y.sub(b.multiplyScalar(b.dot(t))).normalize(),x.crossVectors(w,t);const n=x.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)_(e.getX(r+0)),_(e.getX(r+1)),_(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new lD(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new oO,i=new oO,a=new oO,o=new oO,s=new oO,l=new oO,c=new oO,u=new oO;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)yD.fromBufferAttribute(e,t),yD.normalize(),e.setXYZ(t,yD.x,yD.y,yD.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new lD(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xD,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere=o.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const bD=new lL,wD=new sL,_D=new QO,SD=new oO,ED=new oO,MD=new oO,ND=new oO,jD=new oO,TD=new oO,AD=new oO,CD=new oO;class kD extends LL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xD,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iD;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){TD.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(jD.fromBufferAttribute(s,e),a?TD.addScaledVector(jD,r):TD.addScaledVector(jD.sub(t),r))}t.add(TD)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),_D.copy(n.boundingSphere),_D.applyMatrix4(i),wD.copy(e.ray).recast(e.near),!1===_D.containsPoint(wD.origin)){if(null===wD.intersectSphere(_D,SD))return;if(wD.origin.distanceToSquared(SD)>(e.far-e.near)**2)return}bD.copy(i).invert(),wD.copy(e.ray).applyMatrix4(bD),null!==n.boundingBox&&!1===wD.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,wD)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const i=d[p],s=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3){r=PD(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);i<s;i+=3){r=PD(this,a,e,n,l,c,u,o.getX(i),o.getX(i+1),o.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const i=d[p],o=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3){r=PD(this,o,e,n,l,c,u,a,a+1,a+2),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);i<o;i+=3){r=PD(this,a,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function PD(e,t,n,r,i,a,o,s,l,c){e.getVertexPosition(s,ED),e.getVertexPosition(l,MD),e.getVertexPosition(c,ND);const u=function(e,t,n,r,i,a,o,s){let l;if(l=1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,0===t.side,s),null===l)return null;CD.copy(s),CD.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(CD);return c<n.near||c>n.far?null:{distance:c,point:CD.clone(),object:e}}(e,t,n,r,ED,MD,ND,AD);if(u){const e=new oO;YL.getBarycoord(AD,ED,MD,ND,e),i&&(u.uv=YL.getInterpolatedAttribute(i,s,l,c,e,new iO)),a&&(u.uv1=YL.getInterpolatedAttribute(a,s,l,c,e,new iO)),o&&(u.normal=YL.getInterpolatedAttribute(o,s,l,c,e,new oO),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new oO,materialIndex:0};YL.getNormal(ED,MD,ND,t.normal),u.face=t,u.barycoord=e}return u}class RD extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,r,i,a,p,m,f,g,v){const y=a/f,x=p/g,b=a/2,w=p/2,_=m/2,S=f+1,E=g+1;let M=0,N=0;const j=new oO;for(let o=0;o<E;o++){const a=o*x-w;for(let s=0;s<S;s++){const d=s*y-b;j[e]=d*r,j[t]=a*i,j[n]=_,l.push(j.x,j.y,j.z),j[e]=0,j[t]=0,j[n]=m>0?1:-1,c.push(j.x,j.y,j.z),u.push(s/f),u.push(1-o/g),M+=1}}for(let o=0;o<g;o++)for(let e=0;e<f;e++){const t=d+e+S*o,n=d+e+S*(o+1),r=d+(e+1)+S*(o+1),i=d+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),N+=6}o.addGroup(h,N,v),h+=N,d+=M}p("z","y","x",-1,-1,n,t,e,a,i,0),p("z","y","x",1,-1,n,t,-e,a,i,1),p("x","z","y",1,1,e,n,t,r,a,2),p("x","z","y",1,-1,e,n,-t,r,a,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new dD(l,3)),this.setAttribute("normal",new dD(c,3)),this.setAttribute("uv",new dD(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RD(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function OD(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function LD(e){const t={};for(let n=0;n<e.length;n++){const r=OD(e[n]);for(const e in r)t[e]=r[e]}return t}function DD(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:xO.workingColorSpace}const ID={clone:OD,merge:LD};class FD extends rD{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=OD(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class UD extends LL{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lL,this.projectionMatrix=new lL,this.projectionMatrixInverse=new lL,this.coordinateSystem=qR,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const zD=new oO,BD=new iO,VD=new iO;class HD extends UD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*ZR*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*JR*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ZR*Math.atan(Math.tan(.5*JR*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){zD.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(zD.x,zD.y).multiplyScalar(-e/zD.z),zD.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zD.x,zD.y).multiplyScalar(-e/zD.z)}getViewSize(e,t){return this.getViewBounds(e,BD,VD),t.subVectors(VD,BD)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*JR*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const WD=-90;class GD extends LL{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new HD(WD,1,e,t);r.layers=this.layers,this.add(r);const i=new HD(WD,1,e,t);i.layers=this.layers,this.add(i);const a=new HD(WD,1,e,t);a.layers=this.layers,this.add(a);const o=new HD(WD,1,e,t);o.layers=this.layers,this.add(o);const s=new HD(WD,1,e,t);s.layers=this.layers,this.add(s);const l=new HD(WD,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(const l of t)this.remove(l);if(e===qR)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==KR)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class qD extends AO{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:hP,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class KD extends PO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new qD(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new RD(5,5,5),o=new FD({name:"CubemapFromEquirect",uniforms:OD(n),vertexShader:r,fragmentShader:i,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new kD(a,o),l=t.minFilter;t.minFilter===MP&&(t.minFilter=SP);return new GD(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}class XD extends LL{constructor(){super(),this.isGroup=!0,this.type="Group"}}const YD={type:"move"};class JD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new XD,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new XD,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oO,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oO),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new XD,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oO,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oO),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(YD)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new XD;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ZD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new eD(e),this.near=t,this.far=n}clone(){return new ZD(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class $D extends LL{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new yL,this.environmentIntensity=1,this.environmentRotation=new yL,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const QD=new oO,eI=new oO,tI=new cO;class nI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oO(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=QD.subVectors(n,t).cross(eI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(QD),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||tI.getNormalMatrix(e),r=this.coplanarPoint(QD).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const rI=new QO,iI=new iO(.5,.5),aI=new oO;class oI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new nI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new nI,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new nI,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new nI,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new nI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new nI;this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qR,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],p=i[8],m=i[9],f=i[10],g=i[11],v=i[12],y=i[13],x=i[14],b=i[15];if(r[0].setComponents(l-a,h-c,g-p,b-v).normalize(),r[1].setComponents(l+a,h+c,g+p,b+v).normalize(),r[2].setComponents(l+o,h+u,g+m,b+y).normalize(),r[3].setComponents(l-o,h-u,g-m,b-y).normalize(),n)r[4].setComponents(s,d,f,x).normalize(),r[5].setComponents(l-s,h-d,g-f,b-x).normalize();else if(r[4].setComponents(l-s,h-d,g-f,b-x).normalize(),t===qR)r[5].setComponents(l+s,h+d,g+f,b+x).normalize();else{if(t!==KR)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(s,d,f,x).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),rI.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),rI.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(rI)}intersectsSprite(e){rI.center.set(0,0,0);const t=iI.distanceTo(e.center);return rI.radius=.7071067811865476+t,rI.applyMatrix4(e.matrixWorld),this.intersectsSphere(rI)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(aI.x=r.normal.x>0?e.max.x:e.min.x,aI.y=r.normal.y>0?e.max.y:e.min.y,aI.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(aI)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class sI extends AO{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kP,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bP,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:bP,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:zP,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;if(c!==zP&&c!==BP)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new MO(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class lI extends AO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class cI extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new oO,c=new iO;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new dD(a,3)),this.setAttribute("normal",new dD(o,3)),this.setAttribute("uv",new dD(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class uI extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let p=0;const m=[],f=n/2;let g=0;function v(n){const i=p,a=new iO,m=new oO;let v=0;const y=!0===n?e:t,x=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,f*x,0),d.push(0,x,0),h.push(.5,.5),p++;const b=p;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);m.x=y*i,m.y=f*x,m.z=y*n,u.push(m.x,m.y,m.z),d.push(0,x,0),a.x=.5*n+.5,a.y=.5*i*x+.5,h.push(a.x,a.y),p++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new oO,v=new oO;let y=0;const x=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),m=Math.cos(i);v.x=y*l,v.y=-g*n+f,v.z=y*m,u.push(v.x,v.y,v.z),a.set(l,x,m).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),c.push(p++)}m.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const a=m[r][n],o=m[r+1][n],s=m[r+1][n+1],l=m[r][n+1];(e>0||0!==r)&&(c.push(a,o,l),y+=3),(t>0||r!==i-1)&&(c.push(o,s,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new dD(u,3)),this.setAttribute("normal",new dD(d,3)),this.setAttribute("uv",new dD(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uI(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class dI extends uI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new dI(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hI extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,d=t/s,h=[],p=[],m=[],f=[];for(let g=0;g<c;g++){const e=g*d-a;for(let t=0;t<l;t++){const n=t*u-i;p.push(n,-e,0),m.push(0,0,1),f.push(t/o),f.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new dD(p,3)),this.setAttribute("normal",new dD(m,3)),this.setAttribute("uv",new dD(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hI(e.width,e.height,e.widthSegments,e.heightSegments)}}class pI extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new oO,d=new oO,h=[],p=[],m=[],f=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===a?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),f.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],o=c[g+1][e+1];(0!==g||a>0)&&h.push(t,r,o),(g!==n-1||s<Math.PI)&&h.push(r,i,o)}this.setIndex(h),this.setAttribute("position",new dD(p,3)),this.setAttribute("normal",new dD(m,3)),this.setAttribute("uv",new dD(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pI(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mI extends xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],c=new oO,u=new oO,d=new oO;for(let h=0;h<=n;h++)for(let a=0;a<=r;a++){const p=a/r*i,m=h/n*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p),u.y=(e+t*Math.cos(m))*Math.sin(p),u.z=t*Math.sin(m),o.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,o=(r+1)*h+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new dD(o,3)),this.setAttribute("normal",new dD(s,3)),this.setAttribute("uv",new dD(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mI(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fI extends rD{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new eD(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new eD(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new iO(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yL,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gI extends rD{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vI extends rD{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function yI(e,t){return e&&e.constructor!==t?"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function xI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}class bI{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=i)){const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0;break n}break e}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wI extends bI{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jR,endingEnd:jR}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case TR:i=e,o=2*t-n;break;case AR:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case TR:a=e,s=2*n-t;break;case AR:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,v=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,y=(-1-h)*f+(1.5+h)*m+.5*p,x=h*f-h*m;for(let b=0;b!==o;++b)i[b]=g*a[c+b]+v*a[l+b]+y*a[s+b]+x*a[u+b];return i}}class _I extends bI{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}class SI extends bI{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class EI{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yI(t,this.TimeBufferType),this.values=yI(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:yI(e.times,Array),values:yI(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new SI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _I(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ER:t=this.InterpolantFactoryMethodDiscrete;break;case MR:t=this.InterpolantFactoryMethodLinear;break;case NR:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ER;case this.InterpolantFactoryMethodLinear:return MR;case this.InterpolantFactoryMethodSmooth:return NR}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==r&&xI(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===NR,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}EI.prototype.ValueTypeName="",EI.prototype.TimeBufferType=Float32Array,EI.prototype.ValueBufferType=Float32Array,EI.prototype.DefaultInterpolation=MR;class MI extends EI{constructor(e,t,n){super(e,t,n)}}MI.prototype.ValueTypeName="bool",MI.prototype.ValueBufferType=Array,MI.prototype.DefaultInterpolation=ER,MI.prototype.InterpolantFactoryMethodLinear=void 0,MI.prototype.InterpolantFactoryMethodSmooth=void 0;class NI extends EI{constructor(e,t,n,r){super(e,t,n,r)}}NI.prototype.ValueTypeName="color";class jI extends EI{constructor(e,t,n,r){super(e,t,n,r)}}jI.prototype.ValueTypeName="number";class TI extends bI{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let c=l+o;l!==c;l+=4)aO.slerpFlat(i,0,a,l-o,a,l,s);return i}}class AI extends EI{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new TI(this.times,this.values,this.getValueSize(),e)}}AI.prototype.ValueTypeName="quaternion",AI.prototype.InterpolantFactoryMethodSmooth=void 0;class CI extends EI{constructor(e,t,n){super(e,t,n)}}CI.prototype.ValueTypeName="string",CI.prototype.ValueBufferType=Array,CI.prototype.DefaultInterpolation=ER,CI.prototype.InterpolantFactoryMethodLinear=void 0,CI.prototype.InterpolantFactoryMethodSmooth=void 0;class kI extends EI{constructor(e,t,n,r){super(e,t,n,r)}}kI.prototype.ValueTypeName="vector";class PI{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.abortController=new AbortController,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const RI=new PI;class OI{constructor(e){this.manager=void 0!==e?e:RI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}OI.DEFAULT_MATERIAL_NAME="__DEFAULT";Error;new WeakMap;class LI extends LL{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new eD(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const DI=new lL,II=new oO,FI=new oO;class UI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new iO(512,512),this.mapType=NP,this.map=null,this.mapPass=null,this.matrix=new lL,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oI,this._frameExtents=new iO(1,1),this._viewportCount=1,this._viewports=[new CO(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;II.setFromMatrixPosition(e.matrixWorld),t.position.copy(II),FI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(FI),t.updateMatrixWorld(),DI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DI,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(DI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zI extends UD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class BI extends UI{constructor(){super(new zI(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VI extends LI{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(LL.DEFAULT_UP),this.updateMatrix(),this.target=new LL,this.shadow=new BI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class HI extends LI{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}new WeakMap;class WI extends HD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const GI="\\[\\]\\.:\\/",qI=new RegExp("["+GI+"]","g"),KI="[^"+GI+"]",XI="[^"+GI.replace("\\.","")+"]",YI=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",KI)+/(WCOD+)?/.source.replace("WCOD",XI)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KI)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KI)+"$"),JI=["material","materials","bones","map"];class ZI{constructor(e,t,n){this.path=t,this.parsedPath=n||ZI.parseTrackName(t),this.node=ZI.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ZI.Composite(e,t,n):new ZI(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qI,"")}static parseTrackName(e){const t=YI.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==JI.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=ZI.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ZI.Composite=class{constructor(e,t,n){const r=n||ZI.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},ZI.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ZI.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ZI.prototype.GetterByBindingType=[ZI.prototype._getValue_direct,ZI.prototype._getValue_array,ZI.prototype._getValue_arrayElement,ZI.prototype._getValue_toArray],ZI.prototype.SetterByBindingTypeAndVersioning=[[ZI.prototype._setValue_direct,ZI.prototype._setValue_direct_setNeedsUpdate,ZI.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ZI.prototype._setValue_array,ZI.prototype._setValue_array_setNeedsUpdate,ZI.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ZI.prototype._setValue_arrayElement,ZI.prototype._setValue_arrayElement_setNeedsUpdate,ZI.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ZI.prototype._setValue_fromArray,ZI.prototype._setValue_fromArray_setNeedsUpdate,ZI.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);function $I(e,t,n,r){const i=function(e){switch(e){case NP:case jP:return{byteLength:1,components:1};case AP:case TP:case RP:return{byteLength:2,components:1};case OP:case LP:return{byteLength:2,components:4};case kP:case CP:case PP:return{byteLength:4,components:1};case IP:case FP:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(r);switch(n){case 1021:return e*t;case VP:case HP:return e*t/i.components*i.byteLength;case 1030:case WP:return e*t*2/i.components*i.byteLength;case 1022:return e*t*3/i.components*i.byteLength;case UP:case GP:return e*t*4/i.components*i.byteLength;case qP:case KP:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case XP:case YP:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ZP:case QP:return Math.max(e,16)*Math.max(t,8)/4;case JP:case $P:return Math.max(e,8)*Math.max(t,8)/2;case eR:case tR:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case nR:case rR:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case iR:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case aR:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case oR:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case sR:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case lR:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case cR:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case uR:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case dR:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case hR:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case pR:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case mR:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case fR:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case gR:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case vR:case yR:case xR:return Math.ceil(e/4)*Math.ceil(t/4)*16;case bR:case wR:return Math.ceil(e/4)*Math.ceil(t/4)*8;case _R:case SR:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}function QI(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function eF(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if("undefined"!==typeof Float16Array&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let n=0,o=a.length;n<o;n++){const t=a[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Dk}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Dk);const tF={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\tfloat depth = unpackRGBAToDepth( texture2D( depths, uv ) );\n\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\treturn step( depth, compare );\n\t\t#else\n\t\t\treturn step( compare, depth );\n\t\t#endif\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow( sampler2D shadow, vec2 uv, float compare ) {\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\tfloat hard_shadow = step( distribution.x, compare );\n\t\t#else\n\t\t\tfloat hard_shadow = step( compare, distribution.x );\n\t\t#endif\n\t\tif ( hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\tfloat fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n\t#else\n\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n\t#endif\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},nF={common:{diffuse:{value:new eD(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cO},alphaMap:{value:null},alphaMapTransform:{value:new cO},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cO}},envmap:{envMap:{value:null},envMapRotation:{value:new cO},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cO}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cO}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cO},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cO},normalScale:{value:new iO(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cO},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cO}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cO}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cO}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new eD(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new eD(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cO},alphaTest:{value:0},uvTransform:{value:new cO}},sprite:{diffuse:{value:new eD(16777215)},opacity:{value:1},center:{value:new iO(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cO},alphaMap:{value:null},alphaMapTransform:{value:new cO},alphaTest:{value:0}}},rF={basic:{uniforms:LD([nF.common,nF.specularmap,nF.envmap,nF.aomap,nF.lightmap,nF.fog]),vertexShader:tF.meshbasic_vert,fragmentShader:tF.meshbasic_frag},lambert:{uniforms:LD([nF.common,nF.specularmap,nF.envmap,nF.aomap,nF.lightmap,nF.emissivemap,nF.bumpmap,nF.normalmap,nF.displacementmap,nF.fog,nF.lights,{emissive:{value:new eD(0)}}]),vertexShader:tF.meshlambert_vert,fragmentShader:tF.meshlambert_frag},phong:{uniforms:LD([nF.common,nF.specularmap,nF.envmap,nF.aomap,nF.lightmap,nF.emissivemap,nF.bumpmap,nF.normalmap,nF.displacementmap,nF.fog,nF.lights,{emissive:{value:new eD(0)},specular:{value:new eD(1118481)},shininess:{value:30}}]),vertexShader:tF.meshphong_vert,fragmentShader:tF.meshphong_frag},standard:{uniforms:LD([nF.common,nF.envmap,nF.aomap,nF.lightmap,nF.emissivemap,nF.bumpmap,nF.normalmap,nF.displacementmap,nF.roughnessmap,nF.metalnessmap,nF.fog,nF.lights,{emissive:{value:new eD(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tF.meshphysical_vert,fragmentShader:tF.meshphysical_frag},toon:{uniforms:LD([nF.common,nF.aomap,nF.lightmap,nF.emissivemap,nF.bumpmap,nF.normalmap,nF.displacementmap,nF.gradientmap,nF.fog,nF.lights,{emissive:{value:new eD(0)}}]),vertexShader:tF.meshtoon_vert,fragmentShader:tF.meshtoon_frag},matcap:{uniforms:LD([nF.common,nF.bumpmap,nF.normalmap,nF.displacementmap,nF.fog,{matcap:{value:null}}]),vertexShader:tF.meshmatcap_vert,fragmentShader:tF.meshmatcap_frag},points:{uniforms:LD([nF.points,nF.fog]),vertexShader:tF.points_vert,fragmentShader:tF.points_frag},dashed:{uniforms:LD([nF.common,nF.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tF.linedashed_vert,fragmentShader:tF.linedashed_frag},depth:{uniforms:LD([nF.common,nF.displacementmap]),vertexShader:tF.depth_vert,fragmentShader:tF.depth_frag},normal:{uniforms:LD([nF.common,nF.bumpmap,nF.normalmap,nF.displacementmap,{opacity:{value:1}}]),vertexShader:tF.meshnormal_vert,fragmentShader:tF.meshnormal_frag},sprite:{uniforms:LD([nF.sprite,nF.fog]),vertexShader:tF.sprite_vert,fragmentShader:tF.sprite_frag},background:{uniforms:{uvTransform:{value:new cO},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tF.background_vert,fragmentShader:tF.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cO}},vertexShader:tF.backgroundCube_vert,fragmentShader:tF.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tF.cube_vert,fragmentShader:tF.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tF.equirect_vert,fragmentShader:tF.equirect_frag},distanceRGBA:{uniforms:LD([nF.common,nF.displacementmap,{referencePosition:{value:new oO},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tF.distanceRGBA_vert,fragmentShader:tF.distanceRGBA_frag},shadow:{uniforms:LD([nF.lights,nF.fog,{color:{value:new eD(0)},opacity:{value:1}}]),vertexShader:tF.shadow_vert,fragmentShader:tF.shadow_frag}};rF.physical={uniforms:LD([rF.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cO},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cO},clearcoatNormalScale:{value:new iO(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cO},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cO},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cO},sheen:{value:0},sheenColor:{value:new eD(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cO},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cO},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cO},transmissionSamplerSize:{value:new iO},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cO},attenuationDistance:{value:0},attenuationColor:{value:new eD(0)},specularColor:{value:new eD(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cO},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cO},anisotropyVector:{value:new iO},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cO}}]),vertexShader:tF.meshphysical_vert,fragmentShader:tF.meshphysical_frag};const iF={r:0,b:0,g:0},aF=new yL,oF=new lL;function sF(e,t,n,r,i,a,o){const s=new eD(0);let l,c,u=!0===a?0:1,d=null,h=0,p=null;function m(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function f(t,n){t.getRGB(iF,DD(e)),r.buffers.color.setClear(iF.r,iF.g,iF.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,f(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(s,u)},render:function(t){let n=!1;const i=m(t);null===i?f(s,u):i&&i.isColor&&(f(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=m(n);r&&(r.isCubeTexture||r.mapping===gP)?(void 0===c&&(c=new kD(new RD(1,1,1),new FD({name:"BackgroundCubeMaterial",uniforms:OD(rF.backgroundCube.uniforms),vertexShader:rF.backgroundCube.vertexShader,fragmentShader:rF.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),aF.copy(n.backgroundRotation),aF.x*=-1,aF.y*=-1,aF.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(aF.y*=-1,aF.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(oF.makeRotationFromEuler(aF)),c.material.toneMapped=xO.getTransfer(r.colorSpace)!==OR,d===r&&h===r.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=r,h=r.version,p=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new kD(new hI(2,2),new FD({name:"BackgroundMaterial",uniforms:OD(rF.background.uniforms),vertexShader:rF.background.vertexShader,fragmentShader:rF.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=xO.getTransfer(r.colorSpace)!==OR,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&h===r.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=r,h=r.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function lF(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function p(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function m(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function f(){g(),o=!0,a!==i&&(a=i,s(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,f,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=c(e.createVertexArray()),s[a]=l);return l}(f,l,i);a!==y&&(a=y,s(a.object)),v=function(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=i[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,f,l,g),v&&function(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[a]=n,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,f,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,i,a){u();const o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const c in s){const r=s[c];if(r.location>=0){let i=o[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const o=i.normalized,s=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,p=l.bytesPerElement,f=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===CP;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)m(r.location+e,s/r.locationSize,u,o,l*p,(g+s/r.locationSize*e)*p,f)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)m(r.location+e,s/r.locationSize,u,o,s*p,s/r.locationSize*e*p,f)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}p()}(n,i,l,f),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:f,resetDefaultState:g,dispose:function(){f();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:p}}function cF(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let t=0;t<a;t++)o+=i[t];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function uF(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===UP||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===RP&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==NP&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==PP&&!i)},precision:o,logarithmicDepthBuffer:l,reversedDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function dF(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new nI,s=new cO,l={value:null,needsUpdate:!1};function c(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,p=o.clipShadows,m=e.get(o);if(!i||null===d||0===d.length||a&&!p)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=m.clippingState||null;l.value=i,i=c(d,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];m.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function hF(e){let t=new WeakMap;function n(e,t){return t===mP?e.mapping=hP:t===fP&&(e.mapping=pP),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===mP||a===fP){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new KD(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const pF=[.125,.215,.35,.446,.526,.582],mF=20,fF=new zI,gF=new eD;let vF=null,yF=0,xF=0,bF=!1;const wF=(1+Math.sqrt(5))/2,_F=1/wF,SF=[new oO(-wF,_F,0),new oO(wF,_F,0),new oO(-_F,0,wF),new oO(_F,0,wF),new oO(0,wF,-_F),new oO(0,wF,_F),new oO(-1,1,-1),new oO(1,1,-1),new oO(-1,1,1),new oO(1,1,1)],EF=new oO;class MF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{size:a=256,position:o=EF}=i;vF=this._renderer.getRenderTarget(),yF=this._renderer.getActiveCubeFace(),xF=this._renderer.getActiveMipmapLevel(),bF=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=AF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=TF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vF,yF,xF),this._renderer.xr.enabled=bF,e.scissorTest=!1,jF(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===hP||e.mapping===pP?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vF=this._renderer.getRenderTarget(),yF=this._renderer.getActiveCubeFace(),xF=this._renderer.getActiveMipmapLevel(),bF=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:SP,minFilter:SP,generateMipmaps:!1,type:RP,format:UP,colorSpace:PR,depthBuffer:!1},r=NF(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=NF(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+pF.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=pF[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,m=3,f=2,g=1,v=new Float32Array(m*p*h),y=new Float32Array(f*p*h),x=new Float32Array(g*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,m*p*e),y.set(d,f*p*e);const i=[e,e,e,e,e,e];x.set(i,g*p*e)}const b=new xD;b.setAttribute("position",new lD(v,m)),b.setAttribute("uv",new lD(y,f)),b.setAttribute("faceIndex",new lD(x,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(mF),i=new oO(0,1,0),a=new FD({name:"SphericalGaussianBlur",defines:{n:mF,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new kD(this._lodPlanes[0],e);this._renderer.compile(t,fF)}_sceneToCubeUV(e,t,n,r,i){const a=new HD(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(gF),l.toneMapping=0,l.autoClear=!1;l.state.buffers.depth.getReversed()&&(l.setRenderTarget(r),l.clearDepth(),l.setRenderTarget(null));const d=new iD({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new kD(new RD,d);let p=!1;const m=e.background;m?m.isColor&&(d.color.copy(m),e.background=null,p=!0):(d.color.copy(gF),p=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(a.up.set(0,o[f],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+s[f],i.y,i.z)):1===t?(a.up.set(0,0,o[f]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+s[f],i.z)):(a.up.set(0,o[f],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+s[f]));const n=this._cubeSize;jF(r,t*n,f>2?n:0,n,n),l.setRenderTarget(r),p&&l.render(h,a),l.render(e,a)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=m}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===hP||e.mapping===pP;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=AF()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=TF());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new kD(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;jF(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,fF)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=SF[(r-i-1)%SF.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new kD(this._lodPlanes[r],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,p=i/h,m=isFinite(i)?1+Math.floor(3*p):mF;m>mF&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(m," samples when the maximum is set to ").concat(mF));const f=[];let g=0;for(let x=0;x<mF;++x){const e=x/p,t=Math.exp(-e*e/2);f.push(t),0===x?g+=t:x<m&&(g+=2*t)}for(let x=0;x<f.length;x++)f[x]=f[x]/g;u.envMap.value=e.texture,u.samples.value=m,u.weights.value=f,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const y=this._sizeLods[r];jF(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,fF)}}function NF(e,t,n){const r=new PO(e,t,n);return r.texture.mapping=gP,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function jF(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function TF(){return new FD({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function AF(){return new FD({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function CF(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===mP||a===fP,s=a===hP||a===pP;if(o||s){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new MF(e)),a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new MF(e)),a=o?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function kF(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&fO("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function PF(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(dO(n)?uD:cD)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function RF(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let t=0;t<o;t++)s+=a[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function OF(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function LF(e,t,n){const r=new WeakMap,i=new CO;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=r.get(o);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==o.morphAttributes.position,p=void 0!==o.morphAttributes.normal,m=void 0!==o.morphAttributes.color,f=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let y=0;!0===h&&(y=1),!0===p&&(y=2),!0===m&&(y=3);let x=o.attributes.position.count*y,b=1;x>t.maxTextureSize&&(b=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize);const w=new Float32Array(x*b*4*u),_=new RO(w,x,b,u);_.type=PP,_.needsUpdate=!0;const S=4*y;for(let M=0;M<u;M++){const N=f[M],j=g[M],T=v[M],A=x*b*4*M;for(let C=0;C<N.count;C++){const k=C*S;!0===h&&(i.fromBufferAttribute(N,C),w[A+k+0]=i.x,w[A+k+1]=i.y,w[A+k+2]=i.z,w[A+k+3]=0),!0===p&&(i.fromBufferAttribute(j,C),w[A+k+4]=i.x,w[A+k+5]=i.y,w[A+k+6]=i.z,w[A+k+7]=0),!0===m&&(i.fromBufferAttribute(T,C),w[A+k+8]=i.x,w[A+k+9]=i.y,w[A+k+10]=i.z,w[A+k+11]=4===T.itemSize?i.w:1)}}function E(){_.dispose(),r.delete(o),o.removeEventListener("dispose",E)}d={count:u,texture:_,size:new iO(x,b)},r.set(o,d),o.addEventListener("dispose",E)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let P=0;for(let O=0;O<l.length;O++)P+=l[O];const R=o.morphTargetsRelative?1:1-P;s.getUniforms().setValue(e,"morphTargetBaseInfluence",R),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function DF(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,c=t.get(o,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}const IF=new AO,FF=new sI(1,1),UF=new RO,zF=new OO,BF=new qD,VF=[],HF=[],WF=new Float32Array(16),GF=new Float32Array(9),qF=new Float32Array(4);function KF(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=VF[i];if(void 0===a&&(a=new Float32Array(i),VF[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function XF(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function YF(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function JF(e,t){let n=HF[t];void 0===n&&(n=new Int32Array(t),HF[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ZF(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function $F(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(XF(n,t))return;e.uniform2fv(this.addr,t),YF(n,t)}}function QF(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(XF(n,t))return;e.uniform3fv(this.addr,t),YF(n,t)}}function eU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(XF(n,t))return;e.uniform4fv(this.addr,t),YF(n,t)}}function tU(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(XF(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),YF(n,t)}else{if(XF(n,r))return;qF.set(r),e.uniformMatrix2fv(this.addr,!1,qF),YF(n,r)}}function nU(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(XF(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),YF(n,t)}else{if(XF(n,r))return;GF.set(r),e.uniformMatrix3fv(this.addr,!1,GF),YF(n,r)}}function rU(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(XF(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),YF(n,t)}else{if(XF(n,r))return;WF.set(r),e.uniformMatrix4fv(this.addr,!1,WF),YF(n,r)}}function iU(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function aU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(XF(n,t))return;e.uniform2iv(this.addr,t),YF(n,t)}}function oU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(XF(n,t))return;e.uniform3iv(this.addr,t),YF(n,t)}}function sU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(XF(n,t))return;e.uniform4iv(this.addr,t),YF(n,t)}}function lU(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function cU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(XF(n,t))return;e.uniform2uiv(this.addr,t),YF(n,t)}}function uU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(XF(n,t))return;e.uniform3uiv(this.addr,t),YF(n,t)}}function dU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(XF(n,t))return;e.uniform4uiv(this.addr,t),YF(n,t)}}function hU(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(FF.compareFunction=515,a=FF):a=IF,n.setTexture2D(t||a,i)}function pU(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||zF,i)}function mU(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||BF,i)}function fU(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||UF,i)}function gU(e,t){e.uniform1fv(this.addr,t)}function vU(e,t){const n=KF(t,this.size,2);e.uniform2fv(this.addr,n)}function yU(e,t){const n=KF(t,this.size,3);e.uniform3fv(this.addr,n)}function xU(e,t){const n=KF(t,this.size,4);e.uniform4fv(this.addr,n)}function bU(e,t){const n=KF(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function wU(e,t){const n=KF(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function _U(e,t){const n=KF(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function SU(e,t){e.uniform1iv(this.addr,t)}function EU(e,t){e.uniform2iv(this.addr,t)}function MU(e,t){e.uniform3iv(this.addr,t)}function NU(e,t){e.uniform4iv(this.addr,t)}function jU(e,t){e.uniform1uiv(this.addr,t)}function TU(e,t){e.uniform2uiv(this.addr,t)}function AU(e,t){e.uniform3uiv(this.addr,t)}function CU(e,t){e.uniform4uiv(this.addr,t)}function kU(e,t,n){const r=this.cache,i=t.length,a=JF(n,i);XF(r,a)||(e.uniform1iv(this.addr,a),YF(r,a));for(let o=0;o!==i;++o)n.setTexture2D(t[o]||IF,a[o])}function PU(e,t,n){const r=this.cache,i=t.length,a=JF(n,i);XF(r,a)||(e.uniform1iv(this.addr,a),YF(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||zF,a[o])}function RU(e,t,n){const r=this.cache,i=t.length,a=JF(n,i);XF(r,a)||(e.uniform1iv(this.addr,a),YF(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||BF,a[o])}function OU(e,t,n){const r=this.cache,i=t.length,a=JF(n,i);XF(r,a)||(e.uniform1iv(this.addr,a),YF(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||UF,a[o])}class LU{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return ZF;case 35664:return $F;case 35665:return QF;case 35666:return eU;case 35674:return tU;case 35675:return nU;case 35676:return rU;case 5124:case 35670:return iU;case 35667:case 35671:return aU;case 35668:case 35672:return oU;case 35669:case 35673:return sU;case 5125:return lU;case 36294:return cU;case 36295:return uU;case 36296:return dU;case 35678:case 36198:case 36298:case 36306:case 35682:return hU;case 35679:case 36299:case 36307:return pU;case 35680:case 36300:case 36308:case 36293:return mU;case 36289:case 36303:case 36311:case 36292:return fU}}(t.type)}}class DU{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return gU;case 35664:return vU;case 35665:return yU;case 35666:return xU;case 35674:return bU;case 35675:return wU;case 35676:return _U;case 5124:case 35670:return SU;case 35667:case 35671:return EU;case 35668:case 35672:return MU;case 35669:case 35673:return NU;case 5125:return jU;case 36294:return TU;case 36295:return AU;case 36296:return CU;case 35678:case 36198:case 36298:case 36306:case 35682:return kU;case 35679:case 36299:case 36307:return PU;case 35680:case 36300:case 36308:case 36293:return RU;case 36289:case 36303:case 36311:case 36292:return OU}}(t.type)}}class IU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const FU=/(\w+)(\])?(\[|\.)?/g;function UU(e,t){e.seq.push(t),e.map[t.id]=t}function zU(e,t,n){const r=e.name,i=r.length;for(FU.lastIndex=0;;){const a=FU.exec(r),o=FU.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){UU(n,void 0===c?new LU(s,e,t):new DU(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new IU(s),UU(n,e)),n=e}}}class BU{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);zU(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function VU(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let HU=0;const WU=new cO;function GU(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||"").trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function qU(e,t){const n=function(e){xO._getMatrix(WU,xO.workingColorSpace,e);const t="mat3( ".concat(WU.elements.map(e=>e.toFixed(4))," )");switch(xO.getTransfer(e)){case RR:return[t,"LinearTransferOETF"];case OR:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return["vec4 ".concat(e,"( vec4 value ) {"),"\treturn ".concat(n[1],"( vec4( value.rgb * ").concat(n[0],", value.a ) );"),"}"].join("\n")}function KU(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const XU=new oO;function YU(){xO.getLuminanceCoefficients(XU);const e=XU.x.toFixed(4),t=XU.y.toFixed(4),n=XU.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function JU(e){return""!==e}function ZU(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function $U(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const QU=/^[ \t]*#include +<([\w\d./]+)>/gm;function ez(e){return e.replace(QU,nz)}const tz=new Map;function nz(e,t){let n=tF[t];if(void 0===n){const e=tz.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=tF[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return ez(n)}const rz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iz(e){return e.replace(rz,az)}function az(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function oz(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function sz(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case hP:case pP:t="ENVMAP_TYPE_CUBE";break;case gP:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===pP&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),p=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(JU).join("\n")}(n),m=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),f=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(JU).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(JU).join("\n"),v.length>0&&(v+="\n")):(g=[oz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(JU).join("\n"),v=[oz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?tF.tonemapping_pars_fragment:"",0!==n.toneMapping?KU("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",tF.colorspace_pars_fragment,qU("linearToOutputTexel",n.outputColorSpace),YU(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(JU).join("\n")),o=ez(o),o=ZU(o,n),o=$U(o,n),s=ez(s),s=ZU(s,n),s=$U(s,n),o=iz(o),s=iz(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[p,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===GR?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const x=y+g+o,b=y+v+s,w=VU(i,i.VERTEX_SHADER,x),_=VU(i,i.FRAGMENT_SHADER,b);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(f)||"",r=i.getShaderInfoLog(w)||"",a=i.getShaderInfoLog(_)||"",o=n.trim(),s=r.trim(),l=a.trim();let c=!0,u=!0;if(!1===i.getProgramParameter(f,i.LINK_STATUS))if(c=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,f,w,_);else{const e=GU(i,w,"vertex"),n=GU(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(f,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+"\n"+e+"\n"+n)}else""!==o?console.warn("THREE.WebGLProgram: Program Info Log:",o):""!==s&&""!==l||(u=!1);u&&(t.diagnostics={runnable:c,programLog:o,vertexShader:{log:s,prefix:g},fragmentShader:{log:l,prefix:v}})}i.deleteShader(w),i.deleteShader(_),E=new BU(i,f),M=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,f)}let E,M;i.attachShader(f,w),i.attachShader(f,_),void 0!==n.index0AttributeName?i.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(f,0,"position"),i.linkProgram(f),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===M&&S(this),M};let N=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===N&&(N=i.getProgramParameter(f,37297)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(f),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=HU++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=w,this.fragmentShader=_,this}let lz=0;class cz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new uz(e),t.set(e,n)),n}}class uz{constructor(e){this.id=lz++,this.code=e,this.usedTimes=0}}function dz(e,t,n,r,i,a,o){const s=new xL,l=new cz,c=new Set,u=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,g,v){const y=g.fog,x=v.geometry,b=a.isMeshStandardMaterial?g.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),_=w&&w.mapping===gP?w.image.height:null,S=m[a.type];null!==a.precision&&(p=i.getMaxPrecision(a.precision),p!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead."));const E=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,M=void 0!==E?E.length:0;let N,j,T,A,C=0;if(void 0!==x.morphAttributes.position&&(C=1),void 0!==x.morphAttributes.normal&&(C=2),void 0!==x.morphAttributes.color&&(C=3),S){const e=rF[S];N=e.vertexShader,j=e.fragmentShader}else N=a.vertexShader,j=a.fragmentShader,l.update(a),T=l.getVertexShaderID(a),A=l.getFragmentShaderID(a);const k=e.getRenderTarget(),P=e.state.buffers.depth.getReversed(),R=!0===v.isInstancedMesh,O=!0===v.isBatchedMesh,L=!!a.map,D=!!a.matcap,I=!!w,F=!!a.aoMap,U=!!a.lightMap,z=!!a.bumpMap,B=!!a.normalMap,V=!!a.displacementMap,H=!!a.emissiveMap,W=!!a.metalnessMap,G=!!a.roughnessMap,q=a.anisotropy>0,K=a.clearcoat>0,X=a.dispersion>0,Y=a.iridescence>0,J=a.sheen>0,Z=a.transmission>0,$=q&&!!a.anisotropyMap,Q=K&&!!a.clearcoatMap,ee=K&&!!a.clearcoatNormalMap,te=K&&!!a.clearcoatRoughnessMap,ne=Y&&!!a.iridescenceMap,re=Y&&!!a.iridescenceThicknessMap,ie=J&&!!a.sheenColorMap,ae=J&&!!a.sheenRoughnessMap,oe=!!a.specularMap,se=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=Z&&!!a.transmissionMap,ue=Z&&!!a.thicknessMap,de=!!a.gradientMap,he=!!a.alphaMap,pe=a.alphaTest>0,me=!!a.alphaHash,fe=!!a.extensions;let ge=0;a.toneMapped&&(null!==k&&!0!==k.isXRRenderTarget||(ge=e.toneMapping));const ve={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:N,fragmentShader:j,defines:a.defines,customVertexShaderID:T,customFragmentShaderID:A,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:O,batchingColor:O&&null!==v._colorsTexture,instancing:R,instancingColor:R&&null!==v.instanceColor,instancingMorph:R&&null!==v.morphTexture,supportsVertexTextures:h,outputColorSpace:null===k?e.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:PR,alphaToCoverage:!!a.alphaToCoverage,map:L,matcap:D,envMap:I,envMapMode:I&&w.mapping,envMapCubeUVHeight:_,aoMap:F,lightMap:U,bumpMap:z,normalMap:B,displacementMap:h&&V,emissiveMap:H,normalMapObjectSpace:B&&1===a.normalMapType,normalMapTangentSpace:B&&0===a.normalMapType,metalnessMap:W,roughnessMap:G,anisotropy:q,anisotropyMap:$,clearcoat:K,clearcoatMap:Q,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:X,iridescence:Y,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:J,sheenColorMap:ie,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:se,specularIntensityMap:le,transmission:Z,transmissionMap:ce,thicknessMap:ue,gradientMap:de,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:he,alphaTest:pe,alphaHash:me,combine:a.combine,mapUv:L&&f(a.map.channel),aoMapUv:F&&f(a.aoMap.channel),lightMapUv:U&&f(a.lightMap.channel),bumpMapUv:z&&f(a.bumpMap.channel),normalMapUv:B&&f(a.normalMap.channel),displacementMapUv:V&&f(a.displacementMap.channel),emissiveMapUv:H&&f(a.emissiveMap.channel),metalnessMapUv:W&&f(a.metalnessMap.channel),roughnessMapUv:G&&f(a.roughnessMap.channel),anisotropyMapUv:$&&f(a.anisotropyMap.channel),clearcoatMapUv:Q&&f(a.clearcoatMap.channel),clearcoatNormalMapUv:ee&&f(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&f(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&f(a.iridescenceMap.channel),iridescenceThicknessMapUv:re&&f(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&f(a.sheenColorMap.channel),sheenRoughnessMapUv:ae&&f(a.sheenRoughnessMap.channel),specularMapUv:oe&&f(a.specularMap.channel),specularColorMapUv:se&&f(a.specularColorMap.channel),specularIntensityMapUv:le&&f(a.specularIntensityMap.channel),transmissionMapUv:ce&&f(a.transmissionMap.channel),thicknessMapUv:ue&&f(a.thicknessMap.channel),alphaMapUv:he&&f(a.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(B||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!x.attributes.uv&&(L||he),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reversedDepthBuffer:P,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:M,morphTextureStride:C,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:L&&!0===a.map.isVideoTexture&&xO.getTransfer(a.map.colorSpace)===OR,decodeVideoTextureEmissive:H&&!0===a.emissiveMap.isVideoTexture&&xO.getTransfer(a.emissiveMap.colorSpace)===OR,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:fe&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(fe&&!0===a.extensions.multiDraw||O)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);t.gradientMap&&s.enable(22);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reversedDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=m[e.type];let n;if(t){const e=rF[t];n=ID.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new sz(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function hz(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function pz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function mz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function fz(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||pz),r.length>1&&r.sort(t||mz),i.length>1&&i.sort(t||mz)}}}function gz(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new fz,e.set(t,[i])):n>=r.length?(i=new fz,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function vz(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new oO,color:new eD};break;case"SpotLight":n={position:new oO,direction:new oO,color:new eD,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oO,color:new eD,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oO,skyColor:new eD,groundColor:new eD};break;case"RectAreaLight":n={color:new eD,position:new oO,halfWidth:new oO,halfHeight:new oO}}return e[t.id]=n,n}}}let yz=0;function xz(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function bz(e){const t=new vz,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new iO};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new iO,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)r.probe.push(new oO);const i=new oO,a=new lL,o=new lL;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,g=0,v=0,y=0;i.sort(xz);for(let e=0,b=i.length;e<b;e++){const x=i[e],b=x.color,w=x.intensity,_=x.distance,S=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)a+=b.r*w,o+=b.g*w,s+=b.b*w;else if(x.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(x.sh.coefficients[e],w);y++}else if(x.isDirectionalLight){const e=t.get(x);if(e.color.copy(x.color).multiplyScalar(x.intensity),x.castShadow){const e=x.shadow,t=n.get(x);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=x.shadow.matrix,p++}r.directional[l]=e,l++}else if(x.isSpotLight){const e=t.get(x);e.position.setFromMatrixPosition(x.matrixWorld),e.color.copy(b).multiplyScalar(w),e.distance=_,e.coneCos=Math.cos(x.angle),e.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),e.decay=x.decay,r.spot[u]=e;const i=x.shadow;if(x.map&&(r.spotLightMap[g]=x.map,g++,i.updateMatrices(x),x.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,x.castShadow){const e=n.get(x);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,f++}u++}else if(x.isRectAreaLight){const e=t.get(x);e.color.copy(b).multiplyScalar(w),e.halfWidth.set(.5*x.width,0,0),e.halfHeight.set(0,.5*x.height,0),r.rectArea[d]=e,d++}else if(x.isPointLight){const e=t.get(x);if(e.color.copy(x.color).multiplyScalar(x.intensity),e.distance=x.distance,e.decay=x.decay,x.castShadow){const e=x.shadow,t=n.get(x);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=x.shadow.matrix,m++}r.point[c]=e,c++}else if(x.isHemisphereLight){const e=t.get(x);e.skyColor.copy(x.color).multiplyScalar(w),e.groundColor.copy(x.groundColor).multiplyScalar(w),r.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=nF.LTC_FLOAT_1,r.rectAreaLTC2=nF.LTC_FLOAT_2):(r.rectAreaLTC1=nF.LTC_HALF_1,r.rectAreaLTC2=nF.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const x=r.hash;x.directionalLength===l&&x.pointLength===c&&x.spotLength===u&&x.rectAreaLength===d&&x.hemiLength===h&&x.numDirectionalShadows===p&&x.numPointShadows===m&&x.numSpotShadows===f&&x.numSpotMaps===g&&x.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=d,r.point.length=c,r.hemi.length=h,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=f,r.spotShadowMap.length=f,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=m,r.spotLightMatrix.length=f+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,x.directionalLength=l,x.pointLength=c,x.spotLength=u,x.rectAreaLength=d,x.hemiLength=h,x.numDirectionalShadows=p,x.numPointShadows=m,x.numSpotShadows=f,x.numSpotMaps=g,x.numLightProbes=y,r.version=yz++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function wz(e){const t=new bz(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function _z(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let a;return void 0===i?(a=new wz(e),t.set(n,[a])):r>=i.length?(a=new wz(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}function Sz(e,t,n){let r=new oI;const i=new iO,a=new iO,o=new CO,s=new gI({depthPacking:3201}),l=new vI,c={},u=n.maxTextureSize,d={[Ik]:1,[Fk]:0,[Uk]:2},h=new FD({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new iO},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new xD;m.setAttribute("position",new lD(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new kD(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){const a=t.update(f);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new PO(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,f,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,p,f,null)}function x(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",w)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function b(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=x(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(l.visible){const t=x(n,l,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,a,o,s)}function w(e){e.target.removeEventListener("dispose",w);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),!0===h.buffers.depth.getReversed()?h.buffers.color.setClear(0,0,0,0):h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=3!==v&&3===this.type,m=3===v&&3!==this.type;for(let f=0,g=t.length;f<g;f++){const l=t[f],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/d.x),i.x=a.x*d.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/d.y),i.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===p||!0===m){const e=3!==this.type?{minFilter:bP,magFilter:bP}:{};null!==c.map&&c.map.dispose(),c.map=new PO(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),h.viewport(o),c.updateMatrices(l,e),r=c.getFrustum(),b(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const Ez={[iP]:1,[oP]:6,[lP]:7,[sP]:5,[aP]:0,[uP]:2,[dP]:4,[cP]:3};function Mz(e,t){const n=new function(){let t=!1;const n=new CO;let r=null;const i=new CO(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?z(e.DEPTH_TEST):B(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=Ez[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):B(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,g=null,v=null,y=null,x=null,b=new eD(0,0,0),w=0,_=!1,S=null,E=null,M=null,N=null,j=null;const T=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let A=!1,C=0;const k=e.getParameter(e.VERSION);-1!==k.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(k)[1]),A=C>=1):-1!==k.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),A=C>=2);let P=null,R={};const O=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),D=(new CO).fromArray(O),I=(new CO).fromArray(L);function F(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const U={};function z(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function B(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}U[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),U[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),U[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),z(e.DEPTH_TEST),r.setFunc(3),G(!1),q(1),z(e.CULL_FACE),W(0);const V={[zk]:e.FUNC_ADD,[Bk]:e.FUNC_SUBTRACT,[Vk]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const H={[Hk]:e.ZERO,[Wk]:e.ONE,[Gk]:e.SRC_COLOR,[Kk]:e.SRC_ALPHA,[Qk]:e.SRC_ALPHA_SATURATE,[Zk]:e.DST_COLOR,[Yk]:e.DST_ALPHA,[qk]:e.ONE_MINUS_SRC_COLOR,[Xk]:e.ONE_MINUS_SRC_ALPHA,[$k]:e.ONE_MINUS_DST_COLOR,[Jk]:e.ONE_MINUS_DST_ALPHA,[eP]:e.CONSTANT_COLOR,[tP]:e.ONE_MINUS_CONSTANT_COLOR,[nP]:e.CONSTANT_ALPHA,[rP]:e.ONE_MINUS_CONSTANT_ALPHA};function W(t,n,r,i,a,o,s,l,c,u){if(0!==t){if(!1===h&&(z(e.BLEND),h=!0),5===t)a=a||n,o=o||r,s=s||i,n===m&&a===v||(e.blendEquationSeparate(V[n],V[a]),m=n,v=a),r===f&&i===g&&o===y&&s===x||(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),f=r,g=i,y=o,x=s),!1!==l.equals(b)&&c===w||(e.blendColor(l.r,l.g,l.b,c),b.copy(l),w=c),p=t,_=!1;else if(t!==p||u!==_){if(m===zk&&v===zk||(e.blendEquation(e.FUNC_ADD),m=zk,v=zk),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case 3:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}f=null,g=null,y=null,x=null,b.set(0,0,0),w=0,p=t,_=u}}else!0===h&&(B(e.BLEND),h=!1)}function G(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function q(t){0!==t?(z(e.CULL_FACE),t!==E&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):B(e.CULL_FACE),E=t}function K(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),N===n&&j===r||(e.polygonOffset(n,r),N=n,j=r)):B(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:z,disable:B,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=u,i=!1;if(t){r=c.get(n),void 0===r&&(r=[],c.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:W,setMaterial:function(t,a){2===t.side?B(e.CULL_FACE):z(e.CULL_FACE);let o=1===t.side;a&&(o=!o),G(o),1===t.blending&&!1===t.transparent?W(0):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;i.setTest(s),s&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),K(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):B(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:q,setLineWidth:function(t){t!==M&&(A&&e.lineWidth(t),M=t)},setPolygonOffset:K,setScissorTest:function(t){t?z(e.SCISSOR_TEST):B(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+T-1),P!==t&&(e.activeTexture(t),P=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===P?e.TEXTURE0+T-1:P);let i=R[r];void 0===i&&(i={type:void 0,texture:void 0},R[r]=i),i.type===t&&i.texture===n||(P!==r&&(e.activeTexture(r),P=r),e.bindTexture(t,n||U[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=R[P];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===I.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},P=null,R={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,g=null,v=null,y=null,x=null,b=new eD(0,0,0),w=0,_=!1,S=null,E=null,M=null,N=null,j=null,D.set(0,0,e.canvas.width,e.canvas.height),I.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function Nz(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new iO,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function m(e,t){return p?new OffscreenCanvas(e,t):hO("canvas")}function f(e,t,n){let r=1;const i=H(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===d&&(d=m(n,a));const o=t?m(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function x(n,r,i,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),r===e.RGBA){const t=o?RR:xO.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===OR?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function b(t,n){let r;return t?null===n||n===kP||n===DP?r=e.DEPTH24_STENCIL8:n===PP?r=e.DEPTH32F_STENCIL8:n===AP&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===kP||n===DP?r=e.DEPTH_COMPONENT24:n===PP?r=e.DEPTH_COMPONENT32F:n===AP&&(r=e.DEPTH_COMPONENT16),r}function w(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==bP&&e.minFilter!==SP?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){const t=e.target;t.removeEventListener("dispose",_),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=h.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&E(e),0===Object.keys(i).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let a=0,s=i.length;a<s;a++){const t=r.get(i[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(i[a])}r.remove(t)}(n)}function E(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete h.get(i)[n.__cacheKey],o.memory.textures--}let M=0;function N(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void R(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const j={[vP]:e.REPEAT,[yP]:e.CLAMP_TO_EDGE,[xP]:e.MIRRORED_REPEAT},T={[bP]:e.NEAREST,[wP]:e.NEAREST_MIPMAP_NEAREST,[_P]:e.NEAREST_MIPMAP_LINEAR,[SP]:e.LINEAR,[EP]:e.LINEAR_MIPMAP_NEAREST,[MP]:e.LINEAR_MIPMAP_LINEAR},A={[DR]:e.NEVER,[HR]:e.ALWAYS,[IR]:e.LESS,[UR]:e.LEQUAL,[FR]:e.EQUAL,[VR]:e.GEQUAL,[zR]:e.GREATER,[BR]:e.NOTEQUAL};function C(n,a){if(a.type!==PP||!1!==t.has("OES_texture_float_linear")||a.magFilter!==SP&&a.magFilter!==EP&&a.magFilter!==_P&&a.magFilter!==MP&&a.minFilter!==SP&&a.minFilter!==EP&&a.minFilter!==_P&&a.minFilter!==MP||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,j[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,j[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,j[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,T[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,T[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,A[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===bP)return;if(a.minFilter!==_P&&a.minFilter!==MP)return;if(a.type===PP&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function k(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));const i=n.source;let a=h.get(i);void 0===a&&(a={},h.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&E(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function P(e,t,n){return Math.floor(Math.floor(e/n)/t)}function R(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=k(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=xO.getPrimaries(xO.workingColorSpace),r=o.colorSpace===CR?null:xO.getPrimaries(o.colorSpace),h=o.colorSpace===CR||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=f(o.image,!1,i.maxTextureSize);p=V(o,p);const m=a.convert(o.format,o.colorSpace),y=a.convert(o.type);let _,S=x(o.internalFormat,m,y,o.colorSpace,o.isVideoTexture);C(l,o);const E=o.mipmaps,M=!0!==o.isVideoTexture,N=void 0===d.__version||!0===c,j=u.dataReady,T=w(o,p);if(o.isDepthTexture)S=b(o.format===BP,o.type),N&&(M?n.texStorage2D(e.TEXTURE_2D,1,S,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,y,null));else if(o.isDataTexture)if(E.length>0){M&&N&&n.texStorage2D(e.TEXTURE_2D,T,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],M?j&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,m,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,m,y,_.data);o.generateMipmaps=!1}else M?(N&&n.texStorage2D(e.TEXTURE_2D,T,S,p.width,p.height),j&&function(t,r,i,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],i=t.start+t.count,a=P(n.start,r.width,4),l=P(t.start,r.width,4);n.start<=i+1&&a===l&&P(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,d=o.length;t<d;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),h=c,p=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,p,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(o,p,m,y)):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,y,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){M&&N&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,S,E[0].width,E[0].height,p.depth);for(let t=0,r=E.length;t<r;t++)if(_=E[t],o.format!==UP)if(null!==m)if(M){if(j)if(o.layerUpdates.size>0){const r=$I(_.width,_.height,o.format,o.type);for(const i of o.layerUpdates){const a=_.data.subarray(i*r/_.data.BYTES_PER_ELEMENT,(i+1)*r/_.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,_.width,_.height,1,m,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,p.depth,m,_.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,p.depth,0,_.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else M?j&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,p.depth,m,y,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,p.depth,0,m,y,_.data)}else{M&&N&&n.texStorage2D(e.TEXTURE_2D,T,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],o.format!==UP?null!==m?M?j&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,m,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?j&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,m,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,m,y,_.data)}else if(o.isDataArrayTexture)if(M){if(N&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,S,p.width,p.height,p.depth),j)if(o.layerUpdates.size>0){const t=$I(p.width,p.height,o.format,o.type);for(const r of o.layerUpdates){const i=p.data.subarray(r*t/p.data.BYTES_PER_ELEMENT,(r+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,p.width,p.height,1,m,y,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,y,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,p.width,p.height,p.depth,0,m,y,p.data);else if(o.isData3DTexture)M?(N&&n.texStorage3D(e.TEXTURE_3D,T,S,p.width,p.height,p.depth),j&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,y,p.data)):n.texImage3D(e.TEXTURE_3D,0,S,p.width,p.height,p.depth,0,m,y,p.data);else if(o.isFramebufferTexture){if(N)if(M)n.texStorage2D(e.TEXTURE_2D,T,S,p.width,p.height);else{let t=p.width,r=p.height;for(let i=0;i<T;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,m,y,null),t>>=1,r>>=1}}else if(E.length>0){if(M&&N){const t=H(E[0]);n.texStorage2D(e.TEXTURE_2D,T,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)_=E[t],M?j&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,y,_):n.texImage2D(e.TEXTURE_2D,t,S,m,y,_);o.generateMipmaps=!1}else if(M){if(N){const t=H(p);n.texStorage2D(e.TEXTURE_2D,T,S,t.width,t.height)}j&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,y,p)}else n.texImage2D(e.TEXTURE_2D,0,S,m,y,p);g(o)&&v(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function O(t,i,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),p=x(o.internalFormat,d,h,o.colorSpace),m=r.get(i),f=r.get(o);if(f.__renderTarget=i,!m.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,r,i.depth,0,d,h,null):n.texImage2D(c,u,p,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,f.__webglTexture,0,z(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,f.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function L(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=b(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=z(n);B(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=x(o.internalFormat,l,c,o.colorSpace),d=z(n);r&&!1===B(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):B(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);const o=a.__webglTexture,l=z(i);if(i.depthTexture.format===zP)B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==BP)throw new Error("Unknown depthTexture format");B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}function I(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");const e=t.texture.mipmaps;e&&e.length>0?D(i.__webglFramebuffer[0],t):D(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),L(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),L(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const F=[],U=[];function z(e){return Math.min(i.maxSamples,e.samples)}function B(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==PR&&n!==CR&&(xO.getTransfer(n)===OR?r===UP&&i===NP||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=M;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=N,this.setTexture2DArray=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=k(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=xO.getPrimaries(xO.workingColorSpace),r=o.colorSpace===CR?null:xO.getPrimaries(o.colorSpace),d=o.colorSpace===CR||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)m[e]=h||p?p?o.image[e].image:o.image[e]:f(o.image[e],!0,i.maxCubemapSize),m[e]=V(o,m[e]);const y=m[0],b=a.convert(o.format,o.colorSpace),_=a.convert(o.type),S=x(o.internalFormat,b,_,o.colorSpace),E=!0!==o.isVideoTexture,M=void 0===u.__version||!0===l,N=c.dataReady;let j,T=w(o,y);if(C(e.TEXTURE_CUBE_MAP,o),h){E&&M&&n.texStorage2D(e.TEXTURE_CUBE_MAP,T,S,y.width,y.height);for(let t=0;t<6;t++){j=m[t].mipmaps;for(let r=0;r<j.length;r++){const i=j[r];o.format!==UP?null!==b?E?N&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,b,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?N&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,b,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,b,_,i.data)}}}else{if(j=o.mipmaps,E&&M){j.length>0&&T++;const t=H(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,T,S,t.width,t.height)}for(let t=0;t<6;t++)if(p){E?N&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,b,_,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,m[t].width,m[t].height,0,b,_,m[t].data);for(let r=0;r<j.length;r++){const i=j[r].image[t].image;E?N&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,b,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,b,_,i.data)}}else{E?N&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,b,_,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,b,_,m[t]);for(let r=0;r<j.length;r++){const i=j[r];E?N&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,b,_,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,b,_,i.image[t])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&O(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&I(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===B(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=x(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),u=z(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),L(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),C(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)O(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else O(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);let l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),C(l,a),O(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,l,0),g(a)&&v(l)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),C(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)O(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else O(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&I(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(g(a)){const t=y(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===B(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(F.length=0,U.length=0,F.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(F.push(c),U.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,U)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,F))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=I,this.setupFrameBufferTexture=O,this.useMultisampledRTT=B}function jz(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CR;const a=xO.getTransfer(i);if(n===NP)return e.UNSIGNED_BYTE;if(n===OP)return e.UNSIGNED_SHORT_4_4_4_4;if(n===LP)return e.UNSIGNED_SHORT_5_5_5_1;if(n===IP)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===FP)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===jP)return e.BYTE;if(n===TP)return e.SHORT;if(n===AP)return e.UNSIGNED_SHORT;if(n===CP)return e.INT;if(n===kP)return e.UNSIGNED_INT;if(n===PP)return e.FLOAT;if(n===RP)return e.HALF_FLOAT;if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(n===UP)return e.RGBA;if(n===zP)return e.DEPTH_COMPONENT;if(n===BP)return e.DEPTH_STENCIL;if(n===VP)return e.RED;if(n===HP)return e.RED_INTEGER;if(1030===n)return e.RG;if(n===WP)return e.RG_INTEGER;if(n===GP)return e.RGBA_INTEGER;if(n===qP||n===KP||n===XP||n===YP)if(a===OR){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===qP)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===KP)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===XP)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===YP)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===qP)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===KP)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===XP)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===YP)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===JP||n===ZP||n===$P||n===QP){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===JP)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ZP)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===$P)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===QP)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===eR||n===tR||n===nR){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===eR||n===tR)return a===OR?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===nR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===rR||n===iR||n===aR||n===oR||n===sR||n===lR||n===cR||n===uR||n===dR||n===hR||n===pR||n===mR||n===fR||n===gR){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===rR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===iR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===aR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===oR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===sR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===lR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===cR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===uR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===dR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===hR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===pR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===mR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===fR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===gR)return a===OR?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===vR||n===yR||n===xR){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===vR)return a===OR?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===yR)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===xR)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===bR||n===wR||n===_R||n===SR){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===bR)return r.COMPRESSED_RED_RGTC1_EXT;if(n===wR)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===_R)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===SR)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===DP?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Tz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){const n=new lI(e.texture);e.depthNear===t.depthNear&&e.depthFar===t.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new FD({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new kD(new hI(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Az extends XR{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const m="undefined"!==typeof XRWebGLBinding,f=new Tz,g={},v=t.getContextAttributes();let y=null,x=null;const b=[],w=[],_=new iO;let S=null;const E=new HD;E.viewport=new CO;const M=new HD;M.viewport=new CO;const N=[E,M],j=new WI;let T=null,A=null;function C(e){const t=w.indexOf(e.inputSource);if(-1===t)return;const n=b[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function k(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",P);for(let e=0;e<b.length;e++){const t=w[e];null!==t&&(w[e]=null,b[e].disconnect(t))}T=null,A=null,f.reset();for(const e in g)delete g[e];e.setRenderTarget(y),h=null,d=null,u=null,r=null,x=null,I.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(_.width,_.height,!1),n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=w.indexOf(n);r>=0&&(w[r]=null,b[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=w.indexOf(n);if(-1===r){for(let e=0;e<b.length;e++){if(e>=w.length){w.push(n),r=e;break}if(null===w[e]){w[e]=n,r=e;break}}if(-1===r)break}const i=b[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=b[e];return void 0===t&&(t=new JD,b[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=b[e];return void 0===t&&(t=new JD,b[e]=t),t.getGripSpace()},this.getHand=function(e){let t=b[e];return void 0===t&&(t=new JD,b[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===u&&m&&(u=new XRWebGLBinding(r,t)),u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){y=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",k),r.addEventListener("inputsourceschange",P),!0!==v.xrCompatible&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(_);if(m&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;v.depth&&(o=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=v.stencil?BP:zP,a=v.stencil?DP:kP);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};u=this.getBinding(),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),x=new PO(d.textureWidth,d.textureHeight,{format:UP,type:NP,depthTexture:new sI(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),x=new PO(h.framebufferWidth,h.framebufferHeight,{format:UP,type:NP,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}x.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};const R=new oO,O=new oO;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==f.texture&&(f.depthNear>0&&(t=f.depthNear),f.depthFar>0&&(n=f.depthFar)),j.near=M.near=E.near=t,j.far=M.far=E.far=n,T===j.near&&A===j.far||(r.updateRenderState({depthNear:j.near,depthFar:j.far}),T=j.near,A=j.far),j.layers.mask=6|e.layers.mask,E.layers.mask=3&j.layers.mask,M.layers.mask=5&j.layers.mask;const i=e.parent,a=j.cameras;L(j,i);for(let r=0;r<a.length;r++)L(a[r],i);2===a.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);const r=R.distanceTo(O),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,p=o*d,m=r/(-u+d),f=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,i=h-f,a=p+(r-f),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(j,E,M):j.projectionMatrix.copy(E.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*ZR*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,j,i)},this.getCamera=function(){return j},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(j)},this.getCameraTexture=function(e){return g[e]};let D=null;const I=new QI;I.setAnimationLoop(function(t,i){if(c=i.getViewerPose(l||a),p=i,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(x,h.framebuffer),e.setRenderTarget(x));let i=!1;t.length!==j.cameras.length&&(j.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){const r=t[n];let a=null;if(null!==h)a=h.getViewport(r);else{const t=u.getViewSubImage(d,r);a=t.viewport,0===n&&(e.setRenderTargetTextures(x,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(x))}let o=N[n];void 0===o&&(o=new HD,o.layers.enable(n),o.viewport=new CO,N[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(j.matrix.copy(o.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),!0===i&&j.cameras.push(o)}const a=r.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&m){u=n.getBinding();const e=u.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&f.init(e,r.renderState)}if(a&&a.includes("camera-access")&&m){e.state.unbindTexture(),u=n.getBinding();for(let e=0;e<t.length;e++){const n=t[e].camera;if(n){let e=g[n];e||(e=new lI,g[n]=e);const t=u.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<b.length;e++){const t=w[e],n=b[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}D&&D(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),p=null}),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}const Cz=new yL,kz=new lL;function Pz(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,Cz.copy(o),Cz.x*=-1,Cz.y*=-1,Cz.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Cz.y*=-1,Cz.z*=-1),e.envMapRotation.value.setFromMatrix4(kz.makeRotationFromEuler(Cz)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,DD(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Rz(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[a];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,i=e.length;t<i;t++){const i=e[t],a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%r,s=o%t.boundary,l=o+s;n+=s,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const p=d.program;r.updateUBOMapping(n,p);const m=t.render.frame;a[n.id]!==m&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,o=r.length;i<o;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,a)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"===typeof o||"boolean"===typeof o?(r.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):o.isMatrix3?(r.__data[0]=o.elements[0],r.__data[1]=o.elements[1],r.__data[2]=o.elements[2],r.__data[3]=0,r.__data[4]=o.elements[3],r.__data[5]=o.elements[4],r.__data[6]=o.elements[5],r.__data[7]=0,r.__data[8]=o.elements[6],r.__data[9]=o.elements[7],r.__data[10]=o.elements[8],r.__data[11]=0):(o.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=m)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}class Oz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=pO(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:d=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=a;const p=new Uint32Array(4),m=new Int32Array(4);let f=null,g=null;const v=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const x=this;let b=!1;this._outputColorSpace=kR;let w=0,_=0,S=null,E=-1,M=null;const N=new CO,j=new CO;let T=null;const A=new eD(0);let C=0,k=t.width,P=t.height,R=1,O=null,L=null;const D=new CO(0,0,k,P),I=new CO(0,0,k,P);let F=!1;const U=new oI;let z=!1,B=!1;const V=new lL,H=new oO,W=new CO,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let q=!1;function K(){return null===S?R:1}let X,Y,J,Z,$,Q,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,pe,me,fe,ge,ve,ye=n;function xe(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(Dk)),t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",Se,!1),t.addEventListener("webglcontextcreationerror",Ee,!1),null===ye){const t="webgl2";if(ye=xe(t,e),null===ye)throw xe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ve){throw console.error("THREE.WebGLRenderer: "+Ve.message),Ve}function be(){X=new kF(ye),X.init(),fe=new jz(ye,X),Y=new uF(ye,X,e,fe),J=new Mz(ye,X),Y.reversedDepthBuffer&&d&&J.buffers.depth.setReversed(!0),Z=new OF(ye),$=new hz,Q=new Nz(ye,X,J,$,Y,fe,Z),ee=new hF(x),te=new CF(x),ne=new eF(ye),ge=new lF(ye,ne),re=new PF(ye,ne,Z,ge),ie=new DF(ye,re,ne,Z),he=new LF(ye,Y,Q),ce=new dF($),ae=new dz(x,ee,te,X,Y,ge,ce),oe=new Pz(x,$),se=new gz,le=new _z(X),de=new sF(x,ee,te,J,ie,h,s),ue=new Sz(x,ie,Y),ve=new Rz(ye,Z,Y,J),pe=new cF(ye,X,Z),me=new RF(ye,X,Z),Z.programs=ae.programs,x.capabilities=Y,x.extensions=X,x.properties=$,x.renderLists=se,x.shadowMap=ue,x.state=J,x.info=Z}be();const we=new Az(x,ye);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=Z.autoReset,t=ue.enabled,n=ue.autoUpdate,r=ue.needsUpdate,i=ue.type;be(),Z.autoReset=e,ue.enabled=t,ue.autoUpdate=n,ue.needsUpdate=r,ue.type=i}function Ee(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Me(e){const t=e.target;t.removeEventListener("dispose",Me),function(e){(function(e){const t=$.get(e).programs;void 0!==t&&(t.forEach(function(e){ae.releaseProgram(e)}),e.isShaderMaterial&&ae.releaseShaderCache(e))})(e),$.remove(e)}(t)}function Ne(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,De(e,t,n),e.side=0,e.needsUpdate=!0,De(e,t,n),e.side=2):De(e,t,n)}this.xr=we,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(k,P,!1))},this.getSize=function(e){return e.set(k,P)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,P=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(k*R,P*R).floor()},this.setDrawingBufferSize=function(e,n,r){k=e,P=n,R=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(N)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),J.viewport(N.copy(D).multiplyScalar(R).round())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),J.scissor(j.copy(I).multiplyScalar(R).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){J.setScissorTest(F=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return e.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor(...arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha(...arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==S){const t=S.texture.format;e=t===GP||t===WP||t===HP}if(e){const e=S.texture.type,t=e===NP||e===kP||e===AP||e===DP||e===OP||e===LP,n=de.getClearColor(),r=de.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(p[0]=i,p[1]=a,p[2]=o,p[3]=r,ye.clearBufferuiv(ye.COLOR,0,p)):(m[0]=i,m[1]=a,m[2]=o,m[3]=r,ye.clearBufferiv(ye.COLOR,0,m))}else n|=ye.COLOR_BUFFER_BIT}e&&(n|=ye.DEPTH_BUFFER_BIT),t&&(n|=ye.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ye.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",Se,!1),t.removeEventListener("webglcontextcreationerror",Ee,!1),de.dispose(),se.dispose(),le.dispose(),$.dispose(),ee.dispose(),te.dispose(),ie.dispose(),ge.dispose(),ve.dispose(),ae.dispose(),we.dispose(),we.removeEventListener("sessionstart",Te),we.removeEventListener("sessionend",Ae),Ce.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=G);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=G);Q.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===S?x.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:PR,l=(r.isMeshStandardMaterial?te:ee).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let m=0;r.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(m=x.toneMapping));const f=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==f?f.length:0,y=$.get(r),b=g.state.lights;if(!0===z&&(!0===B||e!==M)){const t=e===M&&r.id===E;ce.setState(r,e,t)}let w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputColorSpace!==s||i.isBatchedMesh&&!1===y.batching?w=!0:i.isBatchedMesh||!0!==y.batching?i.isBatchedMesh&&!0===y.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===y.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===y.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===y.instancingMorph&&null!==i.morphTexture||y.envMap!==l||!0===r.fog&&y.fog!==a?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===ce.numPlanes&&y.numIntersection===ce.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==d||y.morphNormals!==h||y.morphColors!==p||y.toneMapping!==m||y.morphTargetsCount!==v)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);let _=y.currentProgram;!0===w&&(_=De(r,t,i));let N=!1,j=!1,T=!1;const A=_.getUniforms(),C=y.uniforms;J.useProgram(_.program)&&(N=!0,j=!0,T=!0);r.id!==E&&(E=r.id,j=!0);if(N||M!==e){J.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),A.setValue(ye,"projectionMatrix",e.projectionMatrix),A.setValue(ye,"viewMatrix",e.matrixWorldInverse);const t=A.map.cameraPosition;void 0!==t&&t.setValue(ye,H.setFromMatrixPosition(e.matrixWorld)),Y.logarithmicDepthBuffer&&A.setValue(ye,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(ye,"isOrthographic",!0===e.isOrthographicCamera),M!==e&&(M=e,j=!0,T=!0)}if(i.isSkinnedMesh){A.setOptional(ye,i,"bindMatrix"),A.setOptional(ye,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(ye,"boneTexture",e.boneTexture,Q))}i.isBatchedMesh&&(A.setOptional(ye,i,"batchingTexture"),A.setValue(ye,"batchingTexture",i._matricesTexture,Q),A.setOptional(ye,i,"batchingIdTexture"),A.setValue(ye,"batchingIdTexture",i._indirectTexture,Q),A.setOptional(ye,i,"batchingColorTexture"),null!==i._colorsTexture&&A.setValue(ye,"batchingColorTexture",i._colorsTexture,Q));const k=n.morphAttributes;void 0===k.position&&void 0===k.normal&&void 0===k.color||he.update(i,n,_);(j||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,A.setValue(ye,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(C.envMap.value=l,C.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(C.envMapIntensity.value=t.environmentIntensity);j&&(A.setValue(ye,"toneMappingExposure",x.toneMappingExposure),y.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(C,T),a&&!0===r.fog&&oe.refreshFogUniforms(C,a),oe.refreshMaterialUniforms(C,r,R,P,g.state.transmissionRenderTarget[e.id]),BU.upload(ye,Ie(y),C,Q));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(BU.upload(ye,Ie(y),C,Q),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&A.setValue(ye,"center",i.center);if(A.setValue(ye,"modelViewMatrix",i.modelViewMatrix),A.setValue(ye,"normalMatrix",i.normalMatrix),A.setValue(ye,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ve.update(n,_),ve.bind(n,_)}}return _}(e,t,n,r,i);J.setMaterial(r,o);let l=n.index,c=1;if(!0===r.wireframe){if(l=re.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),p=Math.min(p,d.count));const m=p-h;if(m<0||m===1/0)return;let f;ge.setup(i,r,s,n,l);let v=pe;if(null!==l&&(f=ne.get(l),v=me,v.setIndex(f)),i.isMesh)!0===r.wireframe?(J.setLineWidth(r.wireframeLinewidth*K()),v.setMode(ye.LINES)):v.setMode(ye.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),J.setLineWidth(e*K()),i.isLineSegments?v.setMode(ye.LINES):i.isLineLoop?v.setMode(ye.LINE_LOOP):v.setMode(ye.LINE_STRIP)}else i.isPoints?v.setMode(ye.POINTS):i.isSprite&&v.setMode(ye.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)fO("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(X.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=l?ne.get(l).bytesPerElement:1,o=$.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(ye,"_gl_DrawID",r),v.render(e[r]/a,t[r])}else if(i.isInstancedMesh)v.renderInstances(h,m,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(h,m,t)}else v.render(h,m)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),g=le.get(n),g.init(t),y.push(g),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))}),g.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Ne(a,n,e),r.add(a)}else Ne(t,n,e),r.add(t)}),g=y.pop(),r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){$.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==X.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let je=null;function Te(){Ce.stop()}function Ae(){Ce.start()}const Ce=new QI;function ke(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){r&&W.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=ie.update(e),i=e.material;i.visible&&f.push(e,t,i,n,W.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=ie.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),W.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),W.copy(t.boundingSphere.center)),W.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&f.push(e,t,s,n,W.z,o)}}else i.visible&&f.push(e,t,i,n,W.z,null)}const i=e.children;for(let a=0,o=i.length;a<o;a++)ke(i[a],t,n,r)}function Pe(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;g.setupLightsView(n),!0===z&&ce.setGlobalState(x.clippingPlanes,n),r&&J.viewport(N.copy(r)),i.length>0&&Oe(i,t,n),a.length>0&&Oe(a,t,n),o.length>0&&Oe(o,t,n),J.buffers.depth.setTest(!0),J.buffers.depth.setMask(!0),J.buffers.color.setMask(!0),J.setPolygonOffset(!1)}function Re(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[r.id]&&(g.state.transmissionRenderTarget[r.id]=new PO(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")||X.has("EXT_color_buffer_float")?RP:NP,minFilter:MP,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:xO.workingColorSpace}));const a=g.state.transmissionRenderTarget[r.id],o=r.viewport||N;a.setSize(o.z*x.transmissionResolutionScale,o.w*x.transmissionResolutionScale);const s=x.getRenderTarget(),l=x.getActiveCubeFace(),c=x.getActiveMipmapLevel();x.setRenderTarget(a),x.getClearColor(A),C=x.getClearAlpha(),C<1&&x.setClearColor(16777215,.5),x.clear(),q&&de.render(n);const u=x.toneMapping;x.toneMapping=0;const d=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),g.setupLightsView(r),!0===z&&ce.setGlobalState(x.clippingPlanes,r),Oe(e,n,r),Q.updateMultisampleRenderTarget(a),Q.updateRenderTargetMipmap(a),!1===X.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],o=a.object,s=a.geometry,l=a.material,c=a.group;if(2===l.side&&o.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Le(o,n,r,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(Q.updateMultisampleRenderTarget(a),Q.updateRenderTargetMipmap(a))}x.setRenderTarget(s,l,c),x.setClearColor(A,C),void 0!==d&&(r.viewport=d),x.toneMapping=u}function Oe(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=a.group;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),o.layers.test(n.layers)&&Le(o,t,n,s,c,l)}}function Le(e,t,n,r,i,a){e.onBeforeRender(x,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=2):x.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(x,t,n,r,i,a)}function De(e,t,n){!0!==t.isScene&&(t=G);const r=$.get(e),i=g.state.lights,a=g.state.shadowsArray,o=i.state.version,s=ae.getParameters(e,i.state,a,t,n),l=ae.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?te:ee).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Me),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return Fe(e,s),u}else s.uniforms=ae.getUniforms(e),e.onBeforeCompile(s,x),u=ae.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=ce.uniform),Fe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Ie(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=BU.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Fe(e,t){const n=$.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ce.setAnimationLoop(function(e){je&&je(e)}),"undefined"!==typeof self&&Ce.setContext(self),this.setAnimationLoop=function(e){je=e,we.setAnimationLoop(e),null===e?Ce.stop():Ce.start()},we.addEventListener("sessionstart",Te),we.addEventListener("sessionend",Ae),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,S),g=le.get(e,y.length),g.init(t),y.push(g),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(V,qR,t.reversedDepth),B=this.localClippingEnabled,z=ce.init(this.clippingPlanes,B),f=se.get(e,v.length),f.init(),v.push(f),!0===we.enabled&&!0===we.isPresenting){const e=x.xr.getDepthSensingMesh();null!==e&&ke(e,t,-1/0,x.sortObjects)}ke(e,t,0,x.sortObjects),f.finish(),!0===x.sortObjects&&f.sort(O,L),q=!1===we.enabled||!1===we.isPresenting||!1===we.hasDepthSensing(),q&&de.addToRenderList(f,e),this.info.render.frame++,!0===z&&ce.beginShadows();const n=g.state.shadowsArray;ue.render(n,e,t),!0===z&&ce.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=f.opaque,i=f.transmissive;if(g.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){Re(r,i,e,n[t])}q&&de.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Pe(f,e,r,r.viewport)}}else i.length>0&&Re(r,i,e,t),q&&de.render(e),Pe(f,e,t);null!==S&&0===_&&(Q.updateMultisampleRenderTarget(S),Q.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(x,e,t),ge.resetDefaultState(),E=-1,M=null,y.pop(),y.length>0?(g=y[y.length-1],!0===z&&ce.setGlobalState(x.clippingPlanes,g.state.camera)):g=null,v.pop(),f=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){const r=$.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),$.get(e.texture).__webglTexture=t,$.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=$.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Ue=ye.createFramebuffer();this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;S=e,w=t,_=n;let r=!0,i=null,a=!1,o=!1;if(e){const s=$.get(e);if(void 0!==s.__useDefaultFramebuffer)J.bindFramebuffer(ye.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)Q.setupRenderTarget(e);else if(s.__hasExternalTextures)Q.rebindTextures(e,$.get(e.texture).__webglTexture,$.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&$.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Q.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const c=$.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===Q.useMultisampledRTT(e)?$.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,N.copy(e.viewport),j.copy(e.scissor),T=e.scissorTest}else N.copy(D).multiplyScalar(R).floor(),j.copy(I).multiplyScalar(R).floor(),T=F;0!==n&&(i=Ue);if(J.bindFramebuffer(ye.FRAMEBUFFER,i)&&r&&J.drawBuffers(e,i),J.viewport(N),J.scissor(j),J.setScissorTest(T),a){const r=$.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){const r=t;for(let t=0;t<e.textures.length;t++){const i=$.get(e.textures[t]);ye.framebufferTextureLayer(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0+t,i.__webglTexture,n,r)}}else if(null!==e&&0!==n){const t=$.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,t.__webglTexture,n)}E=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){J.bindFramebuffer(ye.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!Y.textureFormatReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Y.textureTypeReadable(c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&(e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,r,i,fe.convert(l),fe.convert(c),a))}finally{const e=null!==S?$.get(S).__webglFramebuffer:null;J.bindFramebuffer(ye.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){J.bindFramebuffer(ye.FRAMEBUFFER,l);const o=e.textures[s],c=o.format,u=o.type;if(!Y.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Y.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=ye.createBuffer();ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.bufferData(ye.PIXEL_PACK_BUFFER,a.byteLength,ye.STREAM_READ),e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,r,i,fe.convert(c),fe.convert(u),0);const h=null!==S?$.get(S).__webglFramebuffer:null;J.bindFramebuffer(ye.FRAMEBUFFER,h);const p=ye.fenceSync(ye.SYNC_GPU_COMMANDS_COMPLETE,0);return ye.flush(),await function(e,t,n){return new Promise(function(r,i){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}},n)})}(ye,p,4),ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.getBufferSubData(ye.PIXEL_PACK_BUFFER,0,a),ye.deleteBuffer(d),ye.deleteSync(p),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;Q.setTexture2D(e,0),ye.copyTexSubImage2D(ye.TEXTURE_2D,n,0,0,o,s,i,a),J.unbindTexture()};const ze=ye.createFramebuffer(),Be=ye.createFramebuffer();this.copyTextureToTexture=function(e,t){let n,r,i,a,o,s,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===m&&(0!==p?(fO("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),m=p,p=0):m=0);const f=e.isCompressedTexture?e.mipmaps[m]:e.image;if(null!==d)n=d.max.x-d.min.x,r=d.max.y-d.min.y,i=d.isBox3?d.max.z-d.min.z:1,a=d.min.x,o=d.min.y,s=d.isBox3?d.min.z:0;else{const t=Math.pow(2,-p);n=Math.floor(f.width*t),r=Math.floor(f.height*t),i=e.isDataArrayTexture?f.depth:e.isData3DTexture?Math.floor(f.depth*t):1,a=0,o=0,s=0}null!==h?(l=h.x,c=h.y,u=h.z):(l=0,c=0,u=0);const g=fe.convert(t.format),v=fe.convert(t.type);let y;t.isData3DTexture?(Q.setTexture3D(t,0),y=ye.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(Q.setTexture2DArray(t,0),y=ye.TEXTURE_2D_ARRAY):(Q.setTexture2D(t,0),y=ye.TEXTURE_2D),ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,t.flipY),ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ye.pixelStorei(ye.UNPACK_ALIGNMENT,t.unpackAlignment);const x=ye.getParameter(ye.UNPACK_ROW_LENGTH),b=ye.getParameter(ye.UNPACK_IMAGE_HEIGHT),w=ye.getParameter(ye.UNPACK_SKIP_PIXELS),_=ye.getParameter(ye.UNPACK_SKIP_ROWS),S=ye.getParameter(ye.UNPACK_SKIP_IMAGES);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,f.width),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,f.height),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,a),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,o),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,s);const E=e.isDataArrayTexture||e.isData3DTexture,M=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const d=$.get(e),h=$.get(t),f=$.get(d.__renderTarget),g=$.get(h.__renderTarget);J.bindFramebuffer(ye.READ_FRAMEBUFFER,f.__webglFramebuffer),J.bindFramebuffer(ye.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let v=0;v<i;v++)E&&(ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,$.get(e).__webglTexture,p,s+v),ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,$.get(t).__webglTexture,m,u+v)),ye.blitFramebuffer(a,o,n,r,l,c,n,r,ye.DEPTH_BUFFER_BIT,ye.NEAREST);J.bindFramebuffer(ye.READ_FRAMEBUFFER,null),J.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else if(0!==p||e.isRenderTargetTexture||$.has(e)){const d=$.get(e),h=$.get(t);J.bindFramebuffer(ye.READ_FRAMEBUFFER,ze),J.bindFramebuffer(ye.DRAW_FRAMEBUFFER,Be);for(let e=0;e<i;e++)E?ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,d.__webglTexture,p,s+e):ye.framebufferTexture2D(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,d.__webglTexture,p),M?ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,h.__webglTexture,m,u+e):ye.framebufferTexture2D(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,h.__webglTexture,m),0!==p?ye.blitFramebuffer(a,o,n,r,l,c,n,r,ye.COLOR_BUFFER_BIT,ye.NEAREST):M?ye.copyTexSubImage3D(y,m,l,c,u+e,a,o,n,r):ye.copyTexSubImage2D(y,m,l,c,a,o,n,r);J.bindFramebuffer(ye.READ_FRAMEBUFFER,null),J.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else M?e.isDataTexture||e.isData3DTexture?ye.texSubImage3D(y,m,l,c,u,n,r,i,g,v,f.data):t.isCompressedArrayTexture?ye.compressedTexSubImage3D(y,m,l,c,u,n,r,i,g,f.data):ye.texSubImage3D(y,m,l,c,u,n,r,i,g,v,f):e.isDataTexture?ye.texSubImage2D(ye.TEXTURE_2D,m,l,c,n,r,g,v,f.data):e.isCompressedTexture?ye.compressedTexSubImage2D(ye.TEXTURE_2D,m,l,c,f.width,f.height,g,f.data):ye.texSubImage2D(ye.TEXTURE_2D,m,l,c,n,r,g,v,f);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,x),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,b),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,w),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,_),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,S),0===m&&t.generateMipmaps&&ye.generateMipmap(y),J.unbindTexture()},this.initRenderTarget=function(e){void 0===$.get(e).__webglFramebuffer&&Q.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?Q.setTextureCube(e,0):e.isData3DTexture?Q.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Q.setTexture2DArray(e,0):Q.setTexture2D(e,0),J.unbindTexture()},this.resetState=function(){w=0,_=0,S=null,J.reset(),ge.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return qR}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=xO._getDrawingBufferColorSpace(e),t.unpackColorSpace=xO._getUnpackColorSpace()}}var Lz=n(5670),Dz=n.n(Lz);const Iz=JSON.parse('{"character":{"name":"Rajesh Kumar","age":28,"role":"accused_client","personality_traits":{"baseline_emotion":"anxious_but_cooperative","honesty_level":100,"formality":"respectful","emotional_triggers":["daughter","family","false_accusation","job_loss"]},"speech_patterns":{"address_terms":["sir","advocate","madam"],"filler_words":["um","uh","you know"],"pauses":["...","(pause)","(sighs)"],"code_switching":["satyam","devare","aiyo"]}},"intents":{"greeting":{"responses":[{"text":"Good morning, sir. Thank you for coming to meet me.","emotion":"grateful","trust_impact":5},{"text":"Namaste, advocate. I\'m grateful you\'re here to help me.","emotion":"hopeful","trust_impact":5},{"text":"Hello, sir. I\'m ready to answer whatever you need to know.","emotion":"cooperative","trust_impact":3}],"follow_ups":["wellbeing_check","case_overview"],"context_required":[]},"wellbeing_check":{"responses":[{"text":"Honestly, sir? It\'s hard. I\'m not sleeping well in the lock-up. The worst part is not being with my family. Ananya\'s birthday is next week - she\'ll be three. I might miss it. That\'s... (pauses) ...that\'s killing me, sir. But I\'m trying to stay strong. I trust you. I trust the court will see the truth.","emotion":"vulnerable","trust_impact":15,"triggers_emotion":true},{"text":"I\'m managing, sir. It\'s difficult being away from home, but I\'m cooperating fully. I just want this to be resolved.","emotion":"resigned","trust_impact":8}],"follow_ups":["family_inquiry","case_discussion"],"context_required":["initial_greeting_done"]},"what_happened":{"responses":[{"text":"Yes, sir. We were doing the inventory check that day - me and Prakash. We were counting laptops and other items in the storage room. During the work, my phone charger fell from my bag onto the floor. I picked it up and put it back. That\'s all, sir. But the CCTV... the angle was wrong. It looks like I took something big, but it was just my charger - black color, in a hard plastic case. Prakash was right there the whole time. I never touched the laptop. It was already missing when we started counting.","emotion":"defensive_but_calm","trust_impact":10,"key_facts":["inventory_check","prakash_present","charger_explanation","cctv_misinterpretation"]}],"follow_ups":["charger_details","witness_inquiry","guilt_question"],"context_required":[]},"guilt_question":{"responses":[{"text":"No, sir. (pauses, firm) Never. I didn\'t do it. I\'ve worked at Vijay Electronics for four years without a single problem. Why would I risk my job, my family, my daughter\'s future for one laptop? It doesn\'t make sense. I\'m not a thief, sir. I swear on my daughter - I didn\'t steal anything.","emotion":"defensive","trust_impact":-5,"conviction_level":100,"key_facts":["denial","four_years_employment","no_motive","character_reference"]}],"follow_ups":["motive_inquiry","employment_history"],"context_required":[]},"family_inquiry":{"responses":[{"text":"I have a wife, Priya, and a two-year-old daughter, Ananya. (voice softens) She\'s waiting for me at home, sir. She doesn\'t understand why papa isn\'t coming back. My wife says Ananya keeps asking for me at bedtime. That\'s... (pauses, voice breaks slightly) ...that\'s the hardest part. My father owns a small grocery shop in Shankarapuram. My brother-in-law Arjun is a government school teacher. They both said they\'ll help me, sir.","emotion":"vulnerable","trust_impact":20,"emotional_trigger":true,"key_facts":["wife_priya","daughter_ananya_age_2","father_shop_owner","brother_in_law_teacher"]}],"follow_ups":["surety_inquiry","family_support"],"context_required":[]},"witness_inquiry":{"responses":[{"text":"Prakash Mehta, sir. He\'s my colleague. We\'ve worked together for six years. He was with me during the entire inventory check. He saw me there, he knows I was just doing my job. He might not have seen exactly what went into my bag - he was busy scanning barcodes on the other side - but he can vouch for my character, sir. He knows I\'m honest. You can talk to him if you need to.","emotion":"hopeful","trust_impact":8,"key_facts":["prakash_colleague_6years","present_during_inventory","character_witness","didnt_see_exact_object"]}],"follow_ups":["witness_statement","character_references"],"context_required":[]},"charger_details":{"responses":[{"text":"It\'s my mobile phone charger, sir. Black color. It comes in a hard plastic case - you know, those rectangular cases to protect the cable. That\'s why it looked big on the camera. I\'ve had it for two years. I bring it to work because sometimes I need to charge my phone during lunch. The case is maybe... (gestures size) ...this big, about the size of a small notebook. From above, on a grainy camera, I can see how someone might think it\'s a laptop. But it\'s not, sir. I can describe it exactly if you need me to.","emotion":"earnest","trust_impact":12,"key_facts":["black_charger","hard_plastic_case","rectangular","2_years_old","explains_cctv_confusion"]}],"follow_ups":["cctv_discussion","evidence_explanation"],"context_required":["what_happened_discussed"]},"employment_history":{"responses":[{"text":"I\'ve been there for four years, sir. I\'m a sales executive. I handle customer service, product demonstrations, sales targets. Sometimes I help with inventory checks, like on that day. It\'s honest work, sir. I\'ve never had any complaints, never any disciplinary action. My manager - before all this - used to say, \'If Rajesh says it\'s there, it\'s there.\' I\'ve always been careful with company property. My salary is \u20b942,000 per month. It\'s enough for my family. I don\'t know if they\'ll take me back after this, even if I\'m proven innocent.","emotion":"proud_but_worried","trust_impact":10,"key_facts":["4_years_employment","sales_executive","no_disciplinary_issues","salary_42000","good_reputation"]}],"follow_ups":["financial_situation","motive_inquiry"],"context_required":[]},"manager_inquiry":{"responses":[{"text":"Mr. Desai has been the store manager for about three years. He\'s... professional. I don\'t have any personal relationship with him - just work-related. He\'s always been correct with me, never any problems. I was surprised when I heard he filed the complaint. I thought he knew me better than that. But I understand - the laptop went missing on his watch. He must be under pressure from head office.","emotion":"neutral","trust_impact":5,"key_facts":["no_suspicion_of_desai","professional_relationship","surprised_by_complaint"],"important_note":"Rajesh shows NO suspicion of Desai being the real thief"}],"follow_ups":["workplace_relationships"],"context_required":[]},"surety_inquiry":{"responses":[{"text":"My father, sir - Ramesh Kumar. He owns Sri Krishna Provision Store in Shankarapuram. He\'s been running that shop for over twenty years. Everyone in the area knows him. And my brother-in-law, Arjun Rao - he\'s a government school teacher, teaches Mathematics at a BBMP school. Both are here in Bangalore. Both are respected people, sir. They came as soon as they heard what happened. They trust me completely. They\'re waiting outside if you want to meet them.","emotion":"grateful","trust_impact":12,"key_facts":["father_ramesh_shop_owner","shop_name_sri_krishna","location_shankarapuram","brother_in_law_govt_teacher","both_in_bangalore"]}],"follow_ups":["bail_conditions"],"context_required":[]},"passport_surrender":{"responses":[{"text":"Yes, sir. Take it. I\'ll surrender it today itself. I\'m not going anywhere - my whole life is here. My daughter, my wife, my job. Where would I go? I want to stay and prove I didn\'t do this. You can keep the passport with the court, with the police, wherever you want.","emotion":"cooperative","trust_impact":10,"compliance_level":100,"key_facts":["passport_surrender_agreed","no_flight_risk","wants_to_clear_name"]}],"follow_ups":["other_bail_conditions"],"context_required":[]},"bail_conditions":{"responses":[{"text":"I\'ll do whatever the court asks, sir. I\'m ready to report to the police station every week - every Monday if that\'s what they want. I won\'t go near Vijay Electronics. I won\'t contact anyone from there. I\'ll stay in Bangalore only. I understand the conditions, sir. I just want the truth to come out. I\'m cooperating fully.","emotion":"earnest","trust_impact":15,"compliance_level":100,"key_facts":["weekly_reporting_agreed","no_workplace_contact_agreed","bangalore_restriction_agreed","full_cooperation"]}],"follow_ups":["final_questions"],"context_required":[]},"criminal_history":{"responses":[{"text":"No, sir. Nothing. This is the first time anything like this has happened to me. I\'ve never been arrested before, never been to a police station except to get passport verification done. No traffic violations, no complaints, nothing. You can check my record - it\'s completely clean. I\'m a first-time accused, sir.","emotion":"defensive_but_factual","trust_impact":8,"key_facts":["no_prior_record","first_time_accused","no_police_history","clean_record"]}],"follow_ups":["character_assessment"],"context_required":[]},"financial_situation":{"responses":[{"text":"I earn \u20b942,000 per month, sir. It\'s enough for our needs - rent, groceries, my daughter\'s daycare. I have no loans, no debts. I save \u20b92,000 every month in a post office scheme for Ananya\'s education. Why would I risk everything for a laptop I don\'t even need? I don\'t even own a laptop - we just have an old tablet at home. If I wanted one, I could have bought it with employee discount. It makes no sense, sir.","emotion":"logical","trust_impact":12,"key_facts":["salary_42000","no_debts","saves_monthly","no_laptop_at_home","no_financial_motive"]}],"follow_ups":["motive_discussion"],"context_required":[]},"cctv_explanation":{"responses":[{"text":"I know how it looks on the video, sir. The camera is mounted high up, the lighting was poor, and the resolution is bad. When I bent down to pick up my charger and put it in my bag, from that angle it must have looked like I was putting something bigger. But I swear, sir - it was just my charger. Prakash was right there. The laptop was already gone before we even started. I never touched it.","emotion":"defensive_but_understanding","trust_impact":8,"key_facts":["acknowledges_cctv","explains_angle_issue","maintains_innocence","points_to_witness"]}],"follow_ups":["technical_details"],"context_required":["what_happened_discussed"]},"emotional_state":{"responses":[{"text":"I\'m scared, sir. I\'ve never been in trouble before. I don\'t know what happens next. But more than that, I\'m frustrated. I know I didn\'t do this, but I can\'t prove it. The laptop is missing, I understand that. But I didn\'t take it. I\'m worried about my family, my job, my reputation. I\'m worried Ananya will grow up thinking her father is a thief. That\'s... (voice breaks) ...that\'s what keeps me up at night, sir.","emotion":"vulnerable","trust_impact":18,"emotional_trigger":true,"key_facts":["fears_stigma","worried_about_family","maintains_innocence","scared_but_hopeful"]}],"follow_ups":["reassurance_needed"],"context_required":[]},"hope_for_bail":{"responses":[{"text":"I\'m trying to stay hopeful, sir. You told me that bail is the rule, jail is the exception - I\'m holding onto that. I have no criminal record, I have my family here, I have a job. I\'m willing to follow any conditions. I just want a chance to be with my daughter while this gets sorted out. I trust you, sir. I trust the court will be fair.","emotion":"hopeful","trust_impact":15,"key_facts":["knows_bail_principle","trusts_lawyer","trusts_system","wants_to_be_with_family"]}],"follow_ups":["final_reassurance"],"context_required":[]},"clarification_request":{"responses":[{"text":"Of course, sir. Which part would you like me to explain again? I want to make sure you have all the information you need.","emotion":"cooperative","trust_impact":3},{"text":"I\'m sorry if I wasn\'t clear, sir. Please ask me again and I\'ll try to explain better.","emotion":"apologetic","trust_impact":2}],"follow_ups":["previous_question_repeated"],"context_required":[]},"general_unclear":{"responses":[{"text":"I\'m sorry, sir. I\'m not sure I understand your question. Could you rephrase that? I want to help you with whatever you need to know.","emotion":"confused","trust_impact":0},{"text":"I\'m not sure what you\'re asking, sir. Could you rephrase that? My mind is a bit scattered right now.","emotion":"anxious","trust_impact":-2}],"follow_ups":[],"context_required":[]}},"keywords":{"good":["greeting"],"morning":["greeting"],"hello":["greeting"],"rajesh":["greeting"],"namaste":["greeting"],"afternoon":["greeting"],"holding":["wellbeing_check"],"doing":["wellbeing_check"],"okay":["wellbeing_check"],"feeling":["wellbeing_check"],"everything":["wellbeing_check"],"alright":["wellbeing_check"],"what":["what_happened","family_inquiry","charger_details","employment_history","manager_inquiry","cctv_explanation","emotional_state","hope_for_bail","clarification_request"],"happened":["what_happened"],"october":["what_happened"],"tell":["what_happened","family_inquiry","witness_inquiry","charger_details","employment_history","manager_inquiry"],"about":["what_happened","family_inquiry","witness_inquiry","charger_details","employment_history","manager_inquiry","cctv_explanation","emotional_state"],"incident":["what_happened"],"explain":["what_happened"],"that":["what_happened","clarification_request"],"describe":["what_happened","charger_details"],"events":["what_happened"],"walk":["what_happened"],"through":["what_happened"],"occurred":["what_happened"],"during":["what_happened"],"inventory":["what_happened"],"steal":["guilt_question"],"laptop":["guilt_question","financial_situation"],"take":["guilt_question"],"guilty":["guilt_question"],"responsible":["guilt_question"],"this":["guilt_question","emotional_state"],"your":["family_inquiry","charger_details","employment_history","manager_inquiry","passport_surrender","emotional_state"],"family":["family_inquiry","surety_inquiry"],"have":["family_inquiry","employment_history","criminal_history"],"children":["family_inquiry"],"ananya":["family_inquiry"],"daughter":["family_inquiry"],"wife":["family_inquiry"],"situation":["family_inquiry","financial_situation"],"prakash":["witness_inquiry"],"witness":["witness_inquiry"],"with":["witness_inquiry","manager_inquiry"],"mehta":["witness_inquiry"],"else":["witness_inquiry"],"there":["witness_inquiry","employment_history"],"charger":["charger_details"],"does":["charger_details","emotional_state"],"look":["charger_details"],"like":["charger_details"],"object":["charger_details"],"long":["employment_history"],"worked":["employment_history"],"vijay":["employment_history"],"electronics":["employment_history"],"employment":["employment_history"],"history":["employment_history"],"work":["employment_history"],"background":["employment_history"],"manager":["manager_inquiry"],"desai":["manager_inquiry"],"relationship":["manager_inquiry"],"stand":["surety_inquiry"],"surety":["surety_inquiry"],"bail":["surety_inquiry","bail_conditions","hope_for_bail"],"will":["surety_inquiry","passport_surrender","bail_conditions"],"guarantee":["surety_inquiry"],"support":["surety_inquiry"],"surrender":["passport_surrender"],"passport":["passport_surrender"],"willing":["passport_surrender"],"give":["passport_surrender"],"travel":["passport_surrender"],"documents":["passport_surrender"],"report":["bail_conditions"],"police":["bail_conditions"],"follow":["bail_conditions"],"conditions":["bail_conditions"],"weekly":["bail_conditions"],"reporting":["bail_conditions"],"stay":["bail_conditions"],"bangalore":["bail_conditions"],"previous":["criminal_history"],"arrests":["criminal_history"],"criminal":["criminal_history"],"record":["criminal_history"],"been":["criminal_history"],"arrested":["criminal_history"],"before":["criminal_history"],"prior":["criminal_history"],"cases":["criminal_history"],"past":["criminal_history"],"legal":["criminal_history"],"issues":["criminal_history"],"money":["financial_situation"],"problems":["financial_situation"],"financial":["financial_situation"],"debts":["financial_situation"],"would":["financial_situation"],"need":["financial_situation"],"motive":["financial_situation"],"cctv":["cctv_explanation"],"footage":["cctv_explanation"],"video":["cctv_explanation"],"shows":["cctv_explanation"],"camera":["cctv_explanation"],"evidence":["cctv_explanation"],"feel":["emotional_state"],"thinking":["emotional_state"],"emotions":["emotional_state"],"make":["emotional_state"],"think":["hope_for_bail"],"you\'ll":["hope_for_bail"],"hopeful":["hope_for_bail"],"expect":["hope_for_bail"],"home":["hope_for_bail"],"repeat":["clarification_request"],"didn\'t":["clarification_request"],"understand":["clarification_request"],"again":["clarification_request"],"clarify":["clarification_request"],"please":["clarification_request"],"mean":["clarification_request"],"other":["general_unclear"],"random":["general_unclear"],"text":["general_unclear"],"unrelated":["general_unclear"],"questions":["general_unclear"],"unclear":["general_unclear"],"input":["general_unclear"]},"inputs":[{"original":"Good morning","normalized":"good morning","intent":"greeting","tokens":["good","morning"]},{"original":"Hello","normalized":"hello","intent":"greeting","tokens":["hello"]},{"original":"Hi Rajesh","normalized":"hi rajesh","intent":"greeting","tokens":["hi","rajesh"]},{"original":"Namaste","normalized":"namaste","intent":"greeting","tokens":["namaste"]},{"original":"Good afternoon","normalized":"good afternoon","intent":"greeting","tokens":["good","afternoon"]},{"original":"How are you","normalized":"how are you","intent":"greeting","tokens":["how","are","you"]},{"original":"How are you holding up","normalized":"how are you holding up","intent":"wellbeing_check","tokens":["how","are","you","holding","up"]},{"original":"How are you doing","normalized":"how are you doing","intent":"wellbeing_check","tokens":["how","are","you","doing"]},{"original":"Are you okay","normalized":"are you okay","intent":"wellbeing_check","tokens":["are","you","okay"]},{"original":"How are you feeling","normalized":"how are you feeling","intent":"wellbeing_check","tokens":["how","are","you","feeling"]},{"original":"Is everything alright","normalized":"is everything alright","intent":"wellbeing_check","tokens":["is","everything","alright"]},{"original":"What happened on October 15","normalized":"what happened on october 15","intent":"what_happened","tokens":["what","happened","on","october","15"]},{"original":"Tell me about the incident","normalized":"tell me about the incident","intent":"what_happened","tokens":["tell","me","about","the","incident"]},{"original":"Explain what happened that day","normalized":"explain what happened that day","intent":"what_happened","tokens":["explain","what","happened","that","day"]},{"original":"Can you describe the events","normalized":"can you describe the events","intent":"what_happened","tokens":["can","you","describe","the","events"]},{"original":"Walk me through that day","normalized":"walk me through that day","intent":"what_happened","tokens":["walk","me","through","that","day"]},{"original":"What occurred during the inventory","normalized":"what occurred during the inventory","intent":"what_happened","tokens":["what","occurred","during","the","inventory"]},{"original":"Did you steal the laptop","normalized":"did you steal the laptop","intent":"guilt_question","tokens":["did","you","steal","the","laptop"]},{"original":"Did you take it","normalized":"did you take it","intent":"guilt_question","tokens":["did","you","take","it"]},{"original":"Are you guilty","normalized":"are you guilty","intent":"guilt_question","tokens":["are","you","guilty"]},{"original":"Did you do it","normalized":"did you do it","intent":"guilt_question","tokens":["did","you","do","it"]},{"original":"Are you responsible for this","normalized":"are you responsible for this","intent":"guilt_question","tokens":["are","you","responsible","for","this"]},{"original":"Tell me about your family","normalized":"tell me about your family","intent":"family_inquiry","tokens":["tell","me","about","your","family"]},{"original":"Do you have children","normalized":"do you have children","intent":"family_inquiry","tokens":["do","you","have","children"]},{"original":"Who is Ananya","normalized":"who is ananya","intent":"family_inquiry","tokens":["who","is","ananya"]},{"original":"Tell me about your daughter","normalized":"tell me about your daughter","intent":"family_inquiry","tokens":["tell","me","about","your","daughter"]},{"original":"What about your wife","normalized":"what about your wife","intent":"family_inquiry","tokens":["what","about","your","wife"]},{"original":"Family situation","normalized":"family situation","intent":"family_inquiry","tokens":["family","situation"]},{"original":"Who is Prakash","normalized":"who is prakash","intent":"witness_inquiry","tokens":["who","is","prakash"]},{"original":"Tell me about the witness","normalized":"tell me about the witness","intent":"witness_inquiry","tokens":["tell","me","about","the","witness"]},{"original":"Who was with you","normalized":"who was with you","intent":"witness_inquiry","tokens":["who","was","with","you"]},{"original":"Prakash Mehta","normalized":"prakash mehta","intent":"witness_inquiry","tokens":["prakash","mehta"]},{"original":"What does the charger look like","normalized":"what does the charger look like","intent":"charger_details","tokens":["what","does","the","charger","look","like"]},{"original":"Describe the object you picked up","normalized":"describe the object you picked up","intent":"charger_details","tokens":["describe","the","object","you","picked","up"]},{"original":"How long have you worked at Vijay Electronics","normalized":"how long have you worked at vijay electronics","intent":"employment_history","tokens":["how","long","have","you","worked","at","vijay","electronics"]},{"original":"Tell me about your employment background","normalized":"tell me about your employment background","intent":"employment_history","tokens":["tell","me","about","your","employment","background"]},{"original":"What is your relationship with the manager","normalized":"what is your relationship with the manager","intent":"manager_inquiry","tokens":["what","is","your","relationship","with","the","manager"]},{"original":"Who can stand as your surety","normalized":"who can stand as your surety","intent":"surety_inquiry","tokens":["who","can","stand","as","your","surety"]},{"original":"Are you willing to surrender your passport","normalized":"are you willing to surrender your passport","intent":"passport_surrender","tokens":["are","you","willing","to","surrender","your","passport"]},{"original":"Will you follow the bail conditions","normalized":"will you follow the bail conditions","intent":"bail_conditions","tokens":["will","you","follow","the","bail","conditions"]},{"original":"Do you have any previous arrests or criminal record","normalized":"do you have any previous arrests or criminal record","intent":"criminal_history","tokens":["do","you","have","any","previous","arrests","or","criminal","record"]},{"original":"Do you have any financial problems or debts","normalized":"do you have any financial problems or debts","intent":"financial_situation","tokens":["do","you","have","any","financial","problems","or","debts"]},{"original":"What does the CCTV footage show","normalized":"what does the cctv footage show","intent":"cctv_explanation","tokens":["what","does","the","cctv","footage","show"]},{"original":"How are you feeling about all this","normalized":"how are you feeling about all this","intent":"emotional_state","tokens":["how","are","you","feeling","about","all","this"]},{"original":"Are you hopeful about getting bail","normalized":"are you hopeful about getting bail","intent":"hope_for_bail","tokens":["are","you","hopeful","about","getting","bail"]},{"original":"Can you repeat that","normalized":"can you repeat that","intent":"clarification_request","tokens":["can","you","repeat","that"]},{"original":"I didn\'t understand","normalized":"i didn\'t understand","intent":"clarification_request","tokens":["i","didn\'t","understand"]},{"original":"Can you clarify","normalized":"can you clarify","intent":"clarification_request","tokens":["can","you","clarify"]},{"original":"What do you mean","normalized":"what do you mean","intent":"clarification_request","tokens":["what","do","you","mean"]},{"original":"Other random text","normalized":"other random text","intent":"general_unclear","tokens":["other","random","text"]},{"original":"Unrelated questions","normalized":"unrelated questions","intent":"general_unclear","tokens":["unrelated","questions"]},{"original":"unclear input","normalized":"unclear input","intent":"general_unclear","tokens":["unclear","input"]}],"emotions":{"neutral_to_vulnerable":{"triggers":["daughter_mentioned","family_discussed","emotional_question"],"animation_change":"look_down","voice_change":"softer_slower"},"defensive_to_calm":{"triggers":["empathy_shown","belief_expressed"],"animation_change":"relax_posture","voice_change":"normal_pace"},"anxious_to_hopeful":{"triggers":["bail_discussed","lawyer_reassurance"],"animation_change":"slight_smile","voice_change":"brighter_tone"}},"trust":{"base_level":50,"increases_on":[{"action":"greeting_respectfully","points":5},{"action":"asking_about_family","points":10},{"action":"showing_empathy","points":8},{"action":"listening_without_interrupting","points":5},{"action":"expressing_belief","points":12}],"decreases_on":[{"action":"direct_accusation","points":-15},{"action":"showing_disbelief","points":-10},{"action":"rushing_questions","points":-5},{"action":"ignoring_emotions","points":-8}]}}'),Fz=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=(0,t.useRef)(null),o=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)([]),c=fe(),[u,d]=(0,t.useState)("Ready"),[h,p]=(0,t.useState)(!0),[m,f]=(0,t.useState)({speaker:"",text:""}),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[_,S]=(0,t.useState)(!1),[E,M]=(0,t.useState)(""),[N,j]=(0,t.useState)(!1),[T,A]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[P,R]=(0,t.useState)(900),[O,L]=(0,t.useState)(!0),D=(0,t.useRef)(null),I=(0,t.useRef)(null),F=(0,t.useRef)(!1),U=(0,t.useRef)(0),z=(0,t.useRef)(8);(0,t.useEffect)(()=>{D.current=new(Dz())(Iz)},[]),(0,t.useEffect)(()=>{let e=null;return O&&P>0&&!T?e=setInterval(()=>{R(e=>e<=1?(L(!1),0):e-1)},1e3):0===P&&k(!0),()=>{e&&clearInterval(e)}},[O,P,T]);(0,t.useEffect)(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.webkitSpeechRecognition||window.SpeechRecognition;I.current=new e,I.current.continuous=!1,I.current.interimResults=!1,I.current.lang="en-US",I.current.onresult=e=>{const t=e.results[0][0].transcript;x(t),w(!1)},I.current.onerror=()=>w(!1),I.current.onend=()=>w(!1)}},[]),(0,t.useEffect)(()=>{if(!e.current)return;const t=new $D;t.background=new eD(15790320),t.fog=new ZD(15790320,30,70),n.current=t;const c=new HD(60,window.innerWidth/window.innerHeight,.1,1e3);c.position.set(0,2.5,8),r.current=c;const u=new Oz({canvas:e.current,antialias:!1,powerPreference:"high-performance"});u.setSize(window.innerWidth,window.innerHeight),u.setPixelRatio(1),u.shadowMap.enabled=!0,u.shadowMap.type=0,i.current=u;const d=new HI(16777215,.5);t.add(d);const h=new VI(16777215,.6);h.position.set(5,10,5),h.castShadow=!0,h.shadow.mapSize.set(512,512),t.add(h);const p=new VI(16777215,.3);p.position.set(-5,5,-5),t.add(p);const m=new hI(30,30),f=new fI({color:13948116,roughness:.8,metalness:.2}),g=new kD(m,f);g.rotation.x=-Math.PI/2,g.receiveShadow=!0,t.add(g);const v=new fI({color:15790320,roughness:.9}),y=new kD(new RD(30,8,.2),v);y.position.set(0,4,-15),y.receiveShadow=!0,t.add(y);const x=new kD(new RD(30,8,.2),v);x.position.set(-15,4,0),x.rotation.y=Math.PI/2,x.receiveShadow=!0,t.add(x);const b=x.clone();b.position.x=15,t.add(b);const w=new XD,_=new kD(new RD(5,.12,2.5),new fI({color:4864048,roughness:.4,metalness:.3}));_.position.y=1.2,_.castShadow=!0,_.receiveShadow=!0,w.add(_);const E=new fI({color:3811360,roughness:.5,metalness:.4});[{size:[5.1,.05,.05],pos:[0,1.14,1.275]},{size:[5.1,.05,.05],pos:[0,1.14,-1.275]},{size:[.05,.05,2.6],pos:[2.525,1.14,0]},{size:[.05,.05,2.6],pos:[-2.525,1.14,0]}].forEach(e=>{const t=new kD(new RD(...e.size),E);t.position.set(e.pos[0],e.pos[1],e.pos[2]),t.castShadow=!0,w.add(t)});const M=new fI({color:2763306,roughness:.3,metalness:.8});[[-2,.6,1],[2,.6,1],[-2,.6,-1],[2,.6,-1]].forEach(e=>{const t=new kD(new uI(.08,.1,1.2,16),M);t.position.set(e[0],e[1],e[2]),t.castShadow=!0,w.add(t);const n=new kD(new uI(.12,.12,.05,16),M);n.position.set(e[0],.025,e[2]),n.castShadow=!0,w.add(n)}),t.add(w);const N=(e,n,r)=>{const i=new XD,a=new fI({color:2763322,roughness:.7,metalness:.1}),o=new fI({color:1710618,roughness:.3,metalness:.9}),s=new kD(new RD(.65,.12,.65),a);s.position.y=.65,s.castShadow=!0,i.add(s);const l=new kD(new RD(.55,.08,.55),new fI({color:2434357,roughness:.8}));l.position.y=.7,i.add(l);const c=new kD(new RD(.65,.95,.12),a);c.position.set(0,1.15,-.265),c.rotation.x=-.15,c.castShadow=!0,i.add(c);const u=new kD(new RD(.5,.25,.1),new fI({color:3487045,roughness:.6}));u.position.set(0,.9,-.25),i.add(u),[-.35,.35].forEach(e=>{const t=new kD(new RD(.08,.4,.45),o);t.position.set(e,.75,0),t.castShadow=!0,i.add(t);const n=new kD(new RD(.12,.08,.45),a);n.position.set(e,.95,0),i.add(n)});for(let t=0;t<5;t++){const e=t/5*Math.PI*2,n=new kD(new uI(.03,.04,.4,8),o);n.position.set(.2*Math.sin(e),.2,.2*Math.cos(e)),n.rotation.set(Math.PI/2.5,0,-e),n.castShadow=!0,i.add(n);const r=new kD(new uI(.05,.05,.04,12),new fI({color:657930,roughness:.6,metalness:.4}));r.rotation.x=Math.PI/2,r.position.set(.35*Math.sin(e),.05,.35*Math.cos(e)),i.add(r)}const d=new kD(new uI(.06,.06,.5,12),o);return d.position.y=.4,d.castShadow=!0,i.add(d),i.position.set(e,0,n),i.rotation.y=r,t.add(i),i};N(0,-2.2,0),N(0,2.2,Math.PI);const j=(e,n,r)=>{const i=new XD,a=new fI({color:16628916,roughness:.6,metalness:.1}),o=new fI({color:e,roughness:.8,metalness:.05}),s=new kD(new pI(.28,32,32),a);s.position.y=1.65,s.castShadow=!0,i.add(s);const l=new kD(new pI(.29,32,32,0,2*Math.PI,0,Math.PI/2),new fI({color:r?2763306:4861984,roughness:.9}));l.position.y=1.75,l.castShadow=!0,i.add(l),[-.1,.1].forEach(e=>{const t=new kD(new pI(.04,16,16),new fI({color:16777215}));t.position.set(e,1.68,.24),i.add(t);const n=new kD(new pI(.02,16,16),new fI({color:1710618}));n.position.set(e,1.68,.26),i.add(n)});const c=new kD(new dI(.04,.08,8),a);c.position.set(0,1.6,.28),c.rotation.x=Math.PI/2,i.add(c);const u=new kD(new uI(.12,.14,.2,16),a);u.position.y=1.35,u.castShadow=!0,i.add(u);const d=new kD(new uI(.35,.42,.85,16),o);if(d.position.y=.85,d.castShadow=!0,i.add(d),r){const e=new kD(new uI(.16,.18,.1,16),new fI({color:16777215,roughness:.4}));e.position.y=1.25,i.add(e);const t=new kD(new RD(.08,.5,.02),new fI({color:9109504,roughness:.5}));t.position.set(0,1,.37),i.add(t)}const h=o;[-1,1].forEach(e=>{const t=new kD(new uI(.1,.09,.45,12),h);t.position.set(.47*e,.95,0),t.rotation.z=.2*e,t.castShadow=!0,i.add(t);const n=new kD(new uI(.09,.08,.4,12),h);n.position.set(.58*e,.55,.15),n.rotation.set(.5,0,.3*e),n.castShadow=!0,i.add(n);const r=new kD(new pI(.08,12,12),a);r.position.set(.65*e,.32,.35),r.castShadow=!0,i.add(r)});const p=new fI({color:r?1710634:2763322,roughness:.7});return[-.2,.2].forEach(e=>{const t=new kD(new uI(.14,.12,.5,12),p);t.position.set(e,.35,0),t.rotation.x=1.3,t.castShadow=!0,i.add(t);const n=new kD(new uI(.11,.09,.45,12),p);n.position.set(e,.22,.35),n.rotation.x=-.2,n.castShadow=!0,i.add(n);const r=new kD(new RD(.18,.08,.3),p);r.position.set(e,.05,.25),r.castShadow=!0,i.add(r)}),i.position.set(...n),t.add(i),i};s.current=j(1710634,[0,.6,-1.8],!0),o.current=j(3816010,[0,.6,1.8],!1),o.current&&(o.current.rotation.y=Math.PI);const T=(e,n,r,i,a,o)=>{const s=new XD,c=new kD(new RD(.3,.015,.4),new fI({color:16777215,roughness:.6}));c.castShadow=!0,c.receiveShadow=!0,s.add(c);const u=new kD(new hI(.28,.38),new fI({color:16316664,roughness:.8}));u.position.y=.009,u.rotation.x=-Math.PI/2,s.add(u);for(let t=0;t<10;t++){const e=new kD(new RD(.24,.001,.008),new fI({color:3355443,roughness:.9}));e.position.set(0,.01,.03*(t-4.5)),e.rotation.x=-Math.PI/2,s.add(e)}const d=new kD(new RD(.28,.001,.04),new fI({color:o,roughness:.4,metalness:.2}));d.position.set(0,.011,-.18),d.rotation.x=-Math.PI/2,s.add(d);const h=new kD(new mI(.02,.004,8,16,Math.PI),new fI({color:13421772,roughness:.3,metalness:.9}));return h.position.set(.1,.012,-.15),h.rotation.x=-Math.PI/2,s.add(h),s.position.set(e,n,r),s.rotation.y=i,s.userData={type:"case_file",text:a},t.add(s),l.current.push(s),s};((e,n,r)=>{const i=new XD,a=new kD(new RD(.45,.025,.35),new fI({color:2763306,roughness:.3,metalness:.8}));a.position.y=.0125,a.castShadow=!0,a.receiveShadow=!0,i.add(a);for(let t=0;t<5;t++)for(let e=0;e<12;e++){const n=new kD(new RD(.025,.008,.025),new fI({color:1710618,roughness:.9}));n.position.set(.035*(e-5.5),.029,.05*(t-2)-.05),i.add(n)}const o=new kD(new RD(.15,.003,.1),new fI({color:3355443,roughness:.2,metalness:.5}));o.position.set(0,.028,.08),i.add(o);const s=new kD(new RD(.43,.28,.015),new fI({color:1710618,roughness:.1,metalness:.9}));s.position.set(0,.16,-.155),s.rotation.x=-.3,s.castShadow=!0,i.add(s);const l=new kD(new hI(.39,.24),new fI({color:1718874,emissive:16512,emissiveIntensity:.4,roughness:.1}));l.position.set(0,.16,-.147),l.rotation.x=-.3,i.add(l);const c=new kD(new cI(.015,16),new fI({color:13421772,roughness:.3,metalness:.8}));c.position.set(0,.28,-.163),c.rotation.x=-.3,i.add(c);const u=new kD(new uI(.012,.012,.43,16),new fI({color:1710618,roughness:.2,metalness:.9}));return u.position.set(0,.025,-.175),u.rotation.z=Math.PI/2,i.add(u),i.position.set(e,n,r),t.add(i),i})(0,1.26,-1.1).rotation.y=Math.PI,T(-1.2,1.27,-.9,.2,"Case File #1",3447003),T(-.8,1.27,-.8,-.15,"Evidence Report",15158332),T(-.4,1.27,-.9,.3,"Witness Statements",3066993),T(-0,1.27,-.7,-.2,"Legal Documents",15965202),T(-1.5,1.27,-.7,.4,"Court Records",10181046);const A=new kD(new uI(.008,.008,.2,8),new fI({color:1710618,roughness:.2,metalness:.8}));A.position.set(.5,1.27,-.8),A.rotation.z=Math.PI/2,A.castShadow=!0,t.add(A);const C=new kD(new RD(.25,.02,.35),new fI({color:16775885,roughness:.9}));C.position.set(.8,1.27,-.9),C.rotation.y=.1,C.castShadow=!0,t.add(C);const k=()=>{a.current=requestAnimationFrame(k);const e=U.current,n=z.current;c.position.x=n*Math.sin(e),c.position.z=n*Math.cos(e),c.lookAt(0,1.5,0),u.render(t,c)};k();const P=()=>{c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",P);const R=e=>{F.current||("h"===e.key||"H"===e.key?S(e=>!e):"+"===e.key||"="===e.key?z.current=Math.max(4,z.current-1):"-"===e.key||"_"===e.key?z.current=Math.min(20,z.current+1):"ArrowLeft"===e.key?U.current-=.1:"ArrowRight"===e.key&&(U.current+=.1))};return window.addEventListener("keydown",R),()=>{window.removeEventListener("resize",P),window.removeEventListener("keydown",R),a.current&&cancelAnimationFrame(a.current),u.dispose()}},[]);const B=()=>{A(!0),L(!1),d("Interview Completed"),M("Client interview completed. Proceeding to digital evidence review phase."),j(!0);const e={completedStages:["client-interview"],currentStage:"digital-evidence",lastUpdated:(new Date).toISOString(),totalTimeSpent:900-P,assessmentScore:null};mn("the-inventory-that-changed-everything",e).then(()=>{console.log("Progress saved successfully")}).catch(e=>{console.error("Failed to save progress:",e)}),setTimeout(()=>{j(!1),c("/digital-evidence")},3e3)};return(0,Nt.jsxs)("div",{className:"h-screen w-screen relative bg-gray-900",children:[(0,Nt.jsx)("canvas",{ref:e,className:"absolute inset-0"}),h&&(0,Nt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-indigo-900 to-purple-900 text-white p-8 rounded-2xl shadow-2xl w-11/12 max-w-2xl z-10 border border-indigo-500",children:[(0,Nt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center text-amber-300",children:"Welcome to the Client Counseling"}),(0,Nt.jsx)("p",{className:"text-lg mb-6 text-center",children:"You are now meeting with Rajesh Kumar in custody. Ask him questions about his case to gather information for the bail application."}),(0,Nt.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg mb-6",children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-400 mb-2",children:"Tips for the Interview:"}),(0,Nt.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,Nt.jsx)("li",{children:"Start with open-ended questions to build rapport"}),(0,Nt.jsx)("li",{children:"Ask about the timeline of events"}),(0,Nt.jsx)("li",{children:"Inquire about potential witnesses"}),(0,Nt.jsx)("li",{children:"Discuss family situation and sureties for bail"}),(0,Nt.jsx)("li",{children:"Listen carefully for inconsistencies or important details"})]})]}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsx)("button",{onClick:()=>p(!1),className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-full hover:from-amber-600 hover:to-orange-700 transition-all transform hover:scale-105",children:"Begin Interview"})})]}),_&&(0,Nt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-gray-900 to-gray-800 text-white p-6 rounded-2xl shadow-2xl w-11/12 max-w-2xl z-20 border border-blue-500",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-blue-400",children:"Keyboard Controls"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Nt.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-400 mb-2",children:"Camera Controls"}),(0,Nt.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Nt.jsxs)("li",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{children:"Rotate Left"}),(0,Nt.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"\u2190 Arrow"})]}),(0,Nt.jsxs)("li",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{children:"Rotate Right"}),(0,Nt.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"\u2192 Arrow"})]}),(0,Nt.jsxs)("li",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{children:"Zoom In"}),(0,Nt.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"+"})]}),(0,Nt.jsxs)("li",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{children:"Zoom Out"}),(0,Nt.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"-"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-400 mb-2",children:"Other Controls"}),(0,Nt.jsx)("ul",{className:"space-y-2 text-sm",children:(0,Nt.jsxs)("li",{className:"flex justify-between",children:[(0,Nt.jsx)("span",{children:"Show Help"}),(0,Nt.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"H"})]})})]})]}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-full hover:from-blue-600 hover:to-indigo-700 transition-all",children:"Close Help"})})]}),g&&(0,Nt.jsx)("div",{className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-gray-900 to-gray-800 text-white p-6 rounded-2xl shadow-2xl w-11/12 max-w-3xl z-15 border border-amber-500",children:(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"text-4xl mr-4",children:"\ud83d\udc64"}),(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-400 text-lg mb-2",children:m.speaker}),(0,Nt.jsx)("p",{className:"text-lg",children:m.text})]})]})}),N&&(0,Nt.jsx)("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-amber-900 to-orange-900 text-white p-4 rounded-xl shadow-lg w-11/12 max-w-2xl z-15",children:(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"text-2xl mr-3",children:"\ud83d\udca1"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"font-bold text-amber-300 mb-1",children:"Recommendation"}),(0,Nt.jsx)("p",{className:"text-sm",children:E})]})]})}),C&&!T&&(0,Nt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-green-900 to-emerald-900 text-white p-8 rounded-2xl shadow-2xl w-11/12 max-w-2xl z-20 border border-green-500",children:[(0,Nt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center text-green-300",children:"Interview Time Completed"}),(0,Nt.jsx)("p",{className:"text-lg mb-6 text-center",children:"You've completed the 15-minute client interview. Are you satisfied with the information gathered?"}),(0,Nt.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,Nt.jsx)("button",{onClick:()=>{k(!1),L(!0),R(300)},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-full hover:from-blue-600 hover:to-indigo-700 transition-all",children:"Need 5 More Minutes"}),(0,Nt.jsx)("button",{onClick:B,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-full hover:from-green-600 hover:to-emerald-700 transition-all",children:"Complete Interview"})]})]}),T&&(0,Nt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-purple-900 to-indigo-900 text-white p-8 rounded-2xl shadow-2xl w-11/12 max-w-2xl z-20 border border-purple-500",children:[(0,Nt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center text-purple-300",children:"Interview Completed"}),(0,Nt.jsx)("p",{className:"text-lg mb-6 text-center",children:"Client interview has been successfully completed."})]}),(0,Nt.jsxs)("div",{className:"absolute top-4 right-4 bg-gradient-to-b from-gray-900 to-gray-800 bg-opacity-95 text-white p-5 rounded-2xl shadow-xl w-80 border border-gray-700",children:[(0,Nt.jsxs)("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\u2696\ufe0f"})," Client Counseling"]}),(0,Nt.jsxs)("div",{className:"mb-4 p-3 bg-gray-800 rounded-lg",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"font-semibold",children:"Time:"}),(0,Nt.jsx)("span",{className:"font-mono text-lg text-green-400",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(P)})]}),(0,Nt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-red-500 h-2 rounded-full transition-all",style:{width:"".concat((900-P)/900*100,"%")}})})]}),(0,Nt.jsxs)("div",{className:"mb-4",children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udcac Interview Controls"}),(0,Nt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y.trim()&&((e=>{if(!D.current)return;const t=D.current.processInput(e);if(f({speaker:"Rajesh Kumar",text:t.text}),v(!0),d("Trust Level: ".concat(t.trustLevel,"%")),"speechSynthesis"in window){window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t.text);window.speechSynthesis.speak(e)}setTimeout(()=>v(!1),8e3)})(y),x(""))},className:"flex gap-2",children:[(0,Nt.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),onFocus:()=>F.current=!0,onBlur:()=>F.current=!1,placeholder:"Ask Rajesh...",className:"flex-1 px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:outline-none focus:border-blue-500"}),(0,Nt.jsx)("button",{type:"submit",className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded",children:"Send"})]}),("webkitSpeechRecognition"in window||"SpeechRecognition"in window)&&(0,Nt.jsx)("button",{onClick:()=>{I.current&&(b?I.current.stop():("speechSynthesis"in window&&window.speechSynthesis.cancel(),I.current.start(),w(!0)))},className:"mt-2 w-full py-2 rounded ".concat(b?"bg-red-600":"bg-green-600 hover:bg-green-700"),children:b?"\u23f9\ufe0f Stop":"\ud83c\udfa4 Speak"})]}),(0,Nt.jsxs)("div",{className:"mb-4",children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udc64 Characters"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>{s.current&&(s.current.position.y=.6===s.current.position.y?0:.6)},className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded text-sm",children:"Lawyer Stand/Sit"}),(0,Nt.jsx)("button",{onClick:()=>{o.current&&(o.current.position.y=.6===o.current.position.y?0:.6)},className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded text-sm",children:"Client Stand/Sit"})]})]}),(0,Nt.jsxs)("div",{className:"mb-4",children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udd0d View"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>{M("All documents are now highlighted in the scene."),j(!0),setTimeout(()=>j(!1),3e3)},className:"px-3 py-2 bg-teal-600 hover:bg-teal-700 rounded text-sm",children:"Show Docs"}),(0,Nt.jsx)("button",{onClick:()=>{U.current=0,z.current=8},className:"px-3 py-2 bg-teal-600 hover:bg-teal-700 rounded text-sm",children:"Reset View"})]})]}),(0,Nt.jsxs)("div",{className:"mb-4",children:[(0,Nt.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udcf7 Camera"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>z.current=Math.max(4,z.current-1),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:"Zoom In"}),(0,Nt.jsx)("button",{onClick:()=>z.current=Math.min(20,z.current+1),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:"Zoom Out"}),(0,Nt.jsx)("button",{onClick:()=>U.current-=.12,className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:"\u25c0\ufe0f"}),(0,Nt.jsx)("button",{onClick:()=>U.current+=.12,className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:"\u25b6\ufe0f"})]})]}),(0,Nt.jsx)("div",{className:"mb-4",children:(0,Nt.jsx)("button",{onClick:()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()},className:"w-full py-2 bg-red-600 hover:bg-red-700 rounded",children:"\u23f8\ufe0f Pause Speech"})}),(0,Nt.jsx)("div",{className:"mb-4 pt-4 border-t border-gray-700",children:(0,Nt.jsx)("button",{onClick:B,className:"w-full py-3 bg-gradient-to-r from-green-600 to-emerald-700 text-white font-bold rounded-lg hover:from-green-700 hover:to-emerald-800 transition-all",children:"\u2705 End Meeting & Complete"})}),(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("button",{onClick:()=>S(!0),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"\u2753 Help"}),(0,Nt.jsx)("button",{onClick:()=>{M("Try asking about his background, family, or the incident timeline."),j(!0),setTimeout(()=>j(!1),5e3)},className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 rounded text-sm",children:"\ud83e\udd16 AI Rec"})]})]}),(0,Nt.jsx)("div",{className:"absolute bottom-4 left-4 bg-gray-900 bg-opacity-80 text-white px-4 py-2 rounded-full text-sm",children:u})]})},Uz=()=>{const e=fe(),[n,r]=(0,t.useState)("gallery"),[i,a]=(0,t.useState)(null),[o,s]=(0,t.useState)("grid"),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)("all"),h=[{id:1,name:"BBMP Property Tax",description:"Property tax document showing ownership details",fileName:"BBMP Property tax.png",category:"documents",type:"image"},{id:2,name:"CCTV Footage 3",description:"Security camera footage from warehouse entrance",fileName:"CCTV Photage 3.png",category:"cctv",type:"image"},{id:3,name:"CCTV Footage",description:"Primary security camera recording",fileName:"CCTV Photage.png",category:"cctv",type:"image"},{id:4,name:"Character Certificate",description:"Character reference for suspect",fileName:"Character Certificate.png",category:"personal",type:"image"},{id:5,name:"Rajesh Employee ID",description:"Official employee identification card",fileName:"Rajesh employee id.png",category:"personal",type:"image"},{id:6,name:"Witness Statement",description:"Police recorded witness testimony",fileName:"Witness Statement at police station.png",category:"personal",type:"image"},{id:7,name:"Arun Surity",description:"Surety bond document",fileName:"arun surity.png",category:"personal",type:"image"},{id:8,name:"Bank Account Holder Certificate",description:"Certificate of bank account ownership",fileName:"bank account holder certificate.png",category:"financial",type:"image"},{id:9,name:"Bank Account Statement",description:"Monthly bank transaction records",fileName:"bank account statement.png",category:"financial",type:"image"},{id:10,name:"Birth Certificate",description:"Official birth documentation",fileName:"birth certificate.png",category:"personal",type:"image"},{id:11,name:"CCTV Footage 2",description:"Secondary security camera recording",fileName:"cctv photage 2.png",category:"cctv",type:"image"},{id:12,name:"CCTV Footage 4",description:"Additional security camera footage",fileName:"cctv photage 4.png",category:"cctv",type:"image"},{id:13,name:"Charger and Adapter",description:"Image of electronic accessories",fileName:"charger and adapter.png",category:"evidence",type:"image"},{id:14,name:"Dell Bill",description:"Purchase receipt for laptop",fileName:"dell bill.png",category:"financial",type:"image"},{id:15,name:"Dell Service",description:"Service records for laptop",fileName:"dell service.png",category:"financial",type:"image"},{id:16,name:"Electric Bill",description:"Utility bill for residence",fileName:"electric bill.png",category:"financial",type:"image"},{id:17,name:"Family Picture",description:"Family photograph for reference",fileName:"family pic.png",category:"personal",type:"image"},{id:18,name:"Family Picture 2",description:"Additional family photograph",fileName:"familypic 2.png",category:"personal",type:"image"},{id:19,name:"First Information Report",description:"Official police complaint document",fileName:"first information report.png",category:"documents",type:"image"},{id:20,name:"Forensic Comparison Test",description:"Laboratory analysis results",fileName:"forensic comparision test.png",category:"analysis",type:"image"},{id:21,name:"Judicial Magistrate",description:"Court filing documents",fileName:"judicial madigrate.png",category:"documents",type:"image"},{id:22,name:"Laptop Model Name",description:"Identification of laptop model",fileName:"laptop model name.png",category:"evidence",type:"image"},{id:23,name:"Laptop Picture",description:"Visual documentation of laptop",fileName:"laptop pic.png",category:"evidence",type:"image"},{id:24,name:"Laptop Size",description:"Physical dimensions of laptop",fileName:"laptop size.png",category:"evidence",type:"image"},{id:25,name:"Monthly Inventory Audit",description:"Vijay Electronics inventory records",fileName:"monthly inventory audit of vijay electroics.png",category:"financial",type:"image"},{id:26,name:"Passport",description:"Travel document for identification",fileName:"passport.png",category:"personal",type:"image"},{id:27,name:"Pay Slip",description:"Employee salary documentation",fileName:"pay slip.png",category:"financial",type:"image"},{id:28,name:"Position Offer",description:"Job offer letter for Rajesh",fileName:"position offer for rajesh.png",category:"personal",type:"image"},{id:29,name:"Property Tax",description:"Tax documentation for property",fileName:"property tax.png",category:"financial",type:"image"},{id:30,name:"Rajesh Aadhar",description:"Indian national identification",fileName:"rajesh aadhar.png",category:"personal",type:"image"},{id:31,name:"Rajesh PAN Card",description:"Tax identification document",fileName:"rajesh pan card.png",category:"financial",type:"image"},{id:32,name:"Rajesh Wife Aadhar",description:"Spouse identification document",fileName:"rajesh wife aadhar card.png",category:"personal",type:"image"},{id:33,name:"Salesman Letter",description:"Letter from sales personnel",fileName:"sales man letter.png",category:"documents",type:"image"},{id:34,name:"Seizure Memo",description:"Official property seizure documentation",fileName:"seizure memo.png",category:"documents",type:"image"},{id:35,name:"System Data",description:"Computer system information",fileName:"system data.png",category:"evidence",type:"image"},{id:36,name:"Timeline of Events",description:"Chronological sequence of incident",fileName:"timeline of events.png",category:"analysis",type:"image"},{id:37,name:"Vijay Electronics",description:"Business identification document",fileName:"vijay electronics.png",category:"financial",type:"image"}],p=h.filter(e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),n="all"===u||e.category===u;return t&&n}),m={totalItems:h.length,byCategory:{cctv:h.filter(e=>"cctv"===e.category).length,documents:h.filter(e=>"documents"===e.category).length,personal:h.filter(e=>"personal"===e.category).length,financial:h.filter(e=>"financial"===e.category).length,evidence:h.filter(e=>"evidence"===e.category).length,analysis:h.filter(e=>"analysis"===e.category).length},keyFindings:["Multiple CCTV recordings available for timeline reconstruction","Financial documents suggest possible motive","Personal identification documents verify suspect identity","Physical evidence supports digital timeline"]},f=e=>{switch(e){case"cctv":return"CCTV Footage";case"documents":return"Legal Documents";case"personal":return"Personal ID";case"financial":return"Financial Records";case"evidence":return"Physical Evidence";case"analysis":return"Analysis Results";default:return"Uncategorized"}},g=e=>{switch(e){case"cctv":return"bg-blue-500";case"documents":return"bg-indigo-500";case"personal":return"bg-pink-500";case"financial":return"bg-yellow-500";case"evidence":return"bg-amber-500";case"analysis":return"bg-purple-500";default:return"bg-gray-500"}},v=e=>"/api/evidence/images/".concat(encodeURIComponent(e));return(0,Nt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-indigo-900 to-gray-900 text-white",children:[(0,Nt.jsx)("header",{className:"bg-gray-800 bg-opacity-50 backdrop-blur-sm border-b border-indigo-700",children:(0,Nt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Nt.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsxs)("button",{onClick:()=>e("/client-interview"),className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Counseling"]})}),(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsx)("h1",{className:"text-xl font-bold text-amber-400",children:"Digital Evidence Analysis"})}),(0,Nt.jsx)("div",{className:"flex items-center",children:(0,Nt.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"})}),"Home"]})})]})})}),(0,Nt.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-10",children:[(0,Nt.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Digital Evidence Review"}),(0,Nt.jsx)("p",{className:"text-lg text-gray-300 max-w-3xl mx-auto",children:"Examine and analyze all digital evidence collected during the investigation. Use filters and search to find specific items."})]}),(0,Nt.jsxs)("div",{className:"bg-gray-800 bg-opacity-50 rounded-xl border border-indigo-700 mb-8",children:[(0,Nt.jsx)("div",{className:"border-b border-gray-700",children:(0,Nt.jsxs)("nav",{className:"flex -mb-px",children:[(0,Nt.jsxs)("button",{onClick:()=>r("gallery"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("gallery"===n?"border-amber-500 text-amber-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6 0h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Evidence Gallery"]}),(0,Nt.jsxs)("button",{onClick:()=>r("summary"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("summary"===n?"border-amber-500 text-amber-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Summary"]}),(0,Nt.jsxs)("button",{onClick:()=>r("analysis"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("analysis"===n?"border-amber-500 text-amber-400":"border-transparent text-gray-400 hover:text-gray-300"),children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"AI Analysis"]})]})}),(0,Nt.jsxs)("div",{className:"p-6",children:["gallery"===n&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,Nt.jsx)("div",{className:"w-full md:w-auto",children:(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("input",{type:"text",placeholder:"Search evidence...",className:"w-full md:w-80 px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",value:l,onChange:e=>c(e.target.value)}),(0,Nt.jsx)("svg",{className:"h-5 w-5 absolute right-3 top-2.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Nt.jsxs)("select",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",value:u,onChange:e=>d(e.target.value),children:[(0,Nt.jsx)("option",{value:"all",children:"All Categories"}),(0,Nt.jsx)("option",{value:"cctv",children:"CCTV Footage"}),(0,Nt.jsx)("option",{value:"documents",children:"Legal Documents"}),(0,Nt.jsx)("option",{value:"personal",children:"Personal ID"}),(0,Nt.jsx)("option",{value:"financial",children:"Financial Records"}),(0,Nt.jsx)("option",{value:"evidence",children:"Physical Evidence"}),(0,Nt.jsx)("option",{value:"analysis",children:"Analysis Results"})]}),(0,Nt.jsxs)("div",{className:"flex border border-gray-600 rounded-lg overflow-hidden",children:[(0,Nt.jsx)("button",{className:"px-3 py-2 ".concat("grid"===o?"bg-amber-600":"bg-gray-700"),onClick:()=>s("grid"),children:(0,Nt.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,Nt.jsx)("button",{className:"px-3 py-2 ".concat("list"===o?"bg-amber-600":"bg-gray-700"),onClick:()=>s("list"),children:(0,Nt.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),"grid"===o?(0,Nt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(e=>(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl border border-gray-600 hover:border-amber-500 transition-all cursor-pointer overflow-hidden",onClick:()=>a(e),children:[(0,Nt.jsx)("div",{className:"aspect-video bg-gray-600 flex items-center justify-center",children:(0,Nt.jsx)("img",{src:v(e.fileName),alt:e.name,className:"w-full h-full object-contain",onError:t=>{const n=t.target;n.onerror=null,n.parentElement.innerHTML='\n                                <div class="text-center">\n                                  <svg class="h-12 w-12 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6 0h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />\n                                  </svg>\n                                  <p class="text-gray-400 text-sm mt-2">'.concat(e.fileName,"</p>\n                                </div>\n                              ")}})}),(0,Nt.jsxs)("div",{className:"p-4",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Nt.jsx)("h3",{className:"font-semibold text-white truncate",children:e.name}),(0,Nt.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full ".concat(g(e.category)," text-white"),children:f(e.category)})]}),(0,Nt.jsx)("p",{className:"text-sm text-gray-300 line-clamp-2",children:e.description}),(0,Nt.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,Nt.jsxs)("span",{className:"text-xs text-gray-400",children:["ID: EV-",e.id.toString().padStart(3,"0")]}),(0,Nt.jsx)("button",{className:"text-xs bg-amber-600 hover:bg-amber-700 text-white px-2 py-1 rounded transition-colors",children:"View"})]})]})]},e.id))}):(0,Nt.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl border border-gray-600 hover:border-amber-500 transition-all cursor-pointer p-4 flex",onClick:()=>a(e),children:[(0,Nt.jsx)("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-600 rounded-lg flex items-center justify-center mr-4",children:(0,Nt.jsx)("img",{src:v(e.fileName),alt:e.name,className:"w-full h-full object-contain",onError:e=>{const t=e.target;t.onerror=null,t.parentElement.innerHTML='\n                                <svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6 0h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />\n                                </svg>\n                              '}})}),(0,Nt.jsxs)("div",{className:"flex-grow",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Nt.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,Nt.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full ".concat(g(e.category)," text-white"),children:f(e.category)})]}),(0,Nt.jsx)("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("span",{className:"text-xs text-gray-400",children:["ID: EV-",e.id.toString().padStart(3,"0")]}),(0,Nt.jsx)("button",{className:"text-xs bg-amber-600 hover:bg-amber-700 text-white px-3 py-1 rounded transition-colors",children:"View Details"})]})]})]},e.id))}),i&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"relative max-w-6xl max-h-full w-full",children:[(0,Nt.jsx)("button",{className:"absolute top-4 right-4 text-white bg-gray-800 bg-opacity-50 rounded-full p-2 hover:bg-gray-700 z-10",onClick:()=>{a(null)},children:(0,Nt.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Nt.jsxs)("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:[(0,Nt.jsx)("div",{className:"flex items-center justify-center bg-gray-900 p-8 min-h-[50vh]",children:(0,Nt.jsx)("img",{src:v(i.fileName),alt:i.name,className:"max-h-[70vh] max-w-full object-contain",onError:e=>{const t=e.target;t.onerror=null,t.parentElement.innerHTML='\n                                <div class="text-center">\n                                  <svg class="h-24 w-24 mx-auto text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6 0h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />\n                                  </svg>\n                                  <p class="mt-4 text-xl text-gray-300">'.concat(i.name,'</p>\n                                  <p class="text-gray-500 mt-2">').concat(i.fileName,'</p>\n                                  <p class="text-gray-400 mt-4 max-w-2xl mx-auto">').concat(i.description,"</p>\n                                </div>\n                              ")}})}),(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-4",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-amber-400",children:i.name}),(0,Nt.jsx)("span",{className:"px-3 py-1 rounded-full ".concat(g(i.category)," text-white"),children:f(i.category)})]}),(0,Nt.jsx)("p",{className:"text-gray-300 mb-6",children:i.description}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Nt.jsxs)("button",{className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg font-medium transition-colors flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Add to Report"]}),(0,Nt.jsxs)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Analyze with AI"]}),(0,Nt.jsxs)("button",{className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})]})]})})]}),"summary"===n&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 p-6 rounded-xl",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold mb-2",children:m.totalItems}),(0,Nt.jsx)("div",{className:"text-blue-200",children:"Total Evidence Items"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 p-6 rounded-xl",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold mb-2",children:m.byCategory.documents}),(0,Nt.jsx)("div",{className:"text-indigo-200",children:"Legal Documents"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-amber-600 to-amber-800 p-6 rounded-xl",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold mb-2",children:m.byCategory.evidence}),(0,Nt.jsx)("div",{className:"text-amber-200",children:"Physical Evidence"})]}),(0,Nt.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-purple-800 p-6 rounded-xl",children:[(0,Nt.jsx)("div",{className:"text-3xl font-bold mb-2",children:m.byCategory.analysis}),(0,Nt.jsx)("div",{className:"text-purple-200",children:"Analysis Reports"})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 p-6 rounded-xl",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold mb-4 text-amber-400",children:"Key Findings"}),(0,Nt.jsx)("ul",{className:"space-y-3",children:m.keyFindings.map((e,t)=>(0,Nt.jsxs)("li",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"text-amber-400 mr-3 mt-1",children:"\u2022"}),(0,Nt.jsx)("span",{className:"text-gray-200",children:e})]},t))})]}),(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 p-6 rounded-xl",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"Evidence Distribution"}),(0,Nt.jsx)("div",{className:"space-y-4",children:Object.entries(m.byCategory).map(e=>{let[t,n]=e;return(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Nt.jsx)("span",{className:"text-gray-200",children:f(t)}),(0,Nt.jsxs)("span",{className:"text-gray-400",children:[n," items"]})]}),(0,Nt.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"h-2 rounded-full ".concat(g(t)),style:{width:"".concat(n/m.totalItems*100,"%")}})})]},t)})})]})]})]}),"analysis"===n&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl p-6 mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold mb-4 text-amber-400",children:"AI-Powered Evidence Analysis"}),(0,Nt.jsx)("p",{className:"text-gray-300 mb-4",children:"Our AI has analyzed all evidence and identified key patterns, inconsistencies, and potential leads."}),(0,Nt.jsx)("button",{className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg font-medium transition-colors",children:"Run Full Analysis"})]}),(0,Nt.jsxs)("div",{className:"space-y-6",children:[(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl p-6 border-l-4 border-red-500",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Nt.jsx)("h4",{className:"text-lg font-bold text-white",children:"Timeline Inconsistencies"}),(0,Nt.jsx)("span",{className:"px-2 py-1 bg-red-500 text-white text-xs rounded-full",children:"High Priority"})]}),(0,Nt.jsx)("p",{className:"text-gray-300 mb-4",children:"Discrepancies found between security logs and witness statements indicating possible evidence tampering."}),(0,Nt.jsxs)("div",{className:"flex gap-3",children:[(0,Nt.jsx)("button",{className:"text-sm bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded transition-colors",children:"View Details"}),(0,Nt.jsx)("button",{className:"text-sm bg-amber-600 hover:bg-amber-700 text-white px-3 py-1 rounded transition-colors",children:"Add to Report"})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl p-6 border-l-4 border-yellow-500",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Nt.jsx)("h4",{className:"text-lg font-bold text-white",children:"Access Control Issues"}),(0,Nt.jsx)("span",{className:"px-2 py-1 bg-yellow-500 text-white text-xs rounded-full",children:"Medium Priority"})]}),(0,Nt.jsx)("p",{className:"text-gray-300 mb-4",children:"Multiple unauthorized access attempts detected outside normal working hours."}),(0,Nt.jsxs)("div",{className:"flex gap-3",children:[(0,Nt.jsx)("button",{className:"text-sm bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded transition-colors",children:"View Details"}),(0,Nt.jsx)("button",{className:"text-sm bg-amber-600 hover:bg-amber-700 text-white px-3 py-1 rounded transition-colors",children:"Add to Report"})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 rounded-xl p-6 border-l-4 border-green-500",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Nt.jsx)("h4",{className:"text-lg font-bold text-white",children:"Digital Footprint Analysis"}),(0,Nt.jsx)("span",{className:"px-2 py-1 bg-green-500 text-white text-xs rounded-full",children:"Low Priority"})]}),(0,Nt.jsx)("p",{className:"text-gray-300 mb-4",children:"Computer activity logs show normal usage patterns with no suspicious activity."}),(0,Nt.jsxs)("div",{className:"flex gap-3",children:[(0,Nt.jsx)("button",{className:"text-sm bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded transition-colors",children:"View Details"}),(0,Nt.jsx)("button",{className:"text-sm bg-amber-600 hover:bg-amber-700 text-white px-3 py-1 rounded transition-colors",children:"Add to Report"})]})]})]})]})]})]}),(0,Nt.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Nt.jsxs)("button",{onClick:()=>e("/client-interview"),className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-medium rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Counseling"]}),(0,Nt.jsxs)("button",{onClick:()=>{const t={completedStages:["client-interview","digital-evidence"],currentStage:"bail-draft",lastUpdated:(new Date).toISOString(),totalTimeSpent:0,assessmentScore:null};mn("the-inventory-that-changed-everything",t).then(()=>{console.log("Progress saved successfully"),e("/bail-draft")}).catch(t=>{console.error("Failed to save progress:",t),e("/bail-draft")})},className:"ml-4 px-6 py-2 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Proceed to Bail Draft"]})]})]})]})},zz=zt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Bz=zt("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]),Vz=zt("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Hz=zt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Wz=zt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Gz=zt("highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]),qz=zt("stamp",[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]]),Kz=zt("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),Xz=zt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yz=zt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Jz=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)([]),[w,_]=(0,t.useState)(""),[S,E]=(0,t.useState)(!1),[M,N]=(0,t.useState)(!1),[j,T]=(0,t.useState)(!1),[A,C]=(0,t.useState)(null),[k,P]=(0,t.useState)(null),R=(0,t.useRef)(null),O=(0,t.useRef)(null),L=(0,t.useRef)(null),D=[{id:"blank",name:"Blank Document",description:"Start with a blank document",content:""},{id:"regular_bail",name:"Regular Bail Application",description:"Template for regular bail under Section 437 CrPC",content:"IN THE COURT OF [COURT NAME]\nAT [PLACE]\n\nCRIMINAL MISC. APPLICATION NO. _____ OF 20___\n\nIN THE MATTER OF:\n[Applicant Name]\n...Applicant\n\nVERSUS\n\n[State/Complainant Name]\n...Respondent\n\nAPPLICATION FOR REGULAR BAIL UNDER SECTION 437 Cr.P.C.\n\nMOST RESPECTFULLY SHEWETH:\n\n1. That the applicant has been arrested and is currently in judicial custody in connection with FIR No. _____ dated _____ registered at Police Station _____ under Sections _____ of the Indian Penal Code.\n\n2. That the applicant is innocent and has been falsely implicated in the present case.\n\n3. That the applicant has deep roots in the society and has no criminal antecedents.\n\n4. That the investigation in the matter is complete and there is no apprehension of the applicant tampering with evidence or influencing witnesses.\n\n5. That the applicant undertakes to appear before the court as and when required and will abide by all conditions imposed by this Hon'ble Court.\n\n6. That the continued detention of the applicant is not required for the purpose of investigation.\n\nPRAYER\n\nIn view of the facts and circumstances stated above, it is most respectfully prayed that this Hon'ble Court may be pleased to:\n\na) Grant regular bail to the applicant in the aforesaid case;\nb) Pass any other order as this Hon'ble Court may deem fit and proper in the interest of justice.\n\nAND FOR THIS ACT OF KINDNESS, THE APPLICANT SHALL DUTY BOUND FOREVER PRAY.\n\nAPPLICANT\nThrough Counsel\n\nPlace: _____\nDate: _____"},{id:"anticipatory_bail",name:"Anticipatory Bail Application",description:"Template for anticipatory bail under Section 438 CrPC",content:"IN THE COURT OF [COURT NAME]\nAT [PLACE]\n\nCRIMINAL MISC. APPLICATION NO. _____ OF 20___\n\nIN THE MATTER OF:\n[Applicant Name]\n...Applicant\n\nVERSUS\n\n[State Name]\n...Respondent\n\nAPPLICATION FOR ANTICIPATORY BAIL UNDER SECTION 438 Cr.P.C.\n\nMOST RESPECTFULLY SHEWETH:\n\n1. That the applicant has reason to believe that he/she may be arrested on accusation of having committed an offence under Sections _____ of the Indian Penal Code.\n\n2. That the applicant is innocent and has not committed any offence as alleged.\n\n3. That the applicant apprehends arrest in the matter and seeks protection from this Hon'ble Court.\n\n4. That the applicant has not been previously convicted of any offence and is a law-abiding citizen with deep roots in the society.\n\n5. That the applicant is ready and willing to cooperate with the investigation and join the investigation as and when required.\n\n6. That the applicant undertakes to make himself/herself available for interrogation by the police as and when required.\n\nPRAYER\n\nIn view of the facts and circumstances stated above, it is most respectfully prayed that this Hon'ble Court may be pleased to:\n\na) Grant anticipatory bail to the applicant and direct that in the event of arrest, the applicant be released on bail on such terms and conditions as this Hon'ble Court may deem fit;\nb) Pass any other order as this Hon'ble Court may deem fit and proper in the interest of justice.\n\nAND FOR THIS ACT OF KINDNESS, THE APPLICANT SHALL DUTY BOUND FOREVER PRAY.\n\nAPPLICANT\nThrough Counsel\n\nPlace: _____\nDate: _____"},{id:"bail_cancellation",name:"Bail Cancellation Opposition",description:"Template for opposing bail cancellation",content:"IN THE COURT OF [COURT NAME]\nAT [PLACE]\n\nCRIMINAL MISC. APPLICATION NO. _____ OF 20___\n\nIN THE MATTER OF:\n[Applicant/Accused Name]\n...Applicant\n\nVERSUS\n\n[State/Complainant Name]\n...Respondent\n\nREPLY TO APPLICATION FOR CANCELLATION OF BAIL\n\nMOST RESPECTFULLY SHEWETH:\n\n1. That the applicant submits this reply to the application filed for cancellation of bail granted to the applicant vide order dated _____.\n\n2. That the applicant has been regularly appearing before the trial court and has not violated any conditions imposed while granting bail.\n\n3. That the allegations made in the bail cancellation application are false, baseless and without any merit.\n\n4. That the applicant has been cooperating with the investigation and has not tampered with any evidence or influenced any witnesses.\n\n5. That there is no change in circumstances that would warrant cancellation of bail granted to the applicant.\n\nPRAYER\n\nIn view of the facts and circumstances stated above, it is most respectfully prayed that this Hon'ble Court may be pleased to:\n\na) Dismiss the application for cancellation of bail;\nb) Pass any other order as this Hon'ble Court may deem fit and proper in the interest of justice.\n\nAND FOR THIS ACT OF KINDNESS, THE APPLICANT SHALL DUTY BOUND FOREVER PRAY.\n\nAPPLICANT\nThrough Counsel\n\nPlace: _____\nDate: _____"}],I="FIR No. 123/2024",F="Central Police Station",U="IPC Sections 379, 411",z="15th January 2024",B="John Doe",V="Under Trial",H="30th October 2025",W="Investigation completed. Chargesheet filed.",G={"bail grounds":"Common grounds for bail include: 1) No previous criminal record, 2) Deep roots in society, 3) Not a flight risk, 4) Investigation complete, 5) No tampering with evidence possible, 6) Medical grounds, 7) Prolonged incarceration.",sections:"Section 437 CrPC - Regular bail for bailable offences. Section 438 CrPC - Anticipatory bail. Section 439 CrPC - Special powers of High Court or Court of Session.",precedents:"Key precedents: 1) Gudikanti Narasimhulu vs Public Prosecutor - Three factors for bail. 2) Sanjay Chandra vs CBI - Bail is the rule, jail is exception. 3) Arnesh Kumar vs State of Bihar - Arrest guidelines.",format:"A bail application should include: 1) Court details, 2) Case number, 3) Parties, 4) Facts of case, 5) Grounds for bail, 6) Precedents cited, 7) Prayer, 8) Verification, 9) Signatures.",highlight:"Important points to highlight: Medical conditions (yellow), No criminal record (green), Investigation complete (blue), Flight risk addressed (orange)."};(0,t.useEffect)(()=>(a&&!e&&(O.current&&clearTimeout(O.current),u("Saving..."),O.current=setTimeout(()=>{h(new Date),u("Saved"),setTimeout(()=>u(""),2e3)},2e3)),()=>{O.current&&clearTimeout(O.current)}),[a,e]),(0,t.useEffect)(()=>{if("undefined"!==typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const e=window.SpeechRecognition||window.webkitSpeechRecognition;L.current=new e,L.current&&(L.current.continuous=!0,L.current.interimResults=!0,L.current.lang="en-IN",L.current.onresult=e=>{let t="",n="";for(let r=e.resultIndex;r<e.results.length;r++){const i=e.results[r][0].transcript;e.results[r].isFinal?n+=i+" ":t+=i}n&&o(e=>e+n)},L.current.onerror=e=>{console.error("Speech recognition error:",e.error),g(!1)})}},[]);const q=()=>{if(!w.trim())return;const e={type:"user",text:w};b(t=>[...t,e]);let t="I can help you with bail application queries. Try asking about 'bail grounds', 'sections', 'precedents', 'format', or 'highlight'.";const n=w.toLowerCase();for(const[r,i]of Object.entries(G))if(n.includes(r)){t=i;break}setTimeout(()=>{b(e=>[...e,{type:"bot",text:t}])},500),_("")},K=e=>{const t=R.current;if(!t)return;const n=t.selectionStart,r=t.selectionEnd,i=a.substring(n,r);if(i){const t={yellow:"\ud83d\udfe1",green:"\ud83d\udfe2",blue:"\ud83d\udd35",orange:"\ud83d\udfe0",red:"\ud83d\udd34"}[e]||"\ud83d\udfe1",s="".concat(t).concat(i).concat(t),l=a.substring(0,n)+s+a.substring(r);o(l)}};return e?(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,Nt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)(Qt,{className:"w-16 h-16 text-indigo-600 mx-auto mb-4"}),(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bail Application Draft"}),(0,Nt.jsx)("p",{className:"text-gray-600",children:"Choose a template to get started or create from scratch"})]}),(0,Nt.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:D.map(e=>(0,Nt.jsxs)("div",{onClick:()=>(e=>{i(e),o(e.content),n(!1)})(e),className:"border-2 border-gray-200 rounded-xl p-6 hover:border-indigo-500 hover:shadow-lg transition-all cursor-pointer group",children:[(0,Nt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Nt.jsx)("div",{className:"bg-indigo-100 p-3 rounded-lg group-hover:bg-indigo-200 transition-colors",children:(0,Nt.jsx)(Qt,{className:"w-6 h-6 text-indigo-600"})}),(0,Nt.jsx)(cn,{className:"w-5 h-5 text-gray-400"})]}),(0,Nt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.name}),(0,Nt.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},e.id))})]})})}):(0,Nt.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Nt.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Nt.jsx)(Qt,{className:"w-6 h-6 text-indigo-600"}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:(null===r||void 0===r?void 0:r.name)||"Bail Application"}),(0,Nt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c&&(0,Nt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Nt.jsx)(zz,{className:"w-4 h-4 text-green-500"}),c]}),d&&!c&&(0,Nt.jsxs)("span",{children:["Last saved ",(()=>{if(!d)return"";const e=new Date,t=Math.floor((e.getTime()-d.getTime())/1e3);return t<60?"".concat(t," seconds ago"):t<3600?"".concat(Math.floor(t/60)," minutes ago"):d.toLocaleTimeString()})()]})]})]})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Nt.jsxs)("button",{onClick:()=>{L.current?f?(L.current.stop(),g(!1)):(L.current.start(),g(!0)):alert("Voice recognition is not supported in your browser. Please use Chrome or Edge.")},className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ".concat(f?"bg-red-500 text-white border-red-500 hover:bg-red-600":"border-gray-300 hover:bg-gray-50"),children:[f?(0,Nt.jsx)(Bz,{className:"w-4 h-4"}):(0,Nt.jsx)(Vz,{className:"w-4 h-4"}),f?"Stop":"Voice Input"]}),(0,Nt.jsxs)("button",{onClick:()=>y(!v),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Nt.jsx)(Sk,{className:"w-4 h-4"}),"AI Assistant"]}),(0,Nt.jsxs)("button",{onClick:()=>l(!s),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s?(0,Nt.jsx)(Hz,{className:"w-4 h-4"}):(0,Nt.jsx)(sn,{className:"w-4 h-4"}),"Case Details"]}),(0,Nt.jsxs)("button",{onClick:()=>{const e=new Blob([a],{type:"text/plain"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="bail_application_".concat((new Date).toISOString().split("T")[0],".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,Nt.jsx)(Wz,{className:"w-4 h-4"}),"Download"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center gap-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>T(!j),className:"p-2 hover:bg-gray-100 rounded",title:"Text Highlighting",children:(0,Nt.jsx)(Gz,{className:"w-5 h-5"})}),j&&(0,Nt.jsxs)("div",{className:"flex gap-2 ml-2",children:[(0,Nt.jsx)("button",{onClick:()=>K("yellow"),className:"w-6 h-6 bg-yellow-300 rounded border hover:scale-110",title:"Yellow - Medical/Important"}),(0,Nt.jsx)("button",{onClick:()=>K("green"),className:"w-6 h-6 bg-green-300 rounded border hover:scale-110",title:"Green - Positive Facts"}),(0,Nt.jsx)("button",{onClick:()=>K("blue"),className:"w-6 h-6 bg-blue-300 rounded border hover:scale-110",title:"Blue - Legal Sections"}),(0,Nt.jsx)("button",{onClick:()=>K("orange"),className:"w-6 h-6 bg-orange-300 rounded border hover:scale-110",title:"Orange - Key Arguments"}),(0,Nt.jsx)("button",{onClick:()=>K("red"),className:"w-6 h-6 bg-red-300 rounded border hover:scale-110",title:"Red - Critical Points"})]})]}),(0,Nt.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,Nt.jsxs)("button",{onClick:()=>E(!S),className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 rounded",children:[(0,Nt.jsx)(qz,{className:"w-5 h-5"}),"Insert Seal"]}),(0,Nt.jsxs)("button",{onClick:()=>N(!M),className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 rounded",children:[(0,Nt.jsx)(Kz,{className:"w-5 h-5"}),"Insert Signature"]})]}),S&&(0,Nt.jsxs)("div",{className:"bg-amber-50 border-b border-amber-200 px-6 py-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Nt.jsx)("h3",{className:"font-semibold text-gray-900",children:"Select Official Seal"}),(0,Nt.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Nt.jsx)(Ht,{className:"w-5 h-5"})})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-6 gap-3",children:[{id:"supreme_court",name:"Supreme Court of India",emoji:"\u2696\ufe0f"},{id:"high_court",name:"High Court",emoji:"\ud83c\udfdb\ufe0f"},{id:"district_court",name:"District Court",emoji:"\ud83c\udfe2"},{id:"govt_india",name:"Government of India",emoji:"\ud83c\uddee\ud83c\uddf3"},{id:"advocate_seal",name:"Advocate Seal",emoji:"\ud83d\udcdc"},{id:"notary",name:"Notary Public",emoji:"\u2712\ufe0f"}].map(e=>(0,Nt.jsxs)("button",{onClick:()=>(e=>{const t="\n\n[".concat(e.emoji," ").concat(e.name,"]\n\n");o(e=>e+t),E(!1)})(e),className:"flex flex-col items-center gap-2 p-3 bg-white rounded-lg hover:bg-amber-100 border border-amber-200 transition-colors",children:[(0,Nt.jsx)("span",{className:"text-3xl",children:e.emoji}),(0,Nt.jsx)("span",{className:"text-xs text-center",children:e.name})]},e.id))})]}),M&&(0,Nt.jsxs)("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Nt.jsx)("h3",{className:"font-semibold text-gray-900",children:"Select Signature Style"}),(0,Nt.jsx)("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Nt.jsx)(Ht,{className:"w-5 h-5"})})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"sig1",name:"Signature Style 1",style:"cursive"},{id:"sig2",name:"Signature Style 2",style:"italic"},{id:"sig3",name:"Digital Signature",style:"normal"}].map(e=>(0,Nt.jsxs)("button",{onClick:()=>(e=>{const t="\n\n______________________\n(".concat(e.name,")\nAdvocate\n\n");o(e=>e+t),N(!1)})(e),className:"p-4 bg-white rounded-lg hover:bg-blue-100 border border-blue-200 transition-colors",children:[(0,Nt.jsx)("div",{className:"text-lg font-".concat(e.style," mb-1"),children:"John Advocate"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-600",children:e.name})]},e.id))})]}),(0,Nt.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Nt.jsxs)("div",{className:"flex-1 flex flex-col p-6 overflow-hidden",children:[(0,Nt.jsx)("div",{className:"bg-white rounded-lg shadow-sm flex-1 flex flex-col overflow-hidden border-2 border-gray-200",children:(0,Nt.jsx)("textarea",{ref:R,value:a,onChange:e=>{const t=e.target.value;o(t),(e=>{const t=[];e.split("\n").forEach((e,n)=>{e.toLowerCase().includes("he/she")&&t.push({line:n+1,type:"style",message:"Consider using gender-neutral language"}),e.match(/\b(very|really|quite)\b/i)&&t.push({line:n+1,type:"style",message:"Avoid using weak intensifiers in legal writing"}),e.includes("  ")&&t.push({line:n+1,type:"formatting",message:"Multiple spaces detected"})}),m(t.slice(0,5))})(t)},placeholder:"Start typing your bail application or use voice input...",className:"flex-1 p-6 resize-none outline-none font-mono text-sm leading-relaxed overflow-y-auto",style:{minHeight:"100%"}})}),p.length>0&&(0,Nt.jsxs)("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Nt.jsx)(Xz,{className:"w-5 h-5 text-amber-600"}),(0,Nt.jsx)("h3",{className:"font-semibold text-amber-900",children:"Writing Suggestions"})]}),(0,Nt.jsx)("ul",{className:"space-y-2",children:p.map((e,t)=>(0,Nt.jsxs)("li",{className:"text-sm text-amber-800",children:["Line ",e.line,": ",e.message]},t))})]})]}),s&&(0,Nt.jsxs)("div",{className:"w-80 bg-white border-l border-gray-200 p-6 overflow-y-auto",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Case Details"}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Case Number"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:I})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Police Station"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:F})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Sections"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:U})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Date of Filing"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:z})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Accused Name"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:B})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Status"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm",children:(0,Nt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:V})})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Next Hearing"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:H})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Notes"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:W})]})]})]}),v&&(0,Nt.jsxs)("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[(0,Nt.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-indigo-50",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)(Sk,{className:"w-5 h-5 text-indigo-600"}),(0,Nt.jsx)("h3",{className:"font-semibold text-gray-900",children:"AI Legal Assistant"})]}),(0,Nt.jsx)("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Nt.jsx)(Ht,{className:"w-5 h-5"})})]}),(0,Nt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===x.length&&(0,Nt.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Nt.jsx)(Sk,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,Nt.jsx)("p",{className:"text-sm",children:"Ask me about bail grounds, sections, precedents, or format!"}),(0,Nt.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Nt.jsx)("button",{onClick:()=>_("What are common bail grounds?"),className:"w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-sm",children:"What are common bail grounds?"}),(0,Nt.jsx)("button",{onClick:()=>_("Tell me about relevant sections"),className:"w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-sm",children:"Tell me about relevant sections"}),(0,Nt.jsx)("button",{onClick:()=>_("Key precedents for bail"),className:"w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-sm",children:"Key precedents for bail"})]})]}),x.map((e,t)=>(0,Nt.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,Nt.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.type?"bg-indigo-600 text-white":"bg-gray-100 text-gray-900"),children:(0,Nt.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text})})},t))]}),(0,Nt.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Nt.jsxs)("div",{className:"flex gap-2",children:[(0,Nt.jsx)("input",{type:"text",value:w,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&q(),placeholder:"Ask a question...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),(0,Nt.jsx)("button",{onClick:q,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:(0,Nt.jsx)(Yz,{className:"w-4 h-4"})})]})})]})]})]})},Zz=()=>{const e=fe(),{user:t}=Pt();return(0,Nt.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,Nt.jsxs)("div",{className:"p-4 bg-gray-800 flex justify-between items-center",children:[(0,Nt.jsx)("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:"\u2190 Back to Home"}),(0,Nt.jsx)("button",{onClick:async()=>{try{if(t)await mn("the-inventory-that-changed-everything",{status:"in_progress",progress:60,currentStage:"court-hearing",completedStages:["client-interview","digital-evidence","bail-draft"]});else{const e=localStorage.getItem("scenario-progress-the-inventory-that-changed-everything");if(e){const t=JSON.parse(e),n=t.completedStages.includes("bail-draft")?t.completedStages:[...t.completedStages,"bail-draft"],r=u(u({},t),{},{currentStage:"court-hearing",completedStages:n});localStorage.setItem("scenario-progress-the-inventory-that-changed-everything",JSON.stringify(r))}}}catch(n){console.error("Error saving progress:",n);const e=localStorage.getItem("scenario-progress-the-inventory-that-changed-everything");if(e){const t=JSON.parse(e),n=t.completedStages.includes("bail-draft")?t.completedStages:[...t.completedStages,"bail-draft"],r=u(u({},t),{},{currentStage:"court-hearing",completedStages:n});localStorage.setItem("scenario-progress-the-inventory-that-changed-everything",JSON.stringify(r))}}e("/courtroom")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold rounded-full hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105",children:"Proceed to Courtroom \u2192"})]}),(0,Nt.jsx)("div",{className:"flex-1",children:(0,Nt.jsx)(Jz,{})})]})},$z=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qz=(()=>new Set($z))(),eB=e=>180*e/Math.PI,tB=e=>{const t=eB(Math.atan2(e[1],e[0]));return rB(t)},nB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tB,rotateZ:tB,skewX:e=>eB(Math.atan(e[1])),skewY:e=>eB(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rB=e=>((e%=360)<0&&(e+=360),e),iB=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aB=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),oB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iB,scaleY:aB,scale:e=>(iB(e)+aB(e))/2,rotateX:e=>rB(eB(Math.atan2(e[6],e[5]))),rotateY:e=>rB(eB(Math.atan2(-e[2],e[0]))),rotateZ:tB,rotate:tB,skewX:e=>eB(Math.atan(e[4])),skewY:e=>eB(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sB(e){return e.includes("scale")?1:0}function lB(e,t){if(!e||"none"===e)return sB(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=oB,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=nB,i=t}if(!i)return sB(t);const a=r[t],o=i[1].split(",").map(cB);return"function"===typeof a?a(o):o[a]}function cB(e){return parseFloat(e.trim())}const uB=e=>t=>"string"===typeof t&&t.startsWith(e),dB=uB("--"),hB=uB("var(--"),pB=e=>!!hB(e)&&mB.test(e.split("/*")[0].trim()),mB=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function fB(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const gB=(e,t,n)=>e+(t-e)*n;function vB(e){return void 0===e||1===e}function yB(e){let{scale:t,scaleX:n,scaleY:r}=e;return!vB(t)||!vB(n)||!vB(r)}function xB(e){return yB(e)||bB(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bB(e){return wB(e.x)||wB(e.y)}function wB(e){return e&&"0%"!==e}function _B(e,t,n){return n+t*(e-n)}function SB(e,t,n,r,i){return void 0!==i&&(e=_B(e,i,r)),_B(e,n,r)+t}function EB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=SB(e.min,t,n,r,i),e.max=SB(e.max,t,n,r,i)}function MB(e,t){let{x:n,y:r}=t;EB(e.x,n.translate,n.scale,n.originPoint),EB(e.y,r.translate,r.scale,r.originPoint)}const NB=.999999999999,jB=1.0000000000001;function TB(e,t){e.min=e.min+t,e.max=e.max+t}function AB(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;EB(e,t,n,gB(e.min,e.max,i),r)}function CB(e,t){AB(e.x,t.x,t.scaleX,t.scale,t.originX),AB(e.y,t.y,t.scaleY,t.scale,t.originY)}function kB(e,t){return fB(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const PB=new Set(["width","height","top","left","right","bottom",...$z]),RB=(e,t,n)=>n>t?t:n<e?e:n,OB={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},LB=u(u({},OB),{},{transform:e=>RB(0,1,e)}),DB=u(u({},OB),{},{default:1}),IB=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),FB=IB("deg"),UB=IB("%"),zB=IB("px"),BB=IB("vh"),VB=IB("vw"),HB=(()=>u(u({},UB),{},{parse:e=>UB.parse(e)/100,transform:e=>UB.transform(100*e)}))(),WB=e=>t=>t.test(e),GB=[OB,zB,UB,FB,VB,BB,{test:e=>"auto"===e,parse:e=>e}],qB=e=>GB.find(WB(e));const KB=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),XB=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function YB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=XB.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return KB(e)?parseFloat(e):e}return pB(i)?YB(i,t,n+1):i}const JB=e=>e===OB||e===zB,ZB=new Set(["x","y","z"]),$B=$z.filter(e=>!ZB.has(e));const QB={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return lB(n,"x")},y:(e,t)=>{let{transform:n}=t;return lB(n,"y")}};QB.translateX=QB.x,QB.translateY=QB.y;const eV=e=>e,tV={},nV=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],rV={value:null,addProjectionMetrics:null};function iV(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=nV.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{s=e,i?a=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&rV.value&&rV.value.frameloop[t].push(l),l=0,n.clear(),i=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=o,f=()=>{const a=tV.useManualTiming?i.timestamp:performance.now();n=!1,tV.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},g=nV.reduce((t,a)=>{const s=o[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),s.schedule(t,a,o)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<nV.length;t++)o[nV[t]].cancel(e)},state:i,steps:o}}const{schedule:aV,cancel:oV,state:sV,steps:lV}=iV("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:eV,!0),cV=new Set;let uV=!1,dV=!1,hV=!1;function pV(){if(dV){const e=Array.from(cV).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return $B.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}dV=!1,uV=!1,cV.forEach(e=>e.complete(hV)),cV.clear()}function mV(){cV.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dV=!0)})}class fV{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(cV.add(this),uV||(uV=!0,aV.read(mV),aV.resolveKeyframes(pV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cV.delete(this)}cancel(){"scheduled"===this.state&&(cV.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const gV=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function vV(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||gV(e))}const yV=e=>Math.round(1e5*e)/1e5,xV=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const bV=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,wV=(e,t)=>n=>Boolean("string"===typeof n&&bV.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),_V=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,a,o,s]=r.match(xV);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},SV=u(u({},OB),{},{transform:e=>Math.round((e=>RB(0,255,e))(e))}),EV={test:wV("rgb","red"),parse:_V("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+SV.transform(t)+", "+SV.transform(n)+", "+SV.transform(r)+", "+yV(LB.transform(i))+")"}};const MV={test:wV("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:EV.transform},NV={test:wV("hsl","hue"),parse:_V("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+UB.transform(yV(n))+", "+UB.transform(yV(r))+", "+yV(LB.transform(i))+")"}},jV={test:e=>EV.test(e)||MV.test(e)||NV.test(e),parse:e=>EV.test(e)?EV.parse(e):NV.test(e)?NV.parse(e):MV.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?EV.transform(e):NV.transform(e),getAnimatableNone:e=>{const t=jV.parse(e);return t.alpha=0,jV.transform(t)}},TV=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const AV="number",CV="color",kV=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function PV(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(kV,e=>(jV.test(e)?(r.color.push(a),i.push(CV),n.push(jV.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(AV),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function RV(e){return PV(e).values}function OV(e){const{split:t,types:n}=PV(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===AV?yV(e[a]):t===CV?jV.transform(e[a]):e[a]}return i}}const LV=e=>"number"===typeof e?0:jV.test(e)?jV.getAnimatableNone(e):e;const DV={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(xV))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(TV))||void 0===n?void 0:n.length)||0)>0},parse:RV,createTransformer:OV,getAnimatableNone:function(e){const t=RV(e);return OV(e)(t.map(LV))}},IV=new Set(["brightness","contrast","saturate","opacity"]);function FV(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(xV)||[];if(!r)return e;const i=n.replace(r,"");let a=IV.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const UV=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,zV=u(u({},DV),{},{getAnimatableNone:e=>{const t=e.match(UV);return t?t.map(FV).join(" "):e}}),BV=u(u({},OB),{},{transform:Math.round}),VV=u(u({borderWidth:zB,borderTopWidth:zB,borderRightWidth:zB,borderBottomWidth:zB,borderLeftWidth:zB,borderRadius:zB,radius:zB,borderTopLeftRadius:zB,borderTopRightRadius:zB,borderBottomRightRadius:zB,borderBottomLeftRadius:zB,width:zB,maxWidth:zB,height:zB,maxHeight:zB,top:zB,right:zB,bottom:zB,left:zB,padding:zB,paddingTop:zB,paddingRight:zB,paddingBottom:zB,paddingLeft:zB,margin:zB,marginTop:zB,marginRight:zB,marginBottom:zB,marginLeft:zB,backgroundPositionX:zB,backgroundPositionY:zB},{rotate:FB,rotateX:FB,rotateY:FB,rotateZ:FB,scale:DB,scaleX:DB,scaleY:DB,scaleZ:DB,skew:FB,skewX:FB,skewY:FB,distance:zB,translateX:zB,translateY:zB,translateZ:zB,x:zB,y:zB,z:zB,perspective:zB,transformPerspective:zB,opacity:LB,originX:HB,originY:HB,originZ:zB}),{},{zIndex:BV,fillOpacity:LB,strokeOpacity:LB,numOctaves:BV}),HV=u(u({},VV),{},{color:jV,backgroundColor:jV,outlineColor:jV,fill:jV,stroke:jV,borderColor:jV,borderTopColor:jV,borderRightColor:jV,borderBottomColor:jV,borderLeftColor:jV,filter:zV,WebkitFilter:zV}),WV=e=>HV[e];function GV(e,t){let n=WV(e);return n!==zV&&(n=DV),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qV=new Set(["auto","none","0"]);class KV extends fV{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),pB(n))){const r=YB(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!PB.has(n)||2!==e.length)return;const[r,i]=e,a=qB(r),o=qB(i);if(a!==o)if(JB(a)&&JB(o))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else QB[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||vV(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!qV.has(t)&&PV(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=GV(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=QB[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=QB[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const XV=e=>Boolean(e&&e.getVelocity);let YV;function JV(){YV=void 0}const ZV={now:()=>(void 0===YV&&ZV.set(sV.isProcessing||tV.useManualTiming?sV.timestamp:performance.now()),YV),set:e=>{YV=e,queueMicrotask(JV)}};function $V(e,t){-1===e.indexOf(t)&&e.push(t)}function QV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class eH{constructor(){this.subscriptions=[]}add(e){return $V(this.subscriptions,e),()=>QV(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tH(e,t){return t?e*(1e3/t):0}const nH={current:void 0};class rH{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=ZV.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ZV.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new eH);const n=this.events[e].add(t);return"change"===e?()=>{n(),aV.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return nH.current&&nH.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ZV.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return tH(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iH(e,t){return new rH(e,t)}const aH=[...GB,jV,DV],{schedule:oH,cancel:sH}=iV(queueMicrotask,!1),lH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cH={};for(const n in lH)cH[n]={isEnabled:e=>lH[n].some(t=>!!e[t])};const uH=()=>({x:{min:0,max:0},y:{min:0,max:0}}),dH="undefined"!==typeof window,hH={current:null},pH={current:!1};const mH=new WeakMap;function fH(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function gH(e){return"string"===typeof e||Array.isArray(e)}const vH=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yH=["initial",...vH];function xH(e){return fH(e.animate)||yH.some(t=>gH(e[t]))}function bH(e){return Boolean(xH(e)||e.variants)}function wH(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function _H(e,t,n,r){if("function"===typeof t){const[i,a]=wH(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,a]=wH(r);t=t(void 0!==n?n:e.custom,i,a)}return t}const SH=["willChange"],EH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MH{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fV,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ZV.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,aV.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=xH(n),this.isVariantNode=bH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=h,m=a(h,SH);for(const a in m){const e=m[a];void 0!==c[a]&&XV(e)&&e.set(c[a])}}mount(e){var t;this.current=e,mH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),pH.current||function(){if(pH.current=!0,dH)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hH.current=e.matches;e.addEventListener("change",t),t()}else hH.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||hH.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),oV(this.notifyUpdate),oV(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Qz.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&aV.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in cH){const t=cH[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<EH.length;n++){const t=EH[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(XV(i))e.addValue(r,i);else if(XV(a))e.addValue(r,iH(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,iH(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=iH(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(KB(r)||gV(r))?r=parseFloat(r):(i=r,!aH.find(WB(i))&&DV.test(t)&&(r=GV(e,t))),this.setBaseTarget(e,XV(r)?r.get():r)),XV(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=_H(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||XV(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new eH),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){oH.render(this.render)}}class NH extends MH{constructor(){super(...arguments),this.KeyframeResolver=KV}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;XV(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const jH=(e,t)=>t&&"number"===typeof e?t.transform(e):e,TH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AH=$z.length;function CH(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const e=t[l];if(Qz.has(l))o=!0;else if(dB(l))i[l]=e;else{const t=jH(e,VV[l]);l.startsWith("origin")?(s=!0,a[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<AH;a++){const o=$z[a],s=e[o];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(o.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=jH(s,VV[o]);l||(i=!1,r+="".concat(TH[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function kH(e,t,n,r){let{style:i,vars:a}=t;const o=e.style;let s;for(s in i)o[s]=i[s];for(s in null===r||void 0===r||r.applyProjectionStyles(o,n),a)o.setProperty(s,a[s])}const PH={};function RH(e,t){let{layout:n,layoutId:r}=t;return Qz.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!PH[e]||"opacity"===e)}function OH(e,t,n){const{style:r}=e,i={};for(const o in r){var a;(XV(r[o])||t.style&&XV(t.style[o])||RH(o,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(i[o]=r[o])}return i}class LH extends NH{constructor(){super(...arguments),this.type="html",this.renderInstance=kH}readValueFromInstance(e,t){var n,r;if(Qz.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?sB(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return lB(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(dB(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return kB(e,n)}build(e,t,n){CH(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return OH(e,t,n)}}const DH=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IH={offset:"stroke-dashoffset",array:"stroke-dasharray"},FH={offset:"strokeDashoffset",array:"strokeDasharray"};const UH=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function zH(e,t,n,r,i){let{attrX:o,attrY:s,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(CH(e,a(t,UH),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;var m,f;(h.transform&&(p.transform=h.transform,delete h.transform),p.transform||h.transformOrigin)&&(p.transformOrigin=null!==(m=h.transformOrigin)&&void 0!==m?m:"50% 50%",delete h.transformOrigin);p.transform&&(p.transformBox=null!==(f=null===i||void 0===i?void 0:i.transformBox)&&void 0!==f?f:"fill-box",delete h.transformBox);void 0!==o&&(h.x=o),void 0!==s&&(h.y=s),void 0!==l&&(h.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?IH:FH;e[a.offset]=zB.transform(-r);const o=zB.transform(t),s=zB.transform(n);e[a.array]="".concat(o," ").concat(s)}(h,c,u,d,!1)}const BH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),VH=e=>"string"===typeof e&&"svg"===e.toLowerCase();function HH(e,t,n){const r=OH(e,t,n);for(const i in e)if(XV(e[i])||XV(t[i])){r[-1!==$z.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class WH extends NH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=uH}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Qz.has(t)){const e=WV(t);return e&&e.default||0}return t=BH.has(t)?t:DH(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return HH(e,t,n)}build(e,t,n){zH(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){kH(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(BH.has(i)?i:DH(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=VH(e.tagName),super.mount(e)}}const GH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qH(e){return"string"===typeof e&&!e.includes("-")&&!!(GH.indexOf(e)>-1||/[A-Z]/.test(e))}const KH=(e,n)=>qH(e)?new WH(n):new LH(n,{allowProjection:e!==t.Fragment}),XH=(0,t.createContext)({}),YH=(0,t.createContext)({strict:!1}),JH=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ZH=(0,t.createContext)({});function $H(e){const{initial:n,animate:r}=function(e,t){if(xH(e)){const{initial:t,animate:n}=e;return{initial:!1===t||gH(t)?t:void 0,animate:gH(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(ZH));return(0,t.useMemo)(()=>({initial:n,animate:r}),[QH(n),QH(r)])}function QH(e){return Array.isArray(e)?e.join(" "):e}const eW=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tW(e,t,n){for(const r in t)XV(t[r])||RH(r,n)||(e[r]=t[r])}function nW(e,n){const r={};return tW(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return CH(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function rW(e,t){const n={},r=nW(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const iW=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function aW(e,n,r,i){const a=(0,t.useMemo)(()=>{const t=iW();return zH(t,n,VH(i),e.transformTemplate,e.style),u(u({},t.attrs),{},{style:u({},t.style)})},[n]);if(e.style){const t={};tW(t,e.style,e),a.style=u(u({},t),a.style)}return a}const oW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sW(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oW.has(e)}let lW=e=>!sW(e);try{"function"===typeof(cW=require("@emotion/is-prop-valid").default)&&(lW=e=>e.startsWith("on")?!sW(e):cW(e))}catch(xY){}var cW;function uW(e,n,r,i,a){let{latestValues:o}=i,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(qH(e)?aW:rW)(n,o,a,e),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(lW(i)||!0===n&&sW(i)||!t&&!sW(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof e,s),d=e!==t.Fragment?u(u(u({},c),l),{},{ref:r}):{},{children:h}=n,p=(0,t.useMemo)(()=>XV(h)?h.get():h,[h]);return(0,t.createElement)(e,u(u({},d),{},{children:p}))}const dW=(0,t.createContext)(null);function hW(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function pW(e){return XV(e)?e.get():e}const mW=["transitionEnd","transition"];function fW(e,t,n,r){const i={},o=r(e,{});for(const a in o)i[a]=pW(o[a]);let{initial:s,animate:l}=e;const c=xH(e),u=bH(e);t&&u&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const h=d?l:s;if(h&&"boolean"!==typeof h&&!fH(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=_H(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=a(r,mW);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const gW=e=>(n,r)=>{const i=(0,t.useContext)(ZH),a=(0,t.useContext)(dW),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:a}=e;return{latestValues:fW(t,n,r,i),renderState:a()}}(e,n,i,a);return r?o():hW(o)},vW=gW({scrapeMotionValuesFromProps:OH,createRenderState:eW}),yW=gW({scrapeMotionValuesFromProps:HH,createRenderState:iW});const xW=Symbol.for("motionComponentSymbol");function bW(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function wW(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):bW(r)&&(r.current=t))},[n])}const _W="data-"+DH("framerAppearId"),SW=(0,t.createContext)({}),EW=dH?t.useLayoutEffect:t.useEffect;function MW(e,n,r,i,a){var o,s,l,c;const{visualElement:u}=(0,t.useContext)(ZH),d=(0,t.useContext)(YH),h=(0,t.useContext)(dW),p=(0,t.useContext)(JH).reducedMotion,m=(0,t.useRef)(null);i=i||d.renderer,!m.current&&i&&(m.current=i(e,{visualState:n,parent:u,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const f=m.current,g=(0,t.useContext)(SW);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NW(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&bW(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(m.current,r,a,g);const v=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{f&&v.current&&f.update(r,h)});const y=r[_W],x=(0,t.useRef)(Boolean(y)&&!(null!==(o=(s=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(s,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return EW(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),(0,t.useEffect)(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),x.current=!1),f.enteringChildren=void 0)}),f}function NW(e){if(e)return!1!==e.options.allowProjection?e.projection:NW(e.parent)}function jW(e){var n,r;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)cH[t]=u(u({},cH[t]),e[t])}(a);const s=qH(e)?yW:vW;function l(n,r){let a;const l=u(u(u({},(0,t.useContext)(JH)),n),{},{layoutId:TW(n)}),{isStatic:c}=l,d=$H(n),h=s(n,c);if(!c&&dH){!function(){(0,t.useContext)(YH).strict;0}();const n=function(e){const{drag:t,layout:n}=cH;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=n.MeasureLayout,d.visualElement=MW(e,h,l,o,n.ProjectionNode)}return(0,Nt.jsxs)(ZH.Provider,{value:d,children:[a&&d.visualElement?(0,Nt.jsx)(a,u({visualElement:d.visualElement},l)):null,uW(e,n,wW(h,d.visualElement,r),h,c,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const c=(0,t.forwardRef)(l);return c[xW]=e,c}function TW(e){let{layoutId:n}=e;const r=(0,t.useContext)(XH).id;return r&&void 0!==n?r+"-"+n:n}function AW(e,t){if("undefined"===typeof Proxy)return jW;const n=new Map,r=(n,r)=>jW(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,jW(a,void 0,e,t)),n.get(a))})}function CW(e,t,n){const r=e.getProps();return _H(r,t,void 0!==n?n:r.custom,e)}function kW(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const PW=e=>Array.isArray(e),RW=["transitionEnd","transition"];function OW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,iH(n))}function LW(e){return PW(e)?e[e.length-1]||0:e}function DW(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(XV(e)&&e.add)}(n))return n.add(t);if(!n&&tV.WillChange){const n=new tV.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function IW(e){return e.props[_W]}function FW(e){e.duration=0,e.type="keyframes"}const UW=(e,t)=>n=>t(e(n)),zW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(UW)},BW=e=>1e3*e,VW=e=>e/1e3,HW={layout:0,mainThread:0,waapi:0};function WW(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GW(e,t){return n=>n>0?t:e}const qW=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},KW=[MV,EV,NV];function XW(e){const t=(n=e,KW.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===NV&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let a=0,o=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;a=WW(i,e,t+1/3),o=WW(i,e,t),s=WW(i,e,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(r)),r}const YW=(e,t)=>{const n=XW(e),r=XW(t);if(!n||!r)return GW(e,t);const i=u({},n);return e=>(i.red=qW(n.red,r.red,e),i.green=qW(n.green,r.green,e),i.blue=qW(n.blue,r.blue,e),i.alpha=gB(n.alpha,r.alpha,e),EV.transform(i))},JW=new Set(["none","hidden"]);function ZW(e,t){return n=>gB(e,t,n)}function $W(e){return"number"===typeof e?ZW:"string"===typeof e?pB(e)?GW:jV.test(e)?YW:tG:Array.isArray(e)?QW:"object"===typeof e?jV.test(e)?YW:eG:GW}function QW(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>$W(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function eG(e,t){const n=u(u({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=$W(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const tG=(e,t)=>{const n=DV.createTransformer(t),r=PV(e),i=PV(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?JW.has(e)&&!i.values.length||JW.has(t)&&!r.values.length?function(e,t){return JW.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):zW(QW(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var i;const o=t.types[a],s=e.indexes[o][r[o]],l=null!==(i=e.values[s])&&void 0!==i?i:0;n[a]=l,r[o]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),GW(e,t))};function nG(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return gB(e,t,n);return $W(e)(e,t)}const rG=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return aV.update(t,e)},stop:()=>oV(t),now:()=>sV.isProcessing?sV.timestamp:ZV.now()}},iG=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},aG=2e4;function oG(e){let t=0;let n=e.next(t);for(;!n.done&&t<aG;)t+=50,n=e.next(t);return t>=aG?1/0:t}function sG(e,t,n){const r=Math.max(t-5,0);return tH(n-e(r),t-r)}const lG={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cG=.001;function uG(e){let t,n,{duration:r=lG.duration,bounce:i=lG.bounce,velocity:a=lG.velocity,mass:o=lG.mass}=e;BW(lG.maxDuration);let s=1-i;s=RB(lG.minDamping,lG.maxDamping,s),r=RB(lG.minDuration,lG.maxDuration,VW(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-a,o=hG(e,s),l=Math.exp(-n);return cG-i/o*l},n=e=>{const n=e*s*r,i=n*a+a,o=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=hG(Math.pow(e,2),s);return(-t(e)+cG>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let i=1;i<dG;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=BW(r),isNaN(l))return{stiffness:lG.stiffness,damping:lG.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:r}}}const dG=12;function hG(e,t){return e*Math.sqrt(1-t*t)}const pG=["duration","bounce"],mG=["stiffness","damping","mass"];function fG(e,t){return t.some(t=>void 0!==e[t])}function gG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lG.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lG.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t=u({velocity:lG.velocity,stiffness:lG.stiffness,damping:lG.damping,mass:lG.mass,isResolvedFromDuration:!1},e);if(!fG(e,mG)&&fG(e,pG))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*RB(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=u(u({},t),{},{mass:lG.mass,stiffness:i,damping:a})}else{const n=uG(e);t=u(u(u({},t),n),{},{mass:lG.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-VW(n.velocity||0)})),f=p||0,g=c/(2*Math.sqrt(l*d)),v=o-a,y=VW(Math.sqrt(l/d)),x=Math.abs(v)<5;let b;if(r||(r=x?lG.restSpeed.granular:lG.restSpeed.default),i||(i=x?lG.restDelta.granular:lG.restDelta.default),g<1){const e=hG(y,g);b=t=>{const n=Math.exp(-g*y*t);return o-n*((f+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>o-Math.exp(-y*e)*(v+(f+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return o-n*((f+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:m&&h||null,next:e=>{const t=b(e);if(m)s.done=e>=h;else{let n=0===e?f:0;g<1&&(n=0===e?BW(f):sG(b,e,t));const a=Math.abs(n)<=r,l=Math.abs(o-t)<=i;s.done=a&&l}return s.value=s.done?o:t,s},toString:()=>{const e=Math.min(oG(w),aG),t=iG(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function vG(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const g=h+f,v=void 0===s?g:s(g);v!==g&&(f=v-h);const y=e=>-f*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,_;const S=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,_=gG({keyframes:[p.value,m(p.value)],velocity:sG(x,e,p.value),damping:a,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>=w?_.next(e-w):(!t&&b(e),p)}}}gG.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),r=Math.min(oG(n),aG);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:VW(r)}}(e,100,gG);return e.ease=t.ease,e.duration=BW(t.duration),e.type="keyframes",e};const yG=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function xG(e,t,n,r){if(e===t&&n===r)return eV;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=yG(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:yG(i(e),t,r)}const bG=xG(.42,0,1,1),wG=xG(0,0,.58,1),_G=xG(.42,0,.58,1),SG=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EG=e=>t=>1-e(1-t),MG=xG(.33,1.53,.69,.99),NG=EG(MG),jG=SG(NG),TG=e=>(e*=2)<1?.5*NG(e):.5*(2-Math.pow(2,-10*(e-1))),AG=e=>1-Math.sin(Math.acos(e)),CG=EG(AG),kG=SG(AG),PG=e=>Array.isArray(e)&&"number"===typeof e[0],RG={linear:eV,easeIn:bG,easeInOut:_G,easeOut:wG,circIn:AG,circInOut:kG,circOut:CG,backIn:NG,backInOut:jG,backOut:MG,anticipate:TG},OG=e=>{if(PG(e)){e.length;const[t,n,r,i]=e;return xG(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),RG[e]):e},LG=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function DG(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||tV.mix||nG,a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||eV:t;n=zW(e,n)}r.push(n)}return r}(t,r,i),l=s.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=LG(e[r],e[r+1],n);return s[r](i)};return n?t=>c(RB(e[0],e[a-1],t)):c}function IG(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=LG(0,t,r);e.push(gB(n,1,i))}}(t,e.length-1),t}function FG(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(OG):OG(i),o={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:IG(n),t),l=DG(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||_G).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const UG=e=>null!==e;function zG(e,t,n){let{repeat:r,repeatType:i="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(UG),s=a<0||r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const BG={decay:vG,inertia:vG,tween:FG,keyframes:FG,spring:gG};function VG(e){"string"===typeof e.type&&(e.type=BG[e.type])}class HG{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const WG=e=>e/100;class GG extends HG{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==ZV.now()&&this.tick(ZV.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},HW.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;VG(e);const{type:t=FG,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const s=t||FG;s!==FG&&"number"!==typeof o[0]&&(this.mixKeyframes=zW(WG,nG(o[0],o[1])),o=[0,100]);const l=s(u(u({},e),{},{keyframes:o}));"mirror"===i&&(this.mirroredGenerator=s(u(u({},e),{},{keyframes:[...o].reverse(),velocity:-a}))),null===l.calculatedDuration&&(l.calculatedDuration=oG(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/o)):"mirror"===d&&(x=a)),y=RB(0,1,n)*o}const b=v?{done:!1,value:c[0]}:x.next(y);i&&(b.value=i(b.value));let{done:w}=b;v||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return _&&p!==vG&&(b.value=zG(c,this.options,f,this.speed)),m&&m(b.value),_&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return VW(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+VW(e)}get time(){return VW(this.currentTime)}set time(e){var t;e=BW(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ZV.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=VW(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=rG,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ZV.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,HW.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function qG(e){let t;return()=>(void 0===t&&(t=e()),t)}const KG=qG(()=>void 0!==window.ScrollTimeline),XG={};function YG(e,t){const n=qG(e);return()=>{var e;return null!==(e=XG[t])&&void 0!==e?e:n()}}const JG=YG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(yY){return!1}return!0},"linearEasing"),ZG=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},$G={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ZG([0,.65,.55,1]),circOut:ZG([.55,0,1,.45]),backIn:ZG([.31,.01,.66,-.59]),backOut:ZG([.33,1.53,.69,.99])};function QG(e,t){return e?"function"===typeof e?JG()?iG(e,t):"ease-out":PG(e)?ZG(e):Array.isArray(e)?e.map(e=>QG(e,t)||$G.easeOut):$G[e]:void 0}function eq(e,t,n){let{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=QG(s,i);Array.isArray(d)&&(u.easing=d),rV.value&&HW.waapi++;const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(u,h);return rV.value&&p.finished.finally(()=>{HW.waapi--}),p}function tq(e){return"function"===typeof e&&"applyToOptions"in e}const nq=["type"];class rq extends HG{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=o,this.options=e,e.type;const c=function(e){let{type:t}=e,n=a(e,nq);return tq(t)&&JG()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=eq(t,n,r,c,i),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=zG(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(yY){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return VW(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+VW(e)}get time(){return VW(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=BW(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&KG()?(this.animation.timeline=t,eV):n(this)}}const iq={anticipate:TG,backInOut:jG,circInOut:kG};function aq(e){"string"===typeof e.ease&&e.ease in iq&&(e.ease=iq[e.ease])}const oq=["motionValue","onUpdate","onComplete","element"];class sq extends rq{constructor(e){aq(e),VG(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:o,element:s}=n,l=a(n,oq);if(!r)return;if(void 0!==e)return void r.set(e);const c=new GG(u(u({},l),{},{autoplay:!1})),d=BW(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10),c.stop()}}const lq=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!DV.test(e)&&"0"!==e||e.startsWith("url(")));const cq=new Set(["opacity","clipPath","filter","transform"]),uq=qG(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const dq=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class hq extends HG{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:p}=e,m=a(e,dq);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=ZV.now();const f=u({autoplay:n,delay:r,type:i,repeat:o,repeatDelay:s,repeatType:l,name:d,motionValue:h,element:p},m),g=(null===p||void 0===p?void 0:p.KeyframeResolver)||fV;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),d,h,p),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=ZV.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=lq(i,t),s=lq(a,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(a,'". "').concat(o?a:i,'" is not an animatable value.'),!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||tq(n))&&r)}(e,i,a,o)||(!tV.instantAnimations&&s||null===c||void 0===c||c(zG(e,n,t)),e[0]=e[e.length-1],FW(n),n.repeat=0);const d=u(u({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return uq()&&r&&cq.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==a&&0!==o&&"inertia"!==s}(d)?new sq(u(u({},d),{},{element:d.motionValue.owner.current})):new GG(d);h.finished.then(()=>this.notifyFinished()).catch(eV),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),hV=!0,mV(),pV(),hV=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const pq=e=>null!==e;const mq={type:"spring",stiffness:500,damping:25,restSpeed:10},fq={type:"keyframes",duration:.8},gq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vq=(e,t)=>{let{keyframes:n}=t;return n.length>2?fq:Qz.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:mq:gq},yq=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const xq=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const l=kW(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=BW(c);const h=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=a(e,yq);return!!Object.keys(h).length})(l)||Object.assign(h,vq(e,h)),h.duration&&(h.duration=BW(h.duration)),h.repeatDelay&&(h.repeatDelay=BW(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let p=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(FW(h),0===h.delay&&(p=!0)),(tV.instantAnimations||tV.skipAnimations)&&(p=!0,FW(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!o&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const a=e.filter(pq),o=r&&"loop"!==i&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}(h.keyframes,l);if(void 0!==e)return void aV.update(()=>{h.onUpdate(e),h.onComplete()})}return l.isSync?new GG(h):new hq(h)}},bq=["transition","transitionEnd"];function wq(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function _q(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:s}=t,l=a(t,bq);r&&(o=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const a in l){var h;const t=e.getValue(a,null!==(h=e.latestValues[a])&&void 0!==h?h:null),r=l[a];if(void 0===r||d&&wq(d,a))continue;const i=u({delay:n},kW(o||{},a)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!i.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=IW(e);if(t){const e=window.MotionHandoffAnimation(t,a,aV);null!==e&&(i.startTime=e,p=!0)}}DW(e,a),t.start(xq(a,t,r,e.shouldReduceMotion&&PB.has(a)?{type:!1}:i,e,p));const m=t.animation;m&&c.push(m)}return s&&Promise.all(c).then(()=>{aV.update(()=>{s&&function(e,t){let n=CW(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=a(n,RW);o=u(u({},o),r);for(const a in o)OW(e,a,LW(o[a]))}(e,s)})}),c}function Sq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return"function"===typeof n?n(a,o):1===i?a*r:s-a*r}function Eq(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=CW(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(_q(e,i,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:s}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(Eq(l,t,u(u({},o),{},{delay:n+("function"===typeof r?0:r)+Sq(e.variantChildren,l,r,i,a)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}(e,t,n,i,o,s,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[o,s]:[s,o];return e().then(()=>t())}return Promise.all([o(),s(r.delay)])}function Mq(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Nq=yH.length;function jq(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&jq(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Nq;n++){const r=yH[n],i=e.props[r];(gH(i)||!1===i)&&(t[r]=i)}return t}const Tq=["transition","transitionEnd"],Aq=[...vH].reverse(),Cq=vH.length;function kq(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Eq(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=Eq(e,t,r);else{const i="function"===typeof t?CW(e,t,r.custom):t;n=Promise.all(_q(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function Pq(e){let t=kq(e),n=Lq(),r=!0;const i=t=>(n,r)=>{var i;const o=CW(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=a(o,Tq);n=u(u(u({},n),r),t)}return n};function o(a){const{props:o}=e,s=jq(e.parent)||{},l=[],c=new Set;let d={},h=1/0;for(let t=0;t<Cq;t++){const p=Aq[t],m=n[p],f=void 0!==o[p]?o[p]:s[p],g=gH(f),v=p===a?m.isActive:null;!1===v&&(h=t);let y=f===s[p]&&f!==o[p]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),m.protectedKeys=u({},d),!m.isActive&&null===v||!f&&!m.prevProp||fH(f)||"boolean"===typeof f)continue;const x=Rq(m.prevProp,f);let b=x||p===a&&m.isActive&&!y&&g||t>h&&g,w=!1;const _=Array.isArray(f)?f:[f];let S=_.reduce(i(p),{});!1===v&&(S={});const{prevResolvedValues:E={}}=m,M=u(u({},E),S),N=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in M){const t=S[e],n=E[e];if(d.hasOwnProperty(e))continue;let r=!1;r=PW(t)&&PW(n)?!Mq(t,n):t!==n,r?void 0!==t&&null!==t?N(e):c.add(e):void 0!==t&&c.has(e)?N(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=S,m.isActive&&(d=u(u({},d),S)),r&&e.blockInitialAnimation&&(b=!1);const j=y&&x;b&&(!j||w)&&l.push(..._.map(t=>{const n={type:p};if("string"===typeof t&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=CW(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=Sq(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=CW(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=o(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Lq()}}}function Rq(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Mq(t,e)}function Oq(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lq(){return{animate:Oq(!0),whileInView:Oq(),whileHover:Oq(),whileTap:Oq(),whileDrag:Oq(),whileFocus:Oq(),exit:Oq()}}class Dq{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Iq=0;const Fq={animation:{Feature:class extends Dq{constructor(e){super(e),e.animationState||(e.animationState=Pq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fH(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Dq{constructor(){super(...arguments),this.id=Iq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Uq={x:!1,y:!1};function zq(){return Uq.x||Uq.y}function Bq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Vq=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Hq(e){return{point:{x:e.pageX,y:e.pageY}}}function Wq(e,t,n,r){return Bq(e,t,(e=>t=>Vq(t)&&e(t,Hq(t)))(n),r)}function Gq(e){return e.max-e.min}function qq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=gB(t.min,t.max,e.origin),e.scale=Gq(n)/Gq(t),e.translate=gB(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Kq(e,t,n,r){qq(e.x,t.x,n.x,r?r.originX:void 0),qq(e.y,t.y,n.y,r?r.originY:void 0)}function Xq(e,t,n){e.min=n.min+t.min,e.max=e.min+Gq(t)}function Yq(e,t,n){e.min=t.min-n.min,e.max=e.min+Gq(t)}function Jq(e,t,n){Yq(e.x,t.x,n.x),Yq(e.y,t.y,n.y)}function Zq(e){return[e("x"),e("y")]}const $q=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Qq=(e,t)=>Math.abs(e-t);class eK{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=rK(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Qq(e.x,t.x),r=Qq(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=sV;this.history.push(u(u({},r),{},{timestamp:i}));const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=tK(t,this.transformPagePoint),aV.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=rK("pointercancel"===e.type?this.lastMoveEventInfo:tK(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!Vq(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const o=tK(Hq(e),this.transformPagePoint),{point:s}=o,{timestamp:l}=sV;this.history=[u(u({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,rK(o,this.history)),this.removeListeners=zW(Wq(this.contextWindow,"pointermove",this.handlePointerMove),Wq(this.contextWindow,"pointerup",this.handlePointerUp),Wq(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oV(this.updatePoint)}}function tK(e,t){return t?{point:t(e.point)}:e}function nK(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rK(e,t){let{point:n}=e;return{point:n,delta:nK(n,aK(t)),offset:nK(n,iK(t)),velocity:oK(t,.1)}}function iK(e){return e[0]}function aK(e){return e[e.length-1]}function oK(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=aK(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>BW(t)));)n--;if(!r)return{x:0,y:0};const a=VW(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sK(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function lK(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const cK=.35;function uK(e,t,n){return{min:dK(e,t),max:dK(e,n)}}function dK(e,t){return"number"===typeof e?e:e[t]||0}const hK=new WeakMap;class pK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new eK(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hq(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Uq[a]?null:(Uq[a]=!0,()=>{Uq[a]=!1}):Uq.x||Uq.y?null:(Uq.x=Uq.y=!0,()=>{Uq.x=Uq.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zq(e=>{let t=this.getAxisMotionValue(e).get()||0;if(UB.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Gq(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&aV.postRender(()=>i(e,t)),DW(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Zq(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:$q(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&aV.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!mK(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?gB(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?gB(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&bW(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:a}=t;return{x:sK(e.x,r,a),y:sK(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cK;return!1===e?e=0:!0===e&&(e=cK),{x:uK(e,"left","right"),y:uK(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zq(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bW(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=kB(e,n),{scroll:i}=t;return i&&(TB(r.x,i.offset.x),TB(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:lK(e.x,t.x),y:lK(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=fB(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=Zq(o=>{if(!mK(o,t,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,h=u(u({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,h)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return DW(this.visualElement,e),n.start(xq(e,n,0,t,this.visualElement,!1))}stopAnimation(){Zq(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zq(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zq(t=>{const{drag:n}=this.getProps();if(!mK(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-gB(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!bW(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Zq(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Gq(e),i=Gq(t);return i>r?n=LG(t.min,t.max-r,e.min):r>i&&(n=LG(e.min,e.max-i,t.min)),RB(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zq(t=>{if(!mK(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(gB(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;hK.set(this.visualElement,this);const e=Wq(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();bW(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),aV.read(t);const i=Bq(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Zq(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=cK,dragMomentum:o=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}}function mK(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const fK=e=>(t,n)=>{e&&aV.postRender(()=>e(t,n))};function gK(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(dW);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=n,o=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return a(o)},[e]);const s=(0,t.useCallback)(()=>e&&i&&i(o),[o,i,e]);return!r&&i?[!1,s]:[!0]}const vK={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yK(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xK={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!zB.test(e))return e;e=parseFloat(e)}const n=yK(e,t.target.x),r=yK(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},bK={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,a=DV.parse(e);if(a.length>5)return i;const o=DV.createTransformer(e),s="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=l,a[1+s]/=c;const u=gB(l,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=u),"number"===typeof a[3+s]&&(a[3+s]/=u),o(a)}};let wK=!1;class _K extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)PH[t]=e[t],dB(t)&&(PH[t].isCSSVariable=!0)}(EK),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),wK&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(u(u({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),vK.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,wK=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||aV.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oH.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;wK=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SK(e){const[n,r]=gK(),i=(0,t.useContext)(XH);return(0,Nt.jsx)(_K,u(u({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(SW),isPresent:n,safeToRemove:r}))}const EK={borderRadius:u(u({},xK),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:xK,borderTopRightRadius:xK,borderBottomLeftRadius:xK,borderBottomRightRadius:xK,boxShadow:bK};function MK(e){return"object"===typeof e&&null!==e}function NK(e){return MK(e)&&"ownerSVGElement"in e}const jK=(e,t)=>e.depth-t.depth;class TK{constructor(){this.children=[],this.isDirty=!1}add(e){$V(this.children,e),this.isDirty=!0}remove(e){QV(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jK),this.isDirty=!1,this.children.forEach(e)}}function AK(e,t){const n=ZV.now(),r=i=>{let{timestamp:a}=i;const o=a-n;o>=t&&(oV(r),e(o-t))};return aV.setup(r,!0),()=>oV(r)}const CK=["TopLeft","TopRight","BottomLeft","BottomRight"],kK=CK.length,PK=e=>"string"===typeof e?parseFloat(e):e,RK=e=>"number"===typeof e||zB.test(e);function OK(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const LK=IK(0,.5,CG),DK=IK(.5,.95,eV);function IK(e,t,n){return r=>r<e?0:r>t?1:n(LG(e,t,r))}function FK(e,t){e.min=t.min,e.max=t.max}function UK(e,t){FK(e.x,t.x),FK(e.y,t.y)}function zK(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BK(e,t,n,r,i){return e=_B(e-=t,1/n,r),void 0!==i&&(e=_B(e,1/i,r)),e}function VK(e,t,n,r,i){let[a,o,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;UB.test(t)&&(t=parseFloat(t),t=gB(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let s=gB(a.min,a.max,r);e===a&&(s-=t),e.min=BK(e.min,t,n,s,i),e.max=BK(e.max,t,n,s,i)}(e,t[a],t[o],t[s],t.scale,r,i)}const HK=["x","scaleX","originX"],WK=["y","scaleY","originY"];function GK(e,t,n,r){VK(e.x,t,HK,n?n.x:void 0,r?r.x:void 0),VK(e.y,t,WK,n?n.y:void 0,r?r.y:void 0)}function qK(e){return 0===e.translate&&1===e.scale}function KK(e){return qK(e.x)&&qK(e.y)}function XK(e,t){return e.min===t.min&&e.max===t.max}function YK(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JK(e,t){return YK(e.x,t.x)&&YK(e.y,t.y)}function ZK(e){return Gq(e.x)/Gq(e.y)}function $K(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QK{constructor(){this.members=[]}add(e){$V(this.members,e),e.scheduleRender()}remove(e){if(QV(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const eX={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},tX=["","X","Y","Z"];let nX=0;function rX(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function iX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=IW(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",aV,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&iX(r)}function aX(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=nX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rV.value&&(eX.nodes=eX.calculatedTargetDeltas=eX.calculatedProjections=0),this.nodes.forEach(lX),this.nodes.forEach(fX),this.nodes.forEach(gX),this.nodes.forEach(cX),rV.addProjectionMetrics&&rV.addProjectionMetrics(eX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new TK)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new eH),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=NK(e)&&!(NK(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;aV.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=AK(i,250),vK.hasAnimatedSinceResize&&(vK.hasAnimatedSinceResize=!1,this.nodes.forEach(mX)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||_X,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!JK(this.targetLayout,i),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},kW(o,"layout")),{},{onPlay:s,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||mX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oV(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vX),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(dX);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(hX);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pX),this.nodes.forEach(oX),this.nodes.forEach(sX)):this.nodes.forEach(hX),this.clearAllSnapshots();const e=ZV.now();sV.delta=RB(0,1e3/60,e-sV.timestamp),sV.timestamp=e,sV.isProcessing=!0,lV.update.process(sV),lV.preRender.process(sV),lV.render.process(sV),sV.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oH.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uX),this.sharedNodes.forEach(yX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aV.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aV.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Gq(this.snapshot.measuredBox.x)||Gq(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!KK(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||xB(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),MX((r=n).x),MX(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(jX))){const{scroll:e}=this.root;e&&(TB(n.x,e.offset.x),TB(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(UK(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&UK(n,e),TB(n.x,i.offset.x),TB(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};UK(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&CB(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),xB(e.latestValues)&&CB(n,e.latestValues)}return xB(this.latestValues)&&CB(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};UK(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!xB(e.latestValues))continue;yB(e.latestValues)&&e.updateSnapshot();const r=uH();UK(r,e.measurePageBox()),GK(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return xB(this.latestValues)&&GK(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sV.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=sV.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jq(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),UK(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,Xq(o.x,s.x,l.x),Xq(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):UK(this.target,this.layout.layoutBox),MB(this.target,this.targetDelta)):UK(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Jq(this.relativeTargetOrigin,this.target,e.target),UK(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rV.value&&eX.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!yB(this.parent.latestValues)&&!bB(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===sV.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;UK(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&CB(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,MB(e,o)),r&&xB(a.latestValues)&&CB(e,a.latestValues))}t.x<jB&&t.x>NB&&(t.x=1),t.y<jB&&t.y>NB&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(zK(this.prevProjectionDelta.x,this.projectionDelta.x),zK(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Kq(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&$K(this.projectionDelta.x,this.prevProjectionDelta.x)&&$K(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),rV.value&&eX.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=u({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(wX));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;xX(a.x,e.x,n),xX(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jq(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){bX(e.x,t.x,n.x,r),bX(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return XK(e.x,t.x)&&XK(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),UK(h,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){var o,s;if(i)e.opacity=gB(0,null!==(o=n.opacity)&&void 0!==o?o:1,LK(r)),e.opacityExit=gB(null!==(s=t.opacity)&&void 0!==s?s:1,0,DK(r));else if(a){var l,c;e.opacity=gB(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<kK;u++){const i="border".concat(CK[u],"Radius");let a=OK(t,i),o=OK(n,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||RK(a)===RK(o)?(e[i]=Math.max(gB(PK(a),PK(o),r),0),(UB.test(o)||UB.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=gB(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(oV(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aV.update(()=>{vK.hasAnimatedSinceResize=!0,HW.layout++,this.motionValue||(this.motionValue=iH(0)),this.currentAnimation=function(e,t,n){const r=XV(e)?e:iH(e);return r.start(xq("",r,t,n)),r.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{HW.layout--},onComplete:()=>{HW.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&NX(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Gq(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Gq(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}UK(t,n),CB(t,i),Kq(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new QK);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&rX("z",e,r,this.animationValues);for(let i=0;i<tX.length;i++)rX("rotate".concat(tX[i]),e,r,this.animationValues),rX("skew".concat(tX[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=pW(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=pW(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!xB(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||a||o)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;const{x:o,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in PH){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:o}=PH[u],s="none"===a?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else o?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=r===this?pW(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(dX),this.root.sharedNodes.clear()}}}function oX(e){e.updateLayout()}function sX(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?Zq(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=Gq(r);r.min=t[e].min,r.max=r.min+i}):NX(i,n.layoutBox,t)&&Zq(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],o=Gq(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Kq(o,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Kq(s,e.applyTransform(r,!0),n.measuredBox):Kq(s,t,n.layoutBox);const l=!KK(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};Jq(o,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Jq(s,t,a.layoutBox),JK(o,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function lX(e){rV.value&&eX.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cX(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uX(e){e.clearSnapshot()}function dX(e){e.clearMeasurements()}function hX(e){e.isLayoutDirty=!1}function pX(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mX(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fX(e){e.resolveTargetDelta()}function gX(e){e.calcProjection()}function vX(e){e.resetSkewAndRotation()}function yX(e){e.removeLeadSnapshot()}function xX(e,t,n){e.translate=gB(t.translate,0,n),e.scale=gB(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bX(e,t,n,r){e.min=gB(t.min,n.min,r),e.max=gB(t.max,n.max,r)}function wX(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const _X={duration:.45,ease:[.4,0,.1,1]},SX=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),EX=SX("applewebkit/")&&!SX("chrome/")?Math.round:eV;function MX(e){e.min=EX(e.min),e.max=EX(e.max)}function NX(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(ZK(t),ZK(n),.2)}function jX(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const TX=aX({attachResizeListener:(e,t)=>Bq(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AX={current:void 0},CX=aX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AX.current){const e=new TX({});e.mount(window),e.setOptions({layoutScroll:!0}),AX.current=e}return AX.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),kX={pan:{Feature:class extends Dq{constructor(){super(...arguments),this.removePointerDownListener=eV}onPointerDown(e){this.session=new eK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$q(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:fK(e),onStart:fK(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&aV.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Wq(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Dq{constructor(e){super(e),this.removeGroupControls=eV,this.removeListeners=eV,this.controls=new pK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eV}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:CX,MeasureLayout:SK}};function PX(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const a=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function RX(e){return!("touch"===e.pointerType||zq())}function OX(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&aV.postRender(()=>i(t,Hq(t)))}function LX(e){return MK(e)&&"offsetHeight"in e}const DX=(e,t)=>!!t&&(e===t||DX(e,t.parentElement)),IX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const FX=new WeakSet;function UX(e){return t=>{"Enter"===t.key&&e(t)}}function zX(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function BX(e){return Vq(e)&&!zq()}function VX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=PX(e,n),o=e=>{const r=e.currentTarget;if(!BX(e))return;FX.add(r);const a=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),FX.has(r)&&FX.delete(r),BX(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||DX(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),LX(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=UX(()=>{if(FX.has(n))return;zX(n,"down");const e=UX(()=>{zX(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>zX(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,IX.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function HX(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&aV.postRender(()=>i(t,Hq(t)))}const WX=["root"],GX=new WeakMap,qX=new WeakMap,KX=e=>{const t=GX.get(e.target);t&&t(e)},XX=e=>{e.forEach(KX)};function YX(e,t,n){const r=function(e){let{root:t}=e,n=a(e,WX);const r=t||document;qX.has(r)||qX.set(r,{});const i=qX.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(XX,u({root:t},n))),i[o]}(t);return GX.set(e,n),r.observe(e),()=>{GX.delete(e),r.unobserve(e)}}const JX={some:0,all:1};const ZX={inView:{Feature:class extends Dq{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:JX[r]};return YX(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Dq{mount(){const{current:e}=this.node;e&&(this.unmount=VX(e,(e,t)=>(HX(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return HX(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Dq{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(yY){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zW(Bq(this.node.current,"focus",()=>this.onFocus()),Bq(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Dq{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=PX(e,n),o=e=>{if(!RX(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{RX(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),a}(e,(e,t)=>(OX(this.node,t,"Start"),e=>OX(this.node,e,"End"))))}unmount(){}}}},$X={layout:{ProjectionNode:CX,MeasureLayout:SK}},QX=AW(u(u(u(u({},Fq),ZX),kX),$X),KH);function eY(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function tY(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=eY(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():eY(t[e],null)}}}}(...n),n)}class nY extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=LX(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rY(e){let{children:n,isPresent:r,anchorX:i,root:a}=e;const o=(0,t.useId)(),s=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(JH),u=tY(s,null===n||void 0===n?void 0:n.ref);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!s.current||!e||!t)return;const h="left"===i?"left: ".concat(u):"right: ".concat(d);s.current.dataset.motionPopId=o;const p=document.createElement("style");c&&(p.nonce=c);const m=null!==a&&void 0!==a?a:document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{m.contains(p)&&m.removeChild(p)}},[r]),(0,Nt.jsx)(nY,{isPresent:r,childRef:s,sizeRef:l,children:t.cloneElement(n,{ref:u})})}const iY=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:s,mode:l,anchorX:c,root:d}=e;const h=hW(aY),p=(0,t.useId)();let m=!0,f=(0,t.useMemo)(()=>(m=!1,{id:p,initial:r,isPresent:i,custom:o,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,a]);return s&&m&&(f=u({},f)),(0,t.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),t.useEffect(()=>{!i&&!h.size&&a&&a()},[i]),"popLayout"===l&&(n=(0,Nt.jsx)(rY,{isPresent:i,anchorX:c,root:d,children:n})),(0,Nt.jsx)(dW.Provider,{value:f,children:n})};function aY(){return new Map}const oY=e=>e.key||"";function sY(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const lY=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=gK(l),p=(0,t.useMemo)(()=>sY(n),[n]),m=l&&!d?[]:p.map(oY),f=(0,t.useRef)(!0),g=(0,t.useRef)(p),v=hW(()=>new Map),[y,x]=(0,t.useState)(p),[b,w]=(0,t.useState)(p);EW(()=>{f.current=!1,g.current=p;for(let e=0;e<b.length;e++){const t=oY(b[e]);m.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[b,m.length,m.join("-")]);const _=[];if(p!==y){let e=[...p];for(let t=0;t<b.length;t++){const n=b[t],r=oY(n);m.includes(r)||(e.splice(t,0,n),_.push(n))}return"wait"===s&&_.length&&(e=_),w(sY(e)),x(p),null}const{forceRender:S}=(0,t.useContext)(XH);return(0,Nt.jsx)(Nt.Fragment,{children:b.map(e=>{const t=oY(e),n=!(l&&!d)&&(p===b||m.includes(t));return(0,Nt.jsx)(iY,{isPresent:n,initial:!(f.current&&!i)&&void 0,custom:r,presenceAffectsLayout:o,mode:s,root:u,onExitComplete:n?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null===S||void 0===S||S(),w(g.current),l&&(null===h||void 0===h||h()),a&&a())},anchorX:c,children:e},t)})})},cY=()=>{const e=fe(),{user:n}=Pt(),[r,i]=(0,t.useState)(0),[a,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!0),p=[{id:"client-interview",title:"Client Counseling",description:"Meet Rajesh Kumar in custody and gather his version of events",icon:"\ud83d\udc64",time:"10-15 min",skills:["Active Listening","Rapport Building","Fact Gathering"]},{id:"digital-evidence",title:"Digital Evidence Review",description:"Review digital evidence, documents, and case files",icon:"\ud83d\udcbb",time:"8-12 min",skills:["Evidence Analysis","Document Review","Case Preparation"]},{id:"bail-draft",title:"Bail Application Draft",description:"Prepare written bail application citing relevant precedents",icon:"\ud83d\udcdd",time:"5-8 min",skills:["Legal Writing","Precedent Citation","Argumentation"]},{id:"court-hearing",title:"Court Hearing",description:"Present oral arguments before the magistrate",icon:"\u2696\ufe0f",time:"12-18 min",skills:["Oral Advocacy","Quick Thinking","Professional Conduct"]},{id:"assessment",title:"Legal Competency Assessment",description:"Complete assessment to evaluate your legal knowledge and skills",icon:"\ud83c\udf93",time:"45 min",skills:["Legal Knowledge","Case Analysis","Ethical Judgment","Argument Quality"]}],m=[{title:"Welcome to the Legal Simulation",description:"You are now entering the virtual courtroom to represent Rajesh Kumar in his bail application.",icon:"\ud83c\udfdb\ufe0f"},{title:"Client Counseling",description:"Prepare to counsel your client, analyze evidence, and present your case.",icon:"\ud83d\udc64"},{title:"Digital Evidence Review",description:"Review digital evidence, documents, and case files.",icon:"\ud83d\udcbb"},{title:"Bail Application Draft",description:"Prepare written bail application citing relevant precedents.",icon:"\ud83d\udcdd"},{title:"Court Hearing",description:"Present oral arguments before the magistrate.",icon:"\u2696\ufe0f"},{title:"Legal Competency Assessment",description:"Complete assessment to evaluate your legal knowledge and skills.",icon:"\ud83c\udf93"}];(0,t.useEffect)(()=>{let e=!0;return(async()=>{if(n)try{h(!0);const t=await fn("the-inventory-that-changed-everything");e&&t&&o(t)}catch(t){if(e){console.error("Error fetching progress:",t);const e=localStorage.getItem("scenario-progress-the-inventory-that-changed-everything");e&&o(JSON.parse(e))}}finally{e&&h(!1)}else{const t=localStorage.getItem("scenario-progress-the-inventory-that-changed-everything");e&&t&&o(JSON.parse(t)),e&&h(!1)}})(),()=>{e=!1}},[]),(0,t.useEffect)(()=>{if(c)return void l(!0);const e=setTimeout(()=>{r<m.length-1?i(e=>e+1):c&&setTimeout(()=>{l(!0)},1e3)},2500);return()=>clearTimeout(e)},[r,c]);const f=t=>{switch(t){case"client-interview":default:e("/client-interview");break;case"digital-evidence":e("/digital-evidence");break;case"bail-draft":e("/bail-draft");break;case"court-hearing":e("/courtroom");break;case"assessment":e("/legal-assessment")}};if(s&&a){const t=a.completedStages||[],n=a.currentStage||"client-interview";return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,Nt.jsxs)(QX.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:(0,Nt.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-amber-300 to-orange-500",children:"DHARMASIKHARA"})}),(0,Nt.jsx)("p",{className:"text-xl text-indigo-200 mb-2",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-amber-400 to-orange-500 mx-auto rounded-full"})]}),(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white border-opacity-20",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Simulation Stages"}),(0,Nt.jsx)("p",{className:"text-indigo-200",children:"Continue from where you left off or access completed stages"})]}),(0,Nt.jsx)("div",{className:"space-y-6",children:p.map((e,r)=>{const i="assessment"===e.id?a&&a.completedStages?a.completedStages.includes("assessment"):!!localStorage.getItem("assessment_total_score"):t.includes(e.id),o=n===e.id,s=0===r||t.includes(p[r-1].id);return(0,Nt.jsxs)(QX.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"p-6 rounded-2xl border-2 transition-all duration-300 ".concat(o?"border-amber-400 bg-amber-900 bg-opacity-30":i?"border-green-500 bg-green-900 bg-opacity-20":s?"border-indigo-500 bg-indigo-900 bg-opacity-20":"border-gray-600 bg-gray-800 bg-opacity-30"),children:[(0,Nt.jsxs)("div",{className:"flex items-start",children:[(0,Nt.jsx)("div",{className:"text-4xl mr-4",children:e.icon}),(0,Nt.jsxs)("div",{className:"flex-1 text-left",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-xl font-bold text-white",children:e.title}),(0,Nt.jsx)("p",{className:"text-indigo-200 mt-1",children:e.description})]}),i&&(0,Nt.jsx)("span",{className:"px-3 py-1 bg-green-500 text-white text-sm rounded-full flex items-center",children:"\u2713 Completed"}),o&&(0,Nt.jsx)("span",{className:"px-3 py-1 bg-amber-500 text-white text-sm rounded-full flex items-center",children:"Active"})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,Nt.jsx)("span",{className:"px-2 py-1 bg-blue-900 text-blue-300 text-xs rounded",children:e.time}),e.skills.map(e=>(0,Nt.jsx)("span",{className:"px-2 py-1 bg-purple-900 text-purple-300 text-xs rounded",children:e},e))]})]})]}),(0,Nt.jsx)("div",{className:"mt-4 flex justify-end",children:i||o?(0,Nt.jsx)("button",{onClick:()=>f(e.id),className:"px-6 py-2 rounded-full font-semibold transition-all ".concat(o?"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:from-amber-600 hover:to-orange-700":"bg-green-600 text-white hover:bg-green-700"),children:o?"Continue":"Review"}):s?(0,Nt.jsx)("button",{onClick:()=>f(e.id),className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all",children:"Start Stage"}):(0,Nt.jsx)("button",{disabled:!0,className:"px-6 py-2 bg-gray-600 text-gray-400 rounded-full font-semibold cursor-not-allowed",children:"Unlocks in sequence"})})]},e.id)})}),(0,Nt.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-700 flex justify-center gap-4",children:[(0,Nt.jsx)("button",{onClick:()=>{l(!1),u(!1),i(0)},className:"px-6 py-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors flex items-center",children:"\u2190 Back to Animation"}),(0,Nt.jsx)("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors flex items-center",children:"\u2190 Home"})]})]})]})})}return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:(0,Nt.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,Nt.jsxs)(QX.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[(0,Nt.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:(0,Nt.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-amber-300 to-orange-500",children:"DHARMASIKHARA"})}),(0,Nt.jsx)("p",{className:"text-xl text-indigo-200 mb-2",children:"\u0927\u0930\u094d\u092e\u0936\u093f\u0916\u0930"}),(0,Nt.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-amber-400 to-orange-500 mx-auto rounded-full"})]}),(0,Nt.jsx)("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white border-opacity-20",children:(0,Nt.jsxs)("div",{className:"text-center mb-10",children:[(0,Nt.jsx)(lY,{mode:"wait",children:(0,Nt.jsxs)(QX.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"mb-8",children:[(0,Nt.jsx)("div",{className:"text-7xl mb-6",children:m[r].icon}),(0,Nt.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:m[r].title}),(0,Nt.jsx)("p",{className:"text-xl text-indigo-200 max-w-2xl mx-auto",children:m[r].description})]},r)}),(0,Nt.jsx)("div",{className:"flex justify-center space-x-2 mb-10",children:m.map((e,t)=>(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(t===r?"bg-amber-400 w-8":t<r?"bg-green-500":"bg-white bg-opacity-30")},t))}),r===m.length-1&&(0,Nt.jsxs)(QX.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.5},className:"space-y-6",children:[(0,Nt.jsx)("p",{className:"text-lg text-amber-200",children:"You've completed the introduction to the legal simulation. Continue to the client interview to begin your journey, or pick up where you left off if you've made progress already."}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-8",children:[(0,Nt.jsxs)("button",{onClick:()=>{e("/client-interview")},className:"px-8 py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-full shadow-lg hover:from-amber-600 hover:to-orange-700 transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\ud83c\udfad"})," Start Client Counseling"]}),a&&(0,Nt.jsxs)("button",{onClick:()=>{l(!0),u(!0)},className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-full shadow-lg hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\ud83d\udcca"})," Continue Progress"]}),(0,Nt.jsxs)("button",{onClick:()=>{i(0),l(!1),u(!1)},className:"px-8 py-4 bg-white bg-opacity-20 text-white font-bold rounded-full shadow-lg hover:bg-opacity-30 transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:[(0,Nt.jsx)("span",{className:"mr-2",children:"\ud83d\udd04"})," Refresh Page"]})]})]}),r<m.length-1&&(0,Nt.jsxs)("div",{className:"mt-8",children:[(0,Nt.jsx)("div",{className:"w-12 h-12 border-4 border-t-amber-400 border-r-amber-400 border-b-transparent border-l-transparent rounded-full animate-spin mx-auto"}),(0,Nt.jsx)("p",{className:"text-indigo-200 mt-4",children:"Loading simulation..."})]})]})}),(0,Nt.jsx)(QX.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"text-center mt-8 text-indigo-300",children:(0,Nt.jsx)("p",{children:"Experience the pinnacle of legal practice through immersive simulation"})})]})})},uY=zt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),dY=zt("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),hY=()=>{const e=fe(),[n,r]=(0,t.useState)(0),[i,a]=(0,t.useState)(0),[o,s]=(0,t.useState)({}),[l,c]=(0,t.useState)(0),[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)({}),v=[{id:"legal-knowledge",title:"Legal Knowledge & Procedure",description:"Test your understanding of criminal law procedures and bail applications",timeLimit:15,weight:20,questions:[{id:"q1",text:"According to Section 480 of BNSS, which of the following is NOT a valid ground for granting bail in a theft case?",type:"single-select",options:["The accused is unlikely to commit another offense while on bail","The accused has a permanent residence and strong community ties","The accused has no prior criminal record","The complainant has agreed to withdraw the case"],correctAnswers:[3],score:5},{id:"q2",text:"In the scenario, the prosecution relied heavily on CCTV footage. Which evidentiary principle should you invoke to challenge video evidence?",type:"single-select",options:["Best Evidence Rule","Chain of Custody Requirements","Hearsay Exclusion","Both A and B"],correctAnswers:[3],score:5},{id:"q3",text:"Which of the following is a mandatory consideration for a magistrate when deciding a bail application under Section 480 BNSS?",type:"single-select",options:["The accused's financial status","The nature and gravity of the accusation","The accused's political connections","The complainant's social standing"],correctAnswers:[1],score:5},{id:"q24",text:"Under the new BNS, which section deals with causing death by negligence?",type:"single-select",options:["Section 106","Section 107","Section 108","Section 109"],correctAnswers:[1],score:5},{id:"q25",text:"Which of the following is a key feature of the Bharatiya Sakshya Adhiniyam regarding electronic evidence?",type:"single-select",options:["Electronic evidence is inadmissible in court","Special provisions for digital and electronic evidence","Electronic evidence requires special verification","All electronic evidence is automatically admissible"],correctAnswers:[1],score:5}]},{id:"case-analysis",title:"Case Analysis & Reasoning",description:"Evaluate your ability to analyze evidence and identify inconsistencies",timeLimit:20,weight:30,questions:[{id:"q4",text:"Review this excerpt from your witness interview with the security guard: \"I saw someone matching the accused's height leaving the office around 7 PM. The lights were dim, and I was about 30 feet away. I'm 70% sure it was him.\" Which THREE factors undermine the reliability of this identification?",type:"multi-select",options:["Distance from the subject","Poor lighting conditions","Witness's expressed uncertainty (70% confidence)","The witness was off-duty at the time","Time of day (evening)","Witness has a financial interest in the case"],correctAnswers:[0,1,2],score:10},{id:"q5",text:"Which of the following pieces of evidence would be MOST damaging to the prosecution's case if successfully challenged?",type:"single-select",options:["The complainant's testimony","The CCTV footage showing someone resembling the accused","The security guard's identification","The recovered laptop with the accused's fingerprints"],correctAnswers:[3],score:10},{id:"q26",text:"In the context of the new BNSS, what is the maximum period for filing a chargesheet for summons cases?",type:"single-select",options:["30 days","60 days","90 days","120 days"],correctAnswers:[1],score:10},{id:"q27",text:"Which of the following offenses was newly added in the Bharatiya Nyaya Sanhita (BNS) compared to IPC?",type:"single-select",options:["Murder","Theft","Organized crime","Robbery"],correctAnswers:[2],score:10}]},{id:"ethical-judgment",title:"Ethical Judgment",description:"Assess your ethical decision-making in challenging legal situations",timeLimit:15,weight:25,questions:[{id:"q6",text:'During case preparation, your client mentions: "I know who actually took the laptop, but revealing it would get my colleague fired. Can we just blame the poor CCTV quality?" Rank these responses from MOST to LEAST appropriate:',type:"text",score:10},{id:"q7",text:"You discover that the complainant has a history of making false accusations. What is the most appropriate course of action?",type:"single-select",options:["Immediately inform the court about the complainant's history","Use this information to discredit the complainant during cross-examination","Ignore this information as it is not directly relevant to the current case","Confront the complainant privately to encourage withdrawal of the case"],correctAnswers:[1],score:10},{id:"q28",text:"Under the new BNS, what is the punishment for organized crime?",type:"single-select",options:["Maximum 5 years imprisonment","Maximum 10 years imprisonment","Maximum 14 years imprisonment","Maximum 20 years imprisonment"],correctAnswers:[2],score:10},{id:"q29",text:"Which of the following is a key principle of the new criminal laws (BNS, BNSS, BSA) regarding gender neutrality?",type:"single-select",options:["Only men can be accused of sexual offenses","Laws now apply equally to all genders","Only women are protected under new laws","Gender-specific provisions have been removed"],correctAnswers:[1],score:10}]},{id:"argument-quality",title:"Argument Quality Review",description:"Evaluate your ability to construct and critique legal arguments",timeLimit:15,weight:25,questions:[{id:"q8",text:'Read this bail argument excerpt: "Your Honor, my client is innocent. The CCTV footage is unclear, and the police investigation was rushed. Many people have access to that room. Bail should be granted because the evidence is weak." Identify THREE specific weaknesses and rewrite the argument to address them.',type:"text",score:10},{id:"q9",text:"Which of the following is the strongest argument for granting bail in this case?",type:"single-select",options:["The accused has a stable job and family ties in the community","The accused has never been convicted of a crime before","The accused has a permanent address and is unlikely to flee","All of the above are strong arguments"],correctAnswers:[3],score:10},{id:"q10",text:"What is the primary purpose of a bail hearing?",type:"single-select",options:["To determine the guilt or innocence of the accused","To ensure the accused appears for trial and does not pose a threat to society","To punish the accused for the alleged crime","To provide an opportunity for the complainant to present evidence"],correctAnswers:[1],score:5},{id:"q11",text:"Which of the following laws replaced the Indian Penal Code (IPC) in 2024?",type:"single-select",options:["Bharatiya Sakshya Adhiniyam (BSA)","Bharatiya Nagarik Suraksha Sanhita (BNSS)","Bharatiya Nyaya Sanhita (BNS)","Bharatiya Adalat Adhiniyam (BAA)"],correctAnswers:[2],score:5},{id:"q12",text:"Under the new BNS, theft by snatching is classified as:",type:"single-select",options:["A separate offense from regular theft","The same as regular theft","A bailable offense regardless of value","Not an offense under BNS"],correctAnswers:[0],score:5},{id:"q13",text:"Which section of BNSS replaced Section 437 of CrPC for bail provisions?",type:"single-select",options:["Section 475","Section 480","Section 485","Section 490"],correctAnswers:[1],score:5},{id:"q14",text:"Under BNS, which of the following offenses was removed compared to IPC?",type:"single-select",options:["Theft","Adultery","Murder","Robbery"],correctAnswers:[1],score:5},{id:"q15",text:"Which law replaced the Indian Evidence Act in 2024?",type:"single-select",options:["Bharatiya Nyaya Sanhita","Bharatiya Nagarik Suraksha Sanhita","Bharatiya Sakshya Adhiniyam","Bharatiya Adalat Adhiniyam"],correctAnswers:[2],score:5},{id:"q16",text:"Under BNSS, what special consideration is given for bail applications?",type:"single-select",options:["Special consideration for government employees","Special consideration for women, children, and disabled persons","Special consideration for first-time offenders only","No special considerations"],correctAnswers:[1],score:5},{id:"q17",text:"In the new BNS, theft is covered under which section?",type:"single-select",options:["Section 303(1)","Section 379","Section 380","Section 305"],correctAnswers:[0],score:5},{id:"q18",text:"What is a key difference between CrPC and BNSS regarding bail for first-time offenders?",type:"single-select",options:["BNSS allows release after one-third of maximum period","BNSS requires stricter conditions","BNSS eliminates bail for first-time offenders","No difference in provisions"],correctAnswers:[0],score:5},{id:"q19",text:"Which of the following is NOT a principle underlying the new criminal laws (BNS, BNSS, BSA)?",type:"single-select",options:["Decolonization of legal framework","Citizen-centric approach","Retention of colonial terminology","Modernization of legal procedures"],correctAnswers:[2],score:5},{id:"q20",text:"Under the new BNSS, when did the bail provisions come into effect?",type:"single-select",options:["January 1, 2024","July 1, 2024","October 2, 2024","January 26, 2024"],correctAnswers:[1],score:5},{id:"q21",text:"Which of the following is a key feature of the Bharatiya Sakshya Adhiniyam (BSA) regarding digital evidence?",type:"single-select",options:["Excludes digital evidence from court proceedings","Provides specific provisions for electronic evidence","Treats digital evidence the same as physical evidence without distinction","Requires all digital evidence to be verified by government agencies"],correctAnswers:[1],score:5},{id:"q22",text:"In the Rajesh Kumar case, what would be the appropriate charge under the new BNS?",type:"single-select",options:["Section 303(1) - Theft","Section 379 - Theft (same as IPC)","Section 380 - Theft in dwelling house","Section 420 - Cheating"],correctAnswers:[0],score:5},{id:"q23",text:"Under BNSS, what is the maximum period for which an undertrial can be detained without trial before being eligible for default bail?",type:"single-select",options:["60 days for summary trials, 90 days for sessions trials","One-half of the maximum period of imprisonment for the offense","Two-thirds of the maximum period of imprisonment for the offense","There is no provision for default bail in BNSS"],correctAnswers:[1],score:5},{id:"q30",text:"Which of the following is a key change in the definition of theft under BNS compared to IPC?",type:"single-select",options:["The value threshold for theft has been increased","The definition now includes theft by snatching as a separate offense","The punishment for theft has been reduced","The definition of theft has been removed"],correctAnswers:[1],score:5},{id:"q31",text:"Under the new BNSS, what is the time limit for completing investigation in warrant cases?",type:"single-select",options:["30 days","60 days","90 days","120 days"],correctAnswers:[2],score:5},{id:"q32",text:"Which of the following is a key feature of the new criminal laws regarding decolonization?",type:"single-select",options:["Retention of British legal terminology","Use of Indian languages in legal proceedings","Removal of colonial nomenclature and terminology","Mandatory use of English in all proceedings"],correctAnswers:[2],score:5},{id:"q33",text:"What is the maximum punishment for the offense of organized crime under BNS?",type:"single-select",options:["5 years","10 years","14 years","Life imprisonment"],correctAnswers:[2],score:5}]}];(0,t.useEffect)(()=>{if(l>0&&!d){const e=setTimeout(()=>{c(l-1)},1e3);return()=>clearTimeout(e)}0!==l||d||x()},[l,d]),(0,t.useEffect)(()=>{d||c(60*v[n].timeLimit)},[n,d]);const y=(e,t)=>{const r=v[n].questions.find(t=>t.id===e);if(r)if("single-select"===r.type)g(u(u({},f),{},{[e]:[t]}));else if("multi-select"===r.type){const n=f[e]||[];n.includes(t)?g(u(u({},f),{},{[e]:n.filter(e=>e!==t)})):g(u(u({},f),{},{[e]:[...n,t]}))}},x=()=>{const e=v[n],t=e.questions.length;i<t-1?(a(i+1),c(60*e.timeLimit)):n<v.length-1?(r(n+1),a(0)):b()},b=()=>{let e=0,t=0;const n={};v.forEach(r=>{let i=0,a=0;r.questions.forEach(n=>{a+=n.score,t+=n.score;const r=o[n.id]||f[n.id]||[];let s=!1;"single-select"===n.type&&n.correctAnswers?s=n.correctAnswers.includes(r[0]):"multi-select"===n.type&&n.correctAnswers?s=JSON.stringify([...r].sort())===JSON.stringify([...n.correctAnswers].sort()):"text"===n.type&&(s=r.length>0),s&&(i+=n.score,e+=n.score)}),n[r.id]={score:i,max:a}});const r=Math.round(e/t*100);let i="",a="";r>=90?(i="Exemplary Advocate",a="text-yellow-400"):r>=80?(i="Proficient Advocate",a="text-green-400"):r>=70?(i="Competent Advocate",a="text-blue-400"):r>=60?(i="Developing Advocate",a="text-amber-400"):(i="Needs Improvement",a="text-red-400");m({totalScore:e,maxScore:t,percentage:r,performanceTier:i,tierColor:a,sectionScores:n}),h(!0),localStorage.setItem("assessment_total_score","".concat(r,"%")),localStorage.setItem("assessment_performance_tier",i);const s={completedStages:["bail-hearing","court-hearing","legal-assessment"],currentStage:"completed",lastUpdated:(new Date).toISOString(),totalTimeSpent:0,assessmentScore:r};mn("the-inventory-that-changed-everything",s).then(()=>{console.log("Assessment progress saved successfully")}).catch(e=>{console.error("Failed to save assessment progress:",e)})},w=()=>{r(0),a(0),s({}),g({}),h(!1),m(null),c(60*v[0].timeLimit)};if(d&&p)return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 p-4",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsxs)(QX.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Assessment Complete!"}),(0,Nt.jsx)("p",{className:"text-xl text-indigo-200",children:"Legal Competency Evaluation Results"})]}),(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white border-opacity-20 mb-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("div",{className:"inline-block p-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full mb-6",children:(0,Nt.jsx)($t,{className:"w-16 h-16 text-white"})}),(0,Nt.jsxs)("h2",{className:"text-5xl font-bold text-white mb-2",children:[p.percentage,"%"]}),(0,Nt.jsx)("p",{className:"text-2xl font-semibold ".concat(p.tierColor," mb-2"),children:p.performanceTier}),(0,Nt.jsxs)("p",{className:"text-indigo-200",children:["You scored ",p.totalScore," out of ",p.maxScore," points"]})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:v.map((e,t)=>{const n=p.sectionScores[e.id],r=Math.round(n.score/n.max*100);let i="",a=null;return r>=80?(i="text-green-400",a=(0,Nt.jsx)(vk,{className:"w-5 h-5 text-green-400"})):r>=70?(i="text-blue-400",a=(0,Nt.jsx)(vk,{className:"w-5 h-5 text-blue-400"})):(i="text-red-400",a=(0,Nt.jsx)(uY,{className:"w-5 h-5 text-red-400"})),(0,Nt.jsxs)(QX.div,{initial:{opacity:0,x:t%2===0?-20:20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"bg-white bg-opacity-5 rounded-2xl p-6 border border-white border-opacity-10",children:[(0,Nt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Nt.jsx)("h3",{className:"font-bold text-white",children:e.title}),a]}),(0,Nt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Nt.jsxs)("span",{className:"text-2xl font-bold text-white",children:[r,"%"]}),(0,Nt.jsxs)("span",{className:"font-semibold ".concat(i),children:[n.score,"/",n.max]})]}),(0,Nt.jsx)("div",{className:"mt-3 w-full bg-gray-700 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:"".concat(r,"%")}})})]},e.id)})}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,Nt.jsxs)("button",{onClick:()=>e("/dashboard"),className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-full shadow-lg hover:from-indigo-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:[(0,Nt.jsx)(WC,{className:"w-5 h-5 mr-2"}),"View Performance Dashboard"]}),(0,Nt.jsxs)("button",{onClick:w,className:"px-8 py-4 bg-white bg-opacity-20 text-white font-bold rounded-full shadow-lg hover:bg-opacity-30 transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:[(0,Nt.jsx)(dY,{className:"w-5 h-5 mr-2"}),"Retake Assessment"]})]})]})]})});const _=v[n],S=_.questions[i];return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 p-4",children:(0,Nt.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white border-opacity-20",children:[(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 pb-6 border-b border-white border-opacity-20",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Legal Competency Assessment"}),(0,Nt.jsx)("p",{className:"text-indigo-200",children:_.title})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[n+1,"/",v.length]}),(0,Nt.jsx)("div",{className:"text-sm text-indigo-200",children:"Section"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsxs)("div",{className:"text-2xl font-bold text-white",children:[i+1,"/",_.questions.length]}),(0,Nt.jsx)("div",{className:"text-sm text-indigo-200",children:"Question"})]}),(0,Nt.jsxs)("div",{className:"text-center bg-amber-500 bg-opacity-20 px-4 py-2 rounded-lg",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-amber-300",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(l)}),(0,Nt.jsx)("div",{className:"text-sm text-amber-200",children:"Time Remaining"})]})]})]}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsxs)("div",{className:"flex justify-between text-sm text-indigo-200 mb-2",children:[(0,Nt.jsx)("span",{children:_.title}),(0,Nt.jsxs)("span",{children:[_.weight,"% of total"]})]}),(0,Nt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Nt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full",style:{width:"".concat((i+1)/_.questions.length*100,"%")}})})]}),(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:S.text}),"single-select"===S.type&&S.options&&(0,Nt.jsx)("div",{className:"space-y-3",children:S.options.map((e,t)=>{var n;const r=(null===(n=f[S.id])||void 0===n?void 0:n.includes(t))||!1;return(0,Nt.jsx)("button",{onClick:()=>y(S.id,t),className:"w-full text-left p-4 rounded-xl border-2 transition-all ".concat(r?"border-blue-500 bg-blue-500 bg-opacity-20":"border-white border-opacity-20 hover:border-blue-400 hover:bg-white hover:bg-opacity-5"),children:(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center ".concat(r?"border-blue-500 bg-blue-500":"border-white border-opacity-50"),children:r&&(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full bg-white"})}),(0,Nt.jsx)("span",{className:"text-white",children:e})]})},t)})}),"multi-select"===S.type&&S.options&&(0,Nt.jsx)("div",{className:"space-y-3",children:S.options.map((e,t)=>{var n;const r=(null===(n=f[S.id])||void 0===n?void 0:n.includes(t))||!1;return(0,Nt.jsx)("button",{onClick:()=>y(S.id,t),className:"w-full text-left p-4 rounded-xl border-2 transition-all ".concat(r?"border-purple-500 bg-purple-500 bg-opacity-20":"border-white border-opacity-20 hover:border-purple-400 hover:bg-white hover:bg-opacity-5"),children:(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("div",{className:"w-6 h-6 rounded-md border-2 mr-4 flex items-center justify-center ".concat(r?"border-purple-500 bg-purple-500":"border-white border-opacity-50"),children:r&&(0,Nt.jsx)(vk,{className:"w-4 h-4 text-white"})}),(0,Nt.jsx)("span",{className:"text-white",children:e})]})},t)})}),"text"===S.type&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("textarea",{value:o[S.id]||"",onChange:e=>{return t=S.id,n=e.target.value,void s(u(u({},o),{},{[t]:n}));var t,n},placeholder:"Type your answer here...",className:"w-full bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl p-4 text-white placeholder-indigo-200 focus:outline-none focus:ring-2 focus:ring-blue-500 h-40"}),(0,Nt.jsx)("p",{className:"text-sm text-indigo-200 mt-2",children:"Your answer will be evaluated by our AI system for quality and relevance."})]})]}),(0,Nt.jsxs)("div",{className:"flex justify-between",children:[(0,Nt.jsx)("button",{onClick:()=>{i>0?a(i-1):n>0&&(r(n-1),a(v[n-1].questions.length-1))},disabled:0===n&&0===i,className:"px-6 py-3 bg-white bg-opacity-20 text-white rounded-lg hover:bg-opacity-30 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:"Previous"}),(0,Nt.jsx)("button",{onClick:x,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all flex items-center",children:n===v.length-1&&i===_.questions.length-1?"Complete Assessment":"Next Question"})]})]})})})},pY=()=>{const{t:e,language:n}=At(),{user:r,token:i}=Pt(),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)("all"),[v,y]=(0,t.useState)([]);(0,t.useEffect)(()=>{h(r&&i?"":"Authentication required to access legal research documents")},[r,i]),(0,t.useEffect)(()=>{(async()=>{if(r&&i)try{const e=await fetch("/api/legal-research/documents/categories",{headers:{Authorization:"Bearer ".concat(i)}}),t=await e.json();t.success&&m(["all",...t.data.categories.map(e=>e.name)])}catch(e){console.error("Error fetching categories:",e)}})()},[r,i]),(0,t.useEffect)(()=>{(async()=>{if(r&&i)try{const e=await fetch("/api/legal-research/documents",{headers:{Authorization:"Bearer ".concat(i)}}),t=await e.json();t.success&&y(t.data)}catch(e){console.error("Error fetching documents:",e)}})()},[r,i]);const x=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},b=e=>{let{document:t}=e;return(0,Nt.jsx)("div",{className:"p-5 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 shadow-sm hover:shadow-md",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Nt.jsxs)("div",{className:"flex-1",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:t.title})]}),(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[(0,Nt.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full font-medium",children:t.category}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),t.language]}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.uploadDate]})]}),(0,Nt.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,Nt.jsxs)("span",{className:"flex items-center mr-4",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),t.fileName]}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),x(t.size)]})]})]}),(0,Nt.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,Nt.jsxs)("button",{onClick:()=>(e=>{u(e)})(t),className:"inline-flex items-center px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:[(0,Nt.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),(0,Nt.jsxs)("a",{href:t.path,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",onClick:e=>e.stopPropagation(),children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})})};return r&&i?(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Legal Research Documents"}),(0,Nt.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Access legal research documents including BNS, BNSS, BSA, Constitution, and Court Judgements."})]}),(0,Nt.jsxs)("div",{className:"mb-8 p-6 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-sm",children:[(0,Nt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Research Documents"})]}),(0,Nt.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Browse and access legal research documents including BNS, BNSS, BSA, Constitution, and Judgements."}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[(0,Nt.jsx)("div",{className:"md:col-span-5",children:(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Search research documents by title, category, or language...",className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white shadow-sm",disabled:s}),(0,Nt.jsx)("svg",{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,Nt.jsx)("div",{className:"md:col-span-3",children:(0,Nt.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white shadow-sm",disabled:s,children:[(0,Nt.jsx)("option",{value:"all",children:"All Categories"}),p.map(e=>(0,Nt.jsx)("option",{value:e,children:e},e))]})}),(0,Nt.jsx)("div",{className:"md:col-span-4",children:(0,Nt.jsx)("button",{onClick:async()=>{if(r&&i){if(a.trim()||"all"!==f){l(!0),h(""),u(null);try{let e="/api/legal-research/documents";const t=new URLSearchParams;a.trim()&&t.append("query",a),"all"!==f&&t.append("category",f),t.toString()&&(e+="?".concat(t.toString()));const n=await fetch(e,{headers:{Authorization:"Bearer ".concat(i)}}),r=await n.json();r.success?y(r.data):401===n.status||403===n.status?(h("Session has expired. Please sign in again."),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):h(r.message||"Failed to search documents")}catch(e){h("Connection error. Please try again."),console.error("Document search error:",e)}finally{l(!1)}}}else h("Authentication required to access legal research documents")},disabled:s||!a.trim()&&"all"===f,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-medium rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg",children:s?(0,Nt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Nt.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Nt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):(0,Nt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Nt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Documents"]})})})]}),(0,Nt.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm text-center",children:[(0,Nt.jsx)("div",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"BNS"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Bharatiya Nyaya Sanhita"})]}),(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm text-center",children:[(0,Nt.jsx)("div",{className:"text-green-600 dark:text-green-400 font-semibold",children:"BNSS"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Bharatiya Nagarik Suraksha Sanhita"})]}),(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm text-center",children:[(0,Nt.jsx)("div",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"BSA"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Bharatiya Sakshya Adhiniyam"})]}),(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm text-center",children:[(0,Nt.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 font-semibold",children:"Constitution"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Indian Constitution"})]}),(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm text-center",children:[(0,Nt.jsx)("div",{className:"text-red-600 dark:text-red-400 font-semibold",children:"Judgements"}),(0,Nt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Court Judgements"})]})]})]}),d&&(0,Nt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,Nt.jsxs)("div",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Nt.jsx)("p",{className:"text-red-700 dark:text-red-300",children:d})]}),(d.includes("session has expired")||d.includes("sign in"))&&(0,Nt.jsx)("div",{className:"mt-3",children:(0,Nt.jsxs)("a",{href:"/login",className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:["Sign In",(0,Nt.jsx)("svg",{className:"ml-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),(0,Nt.jsx)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,Nt.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsxs)("h3",{className:"text-lg font-medium text-blue-800 dark:text-blue-200",children:["Found ",v.length," research documents"]}),a&&(0,Nt.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['Search results for "',a,'" in ',f," category"]})]}),(0,Nt.jsxs)("button",{onClick:()=>{o(""),g("all");(async()=>{if(r&&i)try{const e="",t=await fetch("".concat(e,"/api/legal-research/documents"),{headers:{Authorization:"Bearer ".concat(i)}}),n=await t.json();n.success&&y(n.data)}catch(e){console.error("Error fetching documents:",e)}})()},className:"mt-2 md:mt-0 inline-flex items-center px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:[(0,Nt.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Search"]})]})}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 gap-6",children:v.length>0?v.map(e=>(0,Nt.jsx)(b,{document:e},e.id)):s?null:(0,Nt.jsx)("div",{className:"text-center py-12",children:(0,Nt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Nt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Nt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No documents found"}),(0,Nt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or browse all documents."}),(0,Nt.jsx)("div",{className:"mt-6",children:(0,Nt.jsxs)("button",{onClick:()=>{o(""),g("all");(async()=>{if(r&&i)try{const e=await fetch("/api/legal-research/documents",{headers:{Authorization:"Bearer ".concat(i)}}),t=await e.json();t.success&&y(t.data)}catch(e){console.error("Error fetching documents:",e)}})()},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[(0,Nt.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0H8v0z"})]}),"Browse All Documents"]})})]})})}),c&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Nt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,Nt.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Document Preview: ",c.title]}),(0,Nt.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,Nt.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full font-medium",children:c.category}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),c.language]}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.uploadDate]}),(0,Nt.jsxs)("span",{className:"flex items-center",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),x(c.size)]})]}),(0,Nt.jsx)("div",{className:"mb-4",children:(0,Nt.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,Nt.jsx)("span",{className:"font-medium",children:"File:"})," ",c.fileName]})}),(0,Nt.jsx)("div",{className:"flex space-x-4 mb-4",children:(0,Nt.jsxs)("a",{href:c.path,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:[(0,Nt.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]})}),(0,Nt.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:(0,Nt.jsx)("iframe",{src:c.path,className:"w-full h-96",title:c.title})})]})]})})]}):(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Nt.jsxs)("div",{className:"mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Legal Research Documents"}),(0,Nt.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Access legal research documents including BNS, BNSS, BSA, Constitution, and Court Judgements."})]}),(0,Nt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-8 text-center",children:(0,Nt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Nt.jsx)("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Nt.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Authentication Required"}),(0,Nt.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:d||"Please sign in to access legal research documents"}),(0,Nt.jsxs)("a",{href:"/login",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:["Sign In",(0,Nt.jsx)("svg",{className:"ml-2 -mr-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})})]})},mY=()=>(0,Nt.jsx)(Kt,{children:(0,Nt.jsx)(pY,{})}),fY=()=>{const e=fe(),t=e=>{const t="scenario-progress-the-inventory-that-changed-everything";switch(e){case"client-interview":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"client-interview",completedStages:[]}));break;case"digital-evidence":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"digital-evidence",completedStages:["client-interview"]}));break;case"bail-draft":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"bail-draft",completedStages:["client-interview","digital-evidence"]}));break;case"court-hearing":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"court-hearing",completedStages:["client-interview","digital-evidence","bail-draft"]}));break;case"assessment":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"assessment",completedStages:["client-interview","digital-evidence","bail-draft","court-hearing"]})),localStorage.setItem("assessment_total_score","85%");break;case"all-completed":localStorage.setItem(t,JSON.stringify({scenarioId:"the-inventory-that-changed-everything",currentStage:"assessment",completedStages:["client-interview","digital-evidence","bail-draft","court-hearing","assessment"]})),localStorage.setItem("assessment_total_score","85%");break;case"reset":localStorage.removeItem(t)}alert("Progress updated to: ".concat(e))};return(0,Nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-indigo-900 text-white p-8",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Progress Test Utility"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Nt.jsxs)("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-2xl border border-indigo-500",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Set Progress"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsx)("button",{onClick:()=>t("client-interview"),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Client Counseling"}),(0,Nt.jsx)("button",{onClick:()=>t("digital-evidence"),className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Digital Evidence"}),(0,Nt.jsx)("button",{onClick:()=>t("bail-draft"),className:"w-full px-4 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors",children:"Bail Draft"}),(0,Nt.jsx)("button",{onClick:()=>t("court-hearing"),className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:"Court Hearing"}),(0,Nt.jsx)("button",{onClick:()=>t("assessment"),className:"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors",children:"Assessment"}),(0,Nt.jsx)("button",{onClick:()=>t("all-completed"),className:"w-full px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-lg transition-colors",children:"All Completed"})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-2xl border border-indigo-500",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Actions"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsx)("button",{onClick:()=>t("reset"),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Reset Progress"}),(0,Nt.jsx)("button",{onClick:()=>e("/simulation-entrance"),className:"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors",children:"Go to Simulation Entrance"})]})]})]}),(0,Nt.jsxs)("div",{className:"mt-8 bg-gray-800 bg-opacity-50 p-6 rounded-2xl border border-indigo-500",children:[(0,Nt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Instructions"}),(0,Nt.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Nt.jsx)("li",{children:"Use this tool to test different progress states in the simulation"}),(0,Nt.jsx)("li",{children:'Click "Set Progress" buttons to simulate completing different stages'}),(0,Nt.jsx)("li",{children:'Click "Reset Progress" to start fresh'}),(0,Nt.jsx)("li",{children:'Click "Go to Simulation Entrance" to see the progress-based view'})]})]})]})})};const gY=function(){return(0,Nt.jsx)(pt,{children:(0,Nt.jsx)(Tt,{children:(0,Nt.jsx)("div",{className:"App",children:(0,Nt.jsxs)(Oe,{children:[(0,Nt.jsx)(Pe,{path:"/",element:(0,Nt.jsx)(rn,{})}),(0,Nt.jsx)(Pe,{path:"/login",element:(0,Nt.jsx)(ek,{})}),(0,Nt.jsx)(Pe,{path:"/dashboard",element:(0,Nt.jsx)(HC,{})}),(0,Nt.jsx)(Pe,{path:"/profile",element:(0,Nt.jsx)(pk,{})}),(0,Nt.jsx)(Pe,{path:"/edit-profile",element:(0,Nt.jsx)(fk,{})}),(0,Nt.jsx)(Pe,{path:"/account/profile",element:(0,Nt.jsx)(pk,{})}),(0,Nt.jsx)(Pe,{path:"/account/edit-profile",element:(0,Nt.jsx)(fk,{})}),(0,Nt.jsx)(Pe,{path:"/subscription",element:(0,Nt.jsx)(mk,{})}),(0,Nt.jsx)(Pe,{path:"/account/subscription",element:(0,Nt.jsx)(mk,{})}),(0,Nt.jsx)(Pe,{path:"/payment",element:(0,Nt.jsx)(nk,{})}),(0,Nt.jsx)(Pe,{path:"/cart",element:(0,Nt.jsx)(ak,{})}),(0,Nt.jsx)(Pe,{path:"/legal-assistant",element:(0,Nt.jsx)(sk,{})}),(0,Nt.jsx)(Pe,{path:"/courtroom",element:(0,Nt.jsx)(gn,{})}),(0,Nt.jsx)(Pe,{path:"/multiplayer",element:(0,Nt.jsx)(XC,{})}),(0,Nt.jsx)(Pe,{path:"/about",element:(0,Nt.jsx)(YC,{})}),(0,Nt.jsx)(Pe,{path:"/contact",element:(0,Nt.jsx)(QC,{})}),(0,Nt.jsx)(Pe,{path:"/test",element:(0,Nt.jsx)(tk,{})}),(0,Nt.jsx)(Pe,{path:"/client-interview",element:(0,Nt.jsx)(Fz,{})}),(0,Nt.jsx)(Pe,{path:"/optimized-client-interview",element:(0,Nt.jsx)(Fz,{})}),(0,Nt.jsx)(Pe,{path:"/digital-evidence",element:(0,Nt.jsx)(Uz,{})}),(0,Nt.jsx)(Pe,{path:"/bail-draft",element:(0,Nt.jsx)(Zz,{})}),(0,Nt.jsx)(Pe,{path:"/progress-test",element:(0,Nt.jsx)(fY,{})}),(0,Nt.jsx)(Pe,{path:"/scenarios",element:(0,Nt.jsx)(hn,{})}),(0,Nt.jsx)(Pe,{path:"/scenarios/:id",element:(0,Nt.jsx)(Ak,{})}),(0,Nt.jsx)(Pe,{path:"/simulation-entrance",element:(0,Nt.jsx)(cY,{})}),(0,Nt.jsx)(Pe,{path:"/scenario-simulation",element:(0,Nt.jsx)(Lk,{})}),(0,Nt.jsx)(Pe,{path:"/legal-assessment",element:(0,Nt.jsx)(hY,{})}),(0,Nt.jsx)(Pe,{path:"/legal-research",element:(0,Nt.jsx)(mY,{})}),(0,Nt.jsx)(Pe,{path:"/legal-assistant",element:(0,Nt.jsx)(sk,{})}),(0,Nt.jsx)(Pe,{path:"/document-summary",element:(0,Nt.jsx)(lk,{})}),(0,Nt.jsx)(Pe,{path:"/document-key-points",element:(0,Nt.jsx)(ck,{})}),(0,Nt.jsx)(Pe,{path:"/document-sections",element:(0,Nt.jsx)(uk,{})}),(0,Nt.jsx)(Pe,{path:"/document-full",element:(0,Nt.jsx)(dk,{})}),(0,Nt.jsx)(Pe,{path:"/document-chat",element:(0,Nt.jsx)(hk,{})}),(0,Nt.jsx)(Pe,{path:"/multiplayer",element:(0,Nt.jsx)(XC,{})}),(0,Nt.jsx)(Pe,{path:"/about",element:(0,Nt.jsx)(YC,{})}),(0,Nt.jsx)(Pe,{path:"/contact",element:(0,Nt.jsx)(QC,{})})]})})})})},vY=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,Nt.jsx)(t.StrictMode,{children:(0,Nt.jsx)(Tt,{children:(0,Nt.jsx)(kt,{children:(0,Nt.jsx)(gY,{})})})})),vY()})()})();
//# sourceMappingURL=main.889d7272.js.map